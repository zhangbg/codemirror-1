!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.emmetCodeMirror=t()}}(function(){var define,module,exports;return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t){var e=t("../lib/assets/resources"),n=t("../lib/snippets.json");e.setVocabulary(n,!0)},{"../lib/assets/resources":30,"../lib/snippets.json":65}],2:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(){if(CodeMirror.version>="3.1")return CodeMirror.Pass;throw CodeMirror.Pass}function n(t){return function(e){s.setupContext(e);var n;return e.operation(function(){n=i(t,e)}),n}}function r(t){return function(e){s.setupContext(e);var n=s.selectionList(),r=null;return e.operation(function(){for(var o=0,a=n.length;a>o&&(s.selectionIndex=o,r=i(t,e),r!==CodeMirror.Pass);o++);}),r}}function i(t,n){if("expand_abbreviation_with_tab"==t&&(n.somethingSelected()||!s.isValidSyntax()))return e();var r=!1;try{if(r=u.run(t,s),!r&&"insert_formatted_line_break_only"==t)return e()}catch(i){}return r}function o(t){return c?t:t.replace("Cmd","Ctrl")}function a(t,e){t=o(t),CodeMirror.keyMap["default"][t]="emmet."+e}var s=t("./editor"),u=t("emmet"),c=/Mac/.test(navigator.platform),l={"Cmd-E":"expand_abbreviation",Tab:"expand_abbreviation_with_tab","Cmd-D":"balance_outward","Shift-Cmd-D":"balance_inward","Cmd-M":"matching_pair","Shift-Cmd-A":"wrap_with_abbreviation","Ctrl-Alt-Right":"next_edit_point","Ctrl-Alt-Left":"prev_edit_point","Cmd-L":"select_line","Cmd-Shift-M":"merge_lines","Cmd-/":"toggle_comment","Cmd-J":"split_join_tag","Cmd-K":"remove_tag","Shift-Cmd-Y":"evaluate_math_expression","Ctrl-Up":"increment_number_by_1","Ctrl-Down":"decrement_number_by_1","Ctrl-Alt-Up":"increment_number_by_01","Ctrl-Alt-Down":"decrement_number_by_01","Shift-Ctrl-Up":"increment_number_by_10","Shift-Ctrl-Down":"decrement_number_by_10","Shift-Cmd-.":"select_next_item","Shift-Cmd-,":"select_previous_item","Cmd-B":"reflect_css_value",Enter:"insert_formatted_line_break_only"},f=["prev_edit_point","next_edit_point","merge_lines","reflect_css_value","select_next_item","select_previous_item","wrap_with_abbreviation","update_tag","insert_formatted_line_break_only"];return CodeMirror.defineOption?CodeMirror.defineOption("profile","html"):CodeMirror.defaults.profile="html",Object.keys(l).forEach(function(t){var e=l[t],i="emmet."+e;CodeMirror.commands[i]||(CodeMirror.commands[i]=~f.indexOf(e)?n(e):r(e)),a(t,e)}),{emmet:u,editor:s,setKeymap:function(t){Object.keys(t).forEach(function(e){a(e,t[e])})},clearKeymap:function(){var t=CodeMirror.keyMap["default"],e=/^emmet\./;Object.keys(t).forEach(function(n){e.test(t[n])&&delete t[n]})},addKeybinding:a,removeKeybinding:function(t){t=o(t);var e=CodeMirror.keyMap["default"];t in e?delete e[t]:(t="emmet."+t,Object.keys(e).forEach(function(n){e[n]===t&&delete e[n]}))}}})},{"./editor":3,emmet:37}],3:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t,e){return arguments.length>2&&"object"!=typeof e&&(e={line:arguments[1],ch:arguments[2]}),t.indexFromPos(e)}function n(t,e){return t.posFromIndex(e)}var r=t("emmet"),i=r.utils.common,o=r.utils.action,a=r.resources,s=r.tabStops;return{context:null,selectionIndex:0,modeMap:{"text/html":"html","application/xml":"xml","text/xsl":"xsl","text/css":"css","text/x-less":"less","text/x-scss":"scss","text/x-sass":"sass"},setupContext:function(t,e){this.context=t,this.selectionIndex=e||0;var n="	";t.getOption("indentWithTabs")||(n=i.repeatString(" ",t.getOption("indentUnit"))),a.setVariable("indentation",n)},selectionList:function(){var t=this.context;return t.listSelections().map(function(n){var r=e(t,n.anchor),i=e(t,n.head);return{start:Math.min(r,i),end:Math.max(r,i)}})},getCaretPos:function(){return this.getSelectionRange().start},setCaretPos:function(t){this.createSelection(t)},getSelectionRange:function(){return this.selectionList()[this.selectionIndex]},createSelection:function(t,e){"undefined"==typeof e&&(e=t);var r=this.selectionList(),i=this.context;r[this.selectionIndex]={start:t,end:e},this.context.setSelections(r.map(function(t){return{head:n(i,t.start),anchor:n(i,t.end)}}))},getSelection:function(){var t=this.getSelectionRange();return t.start=n(this.context,t.start),t.end=n(this.context,t.end),this.context.getRange(t.start,t.end)},getCurrentLineRange:function(){var t=n(this.context,this.getCaretPos());return{start:e(this.context,t.line,0),end:e(this.context,t.line,this.context.getLine(t.line).length)}},getCurrentLine:function(){var t=n(this.context,this.getCaretPos());return this.context.getLine(t.line)||""},replaceContent:function(t,e,r,o){"undefined"==typeof r&&(r="undefined"==typeof e?this.getContent().length:e),"undefined"==typeof e&&(e=0),o||(t=i.padString(t,i.getLinePaddingFromPosition(this.getContent(),e)));var a=s.extract(t,{escape:function(t){return t}});t=a.text;var u=a.tabstops[0]||{start:t.length,end:t.length};u.start+=e,u.end+=e,this.context.replaceRange(t,n(this.context,e),n(this.context,r)),this.createSelection(u.start,u.end)},getContent:function(){return this.context.getValue()},getSyntax:function(){var t=this.context.getOption("mode");return this.modeMap[t]||o.detectSyntax(this,t)},getProfileName:function(){return this.context.getOption("profile")?this.context.getOption("profile"):o.detectProfile(this)},prompt:function(t){return prompt(t)},getFilePath:function(){return location.href},isValidSyntax:function(){return a.hasSyntax(this.getSyntax())}}})},{emmet:37}],4:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t){return t[t.length-1]}function n(t,e){var n=u.outputInfo(t),r=n.content,i=l(t.getSelectionRange());if(d&&!d.range.equal(i)&&(d=null),d&&i.length())if("in"==e){if("tag"==d.type&&!d.close)return!1;if(d.range.equal(d.outerRange))d.range=d.innerRange;else{var o=s.narrowToNonSpace(r,d.innerRange);d=a.find(r,o.start+1),d&&d.range.equal(i)&&d.outerRange.equal(i)&&(d.range=d.innerRange)}}else!d.innerRange.equal(d.outerRange)&&d.range.equal(d.innerRange)&&i.equal(d.range)?d.range=d.outerRange:(d=a.find(r,i.start),d&&d.range.equal(i)&&d.innerRange.equal(i)&&(d.range=d.outerRange));else d=a.find(r,i.start);return d&&(d.innerRange.equal(i)&&(d.range=d.outerRange),!d.range.equal(i))?(t.createSelection(d.range.start,d.range.end),!0):(d=null,!1)}function r(t,n){var r=[t.range(!0)];r.push(t.valueRange(!0));var i=p.nestedSectionsInRule(t),o=t.list();if(o.length||i.length){var a=Number.POSITIVE_INFINITY,s=-1;o.length&&(a=o[0].namePosition(!0),s=e(o).range(!0).end),i.length&&(i[0].start<a&&(a=i[0].start),e(i).end>s&&(s=e(i).end)),r.push(l.create2(a,s))}r=r.concat(i);var u=f.propertyFromPosition(t,n)||o[0];if(u){r.push(u.range(!0));var c=u.valueRange(!0);u.end()||(c._unterminated=!0),r.push(c)}return r}function i(t,e){var n;if("string"==typeof t){var i=p.matchEnclosingRule(t,e);i&&(n=f.parse(i.substring(t),{offset:i.start}))}else n=t;if(!n)return null;var o=r(n,e);return o=o.filter(function(t){return!!t.length}),s.unique(o,function(t){return t.valueOf()})}function o(t,n){var r=u.outputInfo(t),o=r.content,a=l(t.getSelectionRange()),c=i(r.content,a.start);if(!c&&a.length())try{var p=f.parse(a.substring(r.content),{offset:a.start});c=i(p,a.start)}catch(d){}if(!c)return!1;c=l.sort(c,!0);var h=s.find(c,function(t){return t.equal(a)});if(h||(h=s.find(c,function(t){return t._unterminated?t.include(a.start):t.inside(a.start)})),!h)return!1;var m=c.indexOf(h);if(h.equal(a)&&(m+="out"==n?1:-1),0>m||m>=c.length)if(m>=c.length&&"out"==n){pos=h.start-1;var g=i(o,pos);g&&(h=e(g.filter(function(t){return t.inside(pos)})))}else h=0>m&&"in"==n?null:null;else h=c[m];return h?(t.createSelection(h.start,h.end),!0):!1}var a=t("../assets/htmlMatcher"),s=t("../utils/common"),u=t("../utils/editor"),c=t("../utils/action"),l=t("../assets/range"),f=t("../editTree/css"),p=t("../utils/cssSections"),d=null;return{balance:function(t,e){e=String((e||"out").toLowerCase());var r=u.outputInfo(t);return c.isSupportedCSS(r.syntax)?o(t,e):n(t,e)},balanceInwardAction:function(t){return this.balance(t,"in")},balanceOutwardAction:function(t){return this.balance(t,"out")},goToMatchingPairAction:function(t){var e=String(t.getContent()),n=t.getCaretPos();"<"==e.charAt(n)&&n++;var r=a.tag(e,n);return r&&r.close?(t.setCaretPos(r.open.range.inside(n)?r.close.range.start:r.open.range.start),!0):!1}}})},{"../assets/htmlMatcher":25,"../assets/range":29,"../editTree/css":35,"../utils/action":67,"../utils/common":70,"../utils/cssSections":71,"../utils/editor":72}],5:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t,e,n){return n=n||0,e.charAt(n)==t.charAt(0)&&e.substr(n,t.length)==t}function n(t,e,n){var r=t.getFilePath(),s="application/octet-stream";if(null===r)throw"You should save your file before using this action";var u=i.locateFile(r,e);if(null===u)throw"Can't find "+e+" file";return i.read(u,function(r,c){if(r)throw"Unable to read "+u+": "+r;var l=o.encode(String(c));if(!l)throw"Can't encode file content to base64";l="data:"+(a.mimeTypes[String(i.getExt(u))]||s)+";base64,"+l,t.replaceContent("$0"+l,n,n+e.length)}),!0}function r(t,e,n){var r=String(t.prompt("Enter path to file (absolute or relative)"));if(!r)return!1;var a=i.createPath(t.getFilePath(),r);if(!a)throw"Can't save file";return i.save(a,o.decode(e.replace(/^data\:.+?;.+?,/,""))),t.replaceContent("$0"+r,n,n+e.length),!0}var i=t("../plugin/file"),o=t("../utils/base64"),a=t("../utils/action"),s=t("../utils/editor");return{encodeDecodeDataUrlAction:function(t){var i=String(t.getSelection()),o=t.getCaretPos(),a=s.outputInfo(t);if(!i)for(var u,c=a.content;o-->=0;){if(e("src=",c,o)){(u=c.substr(o).match(/^(src=(["'])?)([^'"<>\s]+)\1?/))&&(i=u[3],o+=u[1].length);break}if(e("url(",c,o)){(u=c.substr(o).match(/^(url\((['"])?)([^'"\)\s]+)\1?/))&&(i=u[3],o+=u[1].length);break}}return i?e("data:",i)?r(t,i,o):n(t,i,o):!1}}})},{"../plugin/file":60,"../utils/action":67,"../utils/base64":68,"../utils/editor":72}],6:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(){function t(t,e,n){function r(t){for(var e=t;e>=0;){var n=o.charAt(e);if("\n"==n||"\r"==n)break;e--}return o.substring(e,t)}e=e||1,n=n||0;for(var i=t.getCaretPos()+n,o=String(t.getContent()),a=o.length,s=-1,u=/^\s+$/;a>=i&&i>=0;){i+=e;var c=o.charAt(i),l=o.charAt(i+1),f=o.charAt(i-1);switch(c){case'"':case"'":l==c&&"="==f&&(s=i+1);break;case">":"<"==l&&(s=i+1);break;case"\n":case"\r":u.test(r(i-1))&&(s=i)}if(-1!=s)break}return s}return{previousEditPointAction:function(e){var n=e.getCaretPos(),r=t(e,-1);return r==n&&(r=t(e,-1,-2)),-1!=r?(e.setCaretPos(r),!0):!1},nextEditPointAction:function(e){var n=t(e,1);return-1!=n?(e.setCaretPos(n),!0):!1}}})},{}],7:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){var e=t("../utils/action"),n=t("../utils/common"),r=t("../utils/math"),i=t("../assets/range");return{evaluateMathAction:function(t){var o=t.getContent(),a=".+-*/\\",s=i(t.getSelectionRange());if(s.length()||(s=e.findExpressionBounds(t,function(t){return n.isNumeric(t)||-1!=a.indexOf(t)})),s&&s.length()){var u=s.substring(o);u=u.replace(/([\d\.\-]+)\\([\d\.\-]+)/g,"round($1/$2)");try{var c=n.prettifyNumber(r.evaluate(u));return t.replaceContent(c,s.start,s.end),t.setCaretPos(s.start+c.length),!0}catch(l){}}return!1}}})},{"../assets/range":29,"../utils/action":67,"../utils/common":70,"../utils/math":73}],8:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t){var e=r(t.getSelectionRange()),n=String(t.getContent());if(e.length())return e.substring(n);var i=t.getCurrentLineRange();return s.extractAbbreviation(n.substring(i.start,e.start))}var n=t("../assets/handlerList"),r=t("../assets/range"),i=t("../assets/preferences"),o=t("../utils/common"),a=t("../utils/editor"),s=t("../utils/action"),u=t("../resolver/cssGradient"),c=t("../parser/abbreviation"),l=n.create();return l.add(function(t,n,r){var o=t.getSelectionRange().end,a=e(t);if(a){var u=c.expand(a,{syntax:n,profile:r,contextNode:s.captureContext(t)});if(u){var l=o-a.length,f=o,p=i.getArray("css.syntaxes");if(p&&~p.indexOf(n)){var d=t.getContent();";"==d.charAt(o)&&";"==u.charAt(u.length-1)&&f++}return t.replaceContent(u,l,f),!0}}return!1},{order:-1}),l.add(u.expandAbbreviationHandler.bind(u)),{expandAbbreviationAction:function(t,e,n){var r=o.toArray(arguments),i=a.outputInfo(t,e,n);return r[1]=i.syntax,r[2]=i.profile,l.exec(!1,r)},expandAbbreviationWithTabAction:function(t,e,n){var i=t.getSelection(),a="	";if(i){var s=r(t.getSelectionRange()),u=o.padString(i,a);t.replaceContent(a+"${0}",t.getCaretPos());var c=r(t.getCaretPos(),s.length());return t.replaceContent(u,c.start,c.end,!0),t.createSelection(c.start,c.start+u.length),!0}return this.expandAbbreviationAction(t,e,n)||t.replaceContent(a,t.getCaretPos()),!0},_defaultHandler:function(t,e,n){var r=t.getSelectionRange().end,i=this.findAbbreviation(t);if(i){var o=s.captureContext(t),a=c.expand(i,e,n,o);if(a)return t.replaceContent(a,r-i.length,r),!0}return!1},addHandler:function(t,e){l.add(t,e)},removeHandler:function(t){l.remove(t)},findAbbreviation:e}})},{"../assets/handlerList":24,"../assets/preferences":27,"../assets/range":29,"../parser/abbreviation":52,"../resolver/cssGradient":62,"../utils/action":67,"../utils/common":70,"../utils/editor":72}],9:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t){return t=t.replace(/^\-/,""),~t.indexOf(".")?t.split(".")[0].length:t.length}var n=t("../utils/common"),r=t("../utils/action");return{increment01Action:function(t){return this.incrementNumber(t,.1)},increment1Action:function(t){return this.incrementNumber(t,1)},increment10Action:function(t){return this.incrementNumber(t,10)},decrement01Action:function(t){return this.incrementNumber(t,-.1)},decrement1Action:function(t){return this.incrementNumber(t,-1)},decrement10Action:function(t){return this.incrementNumber(t,-10)},incrementNumber:function(t,i){var o=!1,a=!1,s=r.findExpressionBounds(t,function(t,e,r){return n.isNumeric(t)?!0:"."==t?n.isNumeric(r.charAt(e+1))?a?!1:a=!0:!1:"-"==t?o?!1:o=!0:!1});if(s&&s.length()){var u=s.substring(String(t.getContent())),c=parseFloat(u);if(!isNaN(c)){if(c=n.prettifyNumber(c+i),/^(\-?)0+[1-9]/.test(u)){var l="";RegExp.$1&&(l="-",c=c.substring(1));var f=c.split(".");f[0]=n.zeroPadString(f[0],e(u)),c=l+f.join(".")}return t.replaceContent(c,s.start,s.end),t.createSelection(s.start,s.start+c.length),!0}}return!1}}})},{"../utils/action":67,"../utils/common":70}],10:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){var e=t("../assets/preferences"),n=t("../utils/common"),r=(t("../assets/resources"),t("../assets/htmlMatcher")),i=t("../utils/editor"),o=["html","xml","xsl"];return e.define("css.closeBraceIndentation","\n","Indentation before closing brace of CSS rule. Some users prefere indented closing brace of CSS rule for better readability. This preference’s value will be automatically inserted before closing brace when user adds newline in newly created CSS rule (e.g. when “Insert formatted linebreak” action will be performed in CSS file). If you’re such user, you may want to write put a value like <code>\\n\\t</code> in this preference."),{insertLineBreakAction:function(t){if(!this.insertLineBreakOnlyAction(t)){for(var e,n=i.getCurrentLinePadding(t),r=String(t.getContent()),o=t.getCaretPos(),a=r.length,s="\n",u=t.getCurrentLineRange(),c="",l=u.end+1;a>l&&(e=r.charAt(l)," "==e||"	"==e);l++)c+=e;c.length>n.length?t.replaceContent(s+c,o,o,!0):t.replaceContent(s,o)}return!0},insertLineBreakOnlyAction:function(t){var a=i.outputInfo(t),s=t.getCaretPos(),u="\n",c="	";if(~o.indexOf(a.syntax)){var l=r.tag(a.content,s);if(l&&!l.innerRange.length())return t.replaceContent(u+c+n.getCaretPlaceholder()+u,s),!0}else if("css"==a.syntax){var f=a.content;if(s&&"{"==f.charAt(s-1)){var p=e.get("css.closeBraceIndentation"),d="}"==f.charAt(s);if(!d)for(var h,m=s,g=f.length;g>m&&(h=f.charAt(m),"{"!=h);m++)if("}"==h){p="",d=!0;break}d||(p+="}");var b=u+c+n.getCaretPlaceholder()+p;return t.replaceContent(b,s),!0}}return!1}}})},{"../assets/htmlMatcher":25,"../assets/preferences":27,"../assets/resources":30,"../utils/common":70,"../utils/editor":72}],11:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t,e,r){t=t.toLowerCase(),r=r||{},"string"==typeof r&&(r={label:r}),r.label||(r.label=n(t)),i[t]={name:t,fn:e,options:r}}function n(t){return r.trim(t.charAt(0).toUpperCase()+t.substring(1).replace(/_[a-z]/g,function(t){return" "+t.charAt(1).toUpperCase()}))}var r=t("../utils/common"),i={},o={base64:t("./base64"),editPoints:t("./editPoints"),evaluateMath:t("./evaluateMath"),expandAbbreviation:t("./expandAbbreviation"),incrementDecrement:t("./incrementDecrement"),lineBreaks:t("./lineBreaks"),balance:t("./balance"),mergeLines:t("./mergeLines"),reflectCSSValue:t("./reflectCSSValue"),removeTag:t("./removeTag"),selectItem:t("./selectItem"),selectLine:t("./selectLine"),splitJoinTag:t("./splitJoinTag"),toggleComment:t("./toggleComment"),updateImageSize:t("./updateImageSize"),wrapWithAbbreviation:t("./wrapWithAbbreviation"),updateTag:t("./updateTag")},a=function(t,e){var n=o[t];return n[e].bind(n)};return e("encode_decode_data_url",a("base64","encodeDecodeDataUrlAction"),"Encode\\Decode data:URL image"),e("prev_edit_point",a("editPoints","previousEditPointAction"),"Previous Edit Point"),e("next_edit_point",a("editPoints","nextEditPointAction"),"Next Edit Point"),e("evaluate_math_expression",a("evaluateMath","evaluateMathAction"),"Numbers/Evaluate Math Expression"),e("expand_abbreviation_with_tab",a("expandAbbreviation","expandAbbreviationWithTabAction"),{hidden:!0}),e("expand_abbreviation",a("expandAbbreviation","expandAbbreviationAction"),"Expand Abbreviation"),e("insert_formatted_line_break_only",a("lineBreaks","insertLineBreakOnlyAction"),{hidden:!0}),e("insert_formatted_line_break",a("lineBreaks","insertLineBreakAction"),{hidden:!0}),e("balance_inward",a("balance","balanceInwardAction"),"Balance (inward)"),e("balance_outward",a("balance","balanceOutwardAction"),"Balance (outward)"),e("matching_pair",a("balance","goToMatchingPairAction"),"HTML/Go To Matching Tag Pair"),e("merge_lines",a("mergeLines","mergeLinesAction"),"Merge Lines"),e("reflect_css_value",a("reflectCSSValue","reflectCSSValueAction"),"CSS/Reflect Value"),e("remove_tag",a("removeTag","removeTagAction"),"HTML/Remove Tag"),e("select_next_item",a("selectItem","selectNextItemAction"),"Select Next Item"),e("select_previous_item",a("selectItem","selectPreviousItemAction"),"Select Previous Item"),e("split_join_tag",a("splitJoinTag","splitJoinTagAction"),"HTML/Split\\Join Tag Declaration"),e("toggle_comment",a("toggleComment","toggleCommentAction"),"Toggle Comment"),e("update_image_size",a("updateImageSize","updateImageSizeAction"),"Update Image Size"),e("wrap_with_abbreviation",a("wrapWithAbbreviation","wrapWithAbbreviationAction"),"Wrap With Abbreviation"),e("update_tag",a("updateTag","updateTagAction"),"HTML/Update Tag"),[1,-1,10,-10,.1,-.1].forEach(function(t){var n=t>0?"increment":"decrement",r=String(Math.abs(t)).replace(".","").substring(0,2),i=n+"_number_by_"+r,o=n+r+"Action",s="Numbers/"+n.charAt(0).toUpperCase()+n.substring(1)+" number by "+Math.abs(t);e(i,a("incrementDecrement",o),s)}),{add:e,get:function(t){return i[t.toLowerCase()]},run:function(t,e){Array.isArray(e)||(e=r.toArray(arguments,1));var n=this.get(t);if(!n)throw new Error('Action "'+t+'" is not defined');return n.fn.apply(n,e)},getAll:function(){return i},getList:function(){var t=this.getAll();return Object.keys(t).map(function(e){return t[e]})},getMenu:function(t){var e=[];return t=t||[],this.getList().forEach(function(i){if(!i.options.hidden&&!~t.indexOf(i.name)){var o=n(i.name),a=e;if(i.options.label){var s=i.options.label.split("/");o=s.pop();for(var u,c;u=s.shift();)c=r.find(a,function(t){return"submenu"==t.type&&t.name==u}),c||(c={name:u,type:"submenu",items:[]},a.push(c)),a=c.items}a.push({type:"action",name:i.name,label:o})}}),e},getActionNameForMenuTitle:function(t,e){return r.find(e||this.getMenu(),function(e){return"action"!=e.type?this.getActionNameForMenuTitle(t,e.items):e.label==t||e.name==t?e.name:void 0},this)}}})},{"../utils/common":70,"./balance":4,"./base64":5,"./editPoints":6,"./evaluateMath":7,"./expandAbbreviation":8,"./incrementDecrement":9,"./lineBreaks":10,"./mergeLines":12,"./reflectCSSValue":13,"./removeTag":14,"./selectItem":15,"./selectLine":16,"./splitJoinTag":17,"./toggleComment":18,"./updateImageSize":19,"./updateTag":20,"./wrapWithAbbreviation":21}],12:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){var e=t("../assets/htmlMatcher"),n=t("../utils/common"),r=t("../utils/editor"),i=t("../assets/range");return{mergeLinesAction:function(t){var o=r.outputInfo(t),a=i(t.getSelectionRange());if(!a.length()){var s=e.find(o.content,t.getCaretPos());s&&(a=s.outerRange)}if(a.length()){for(var u=a.substring(o.content),c=n.splitByLines(u),l=1;l<c.length;l++)c[l]=c[l].replace(/^\s+/,"");u=c.join("").replace(/\s{2,}/," ");var f=u.length;return u=n.escapeText(u),t.replaceContent(u,a.start,a.end),t.createSelection(a.start,a.start+f),!0}return!1}}})},{"../assets/htmlMatcher":25,"../assets/range":29,"../utils/common":70,"../utils/editor":72}],13:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t,e,n){function r(t){var e=h.outputInfo(t),n=t.getCaretPos(),r=f.parseFromPosition(e.content,n);if(r){var i=r.itemFromPosition(n,!0);if(i){var o=r.source,a=r.options.offset,s=n-a-i.range().start;return g.exec(!1,[i]),o!==r.source?{data:r.source,start:a,end:a+o.length,caret:a+i.range().start+s}:void 0}}}function i(t){t=f.baseName(t);var e,n="^(?:\\-\\w+\\-)?";return new RegExp("opacity"!=t&&"filter"!=t||!c.get("css.reflect.oldIEOpacity")?(e=t.match(/^border-radius-(top|bottom)(left|right)/))?n+"(?:"+t+"|border-"+e[1]+"-"+e[2]+"-radius)$":(e=t.match(/^border-(top|bottom)-(left|right)-radius/))?n+"(?:"+t+"|border-radius-"+e[1]+e[2]+")$":n+t+"$":n+"(?:opacity|filter)$")}function o(t,e){var n=/^\-(\w+)\-/,r=n.test(t)?RegExp.$1.toLowerCase():"",i=f.findParts(e);return i.reverse(),i.forEach(function(t){var i=t.substring(e).replace(n,""),o=l.vendorPrefixes(i);o&&(r&&~o.indexOf(r)&&(i="-"+r+"-"+i),e=p.replaceSubstring(e,i,t))}),e}function a(t,e){var n=s(t.name(),t.value(),e.name(),e.value());n=o(e.name(),n),e.value(n)}function s(t,e,n,r){if(t=f.baseName(t),n=f.baseName(n),"opacity"==t&&"filter"==n)return r.replace(/opacity=[^)]*/i,"opacity="+Math.floor(100*parseFloat(e)));if("filter"==t&&"opacity"==n){var i=e.match(/opacity=([^)]*)/i);return i?p.prettifyNumber(parseInt(i[1],10)/100):r}return e}var u=t("../assets/handlerList"),c=t("../assets/preferences"),l=t("../resolver/css"),f=t("../editTree/css"),p=t("../utils/common"),d=t("../utils/action"),h=t("../utils/editor"),m=t("../resolver/cssGradient");c.define("css.reflect.oldIEOpacity",!1,"Support IE6/7/8 opacity notation, e.g. <code>filter:alpha(opacity=...)</code>.		Note that CSS3 and SVG also provides <code>filter</code> property so this option is disabled by default.");var g=u.create();return n=n||{},n.exports={reflectCSSValueAction:function(t){return"css"!=t.getSyntax()?!1:d.compoundUpdate(t,r(t))},_defaultHandler:function(t){var e=i(t.name());t.parent.list().forEach(function(n){e.test(n.name())&&a(t,n)})},addHandler:function(t,e){g.add(t,e)},removeHandler:function(t){g.remove(t)}},g.add(n.exports._defaultHandler.bind(n.exports),{order:-1}),g.add(m.reflectValueHandler.bind(m)),n.exports})},{"../assets/handlerList":24,"../assets/preferences":27,"../editTree/css":35,"../resolver/css":61,"../resolver/cssGradient":62,"../utils/action":67,"../utils/common":70,"../utils/editor":72}],14:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){var e=t("../utils/common"),n=t("../utils/editor"),r=t("../assets/htmlMatcher");return{removeTagAction:function(t){var i=n.outputInfo(t),o=r.tag(i.content,t.getCaretPos());if(o){if(o.close){var a=e.narrowToNonSpace(i.content,o.innerRange),s=e.findNewlineBounds(i.content,a.start),u=e.getLinePadding(s.substring(i.content)),c=a.substring(i.content);c=e.unindentString(c,u),t.replaceContent(e.getCaretPlaceholder()+e.escapeText(c),o.outerRange.start,o.outerRange.end)}else t.replaceContent(e.getCaretPlaceholder(),o.range.start,o.range.end);return!0}return!1}}})},{"../assets/htmlMatcher":25,"../utils/common":70,"../utils/editor":72}],15:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t,e,n,r){for(var i,o,a=x.outputInfo(t).content,s=a.length,u=b(-1,0),c=b(t.getSelectionRange()),l=c.start,f=1e5;l>=0&&s>l&&--f>0;){if(i=n(a,l,e)){if(u.equal(i))break;if(u=i.clone(),o=r(i.substring(a),i.start,c.clone()))return t.createSelection(o.start,o.end),!0;l=e?i.start:i.end-1}l+=e?-1:1}return!1}function n(t){var n=!0;return e(t,!1,function(t,e){return n?(n=!1,s(t,e)):u(t,e)},function(t,e,n){return a(t,e,n,!1)})}function r(t){return e(t,!0,u,function(t,e,n){return a(t,e,n,!0)})}function i(t,e,n){n=n||0;var r,i,a=[],s=-1,u="",l="";return e.forEach(function(e){switch(e.type){case"tag":i=t.substring(e.start,e.end),/^<[\w\:\-]/.test(i)&&a.push(b({start:e.start+1,end:e.end}));break;case"attribute":s=e.start,u=t.substring(e.start,e.end);break;case"string":a.push(b(s,e.end-s)),r=b(e),l=r.substring(t),c(l.charAt(0))&&r.start++,c(l.charAt(l.length-1))&&r.end--,a.push(r),"class"==u&&(a=a.concat(o(r.substring(t),r.start)))}}),a=a.filter(function(t){return t.length()?(t.shift(n),!0):void 0}),v.unique(a,function(t){return t.toString()})}function o(t,e){e=e||0;var n=[],r=w.create(t);r.eatSpace(),r.start=r.pos;for(var i;i=r.next();)/[\s\u00a0]/.test(i)&&(n.push(b(r.start+e,r.pos-r.start-1)),r.eatSpace(),r.start=r.pos);return n.push(b(r.start+e,r.pos-r.start)),n}function a(t,e,n,r){var o=i(t,k.parse(t),e);r&&o.reverse();var a=v.find(o,function(t){return t.equal(n)});if(a){var s=o.indexOf(a);return s<o.length-1?o[s+1]:null}if(r)return v.find(o,function(t){return t.start<n.start});if(!a){var u=o.filter(function(t){return t.inside(n.end)});if(u.length>1)return u[1]}return v.find(o,function(t){return t.end>n.end})}function s(t,e){for(var n;e>=0;){if(n=u(t,e))return n;e--}return null}function u(t,e){var n;return"<"==t.charAt(e)&&(n=t.substring(e,t.length).match(C))?b(e,n[0]):void 0}function c(t){return'"'==t||"'"==t}function l(t){var e=[t.nameRange(!0)],n=_.nestedSectionsInRule(t);return n.forEach(function(t){e.push(b.create2(t.start,t._selectorEnd))}),t.list().forEach(function(t){e=e.concat(f(t))}),e=b.sort(e),e=e.filter(function(t){return!!t.length()}),v.unique(e,function(t){return t.toString()})}function f(t){var e=t.valueRange(!0),n=[t.range(!0),e],r=t.value();return t.valueParts().forEach(function(t){var i=t.clone();n.push(i.shift(e.start));var o=w.create(t.substring(r));if(o.match(/^[\w\-]+\(/,!0)){o.start=o.pos,o.backUp(1),o.skipToPair("(",")"),o.backUp(1);var a=o.current();n.push(b(i.start+o.start,a)),S.findParts(a).forEach(function(t){n.push(b(i.start+o.start+t.start,t.substring(a)))})}}),n}function p(t,e,n){var r=l(t);n&&r.reverse();var i=v.find(r,function(t){return t.equal(e)});if(i)return r[r.indexOf(i)+1];var o=r.filter(function(t){return t.inside(e.end)});if(o.length)return o.sort(function(t,e){return t.length()-e.length()})[0];i=v.find(r,n?function(t){return t.end<e.start}:function(t){return t.end>e.start});return i||(i=r[0]),i}function d(t){return e(t,!1,_.locateRule.bind(_),m)}function h(t){return e(t,!0,_.locateRule.bind(_),g)}function m(t,e,n){var r=S.parse(t,{offset:e});return p(r,n,!1)}function g(t,e,n){var r=S.parse(t,{offset:e});return p(r,n,!0)}var b=t("../assets/range"),v=t("../utils/common"),x=t("../utils/editor"),y=t("../utils/action"),w=t("../assets/stringStream"),k=t("../parser/xml"),S=t("../editTree/css"),_=t("../utils/cssSections"),C=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/;return{selectNextItemAction:function(t){return y.isSupportedCSS(t.getSyntax())?d(t):n(t)},selectPreviousItemAction:function(t){return y.isSupportedCSS(t.getSyntax())?h(t):r(t)}}})},{"../assets/range":29,"../assets/stringStream":31,"../editTree/css":35,"../parser/xml":59,"../utils/action":67,"../utils/common":70,"../utils/cssSections":71,"../utils/editor":72}],16:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(){return{selectLineAction:function(t){var e=t.getCurrentLineRange();return t.createSelection(e.start,e.end),!0}}})},{}],17:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t,e,n){var i=e.selfClosing()||" /",o=n.open.range.substring(n.source).replace(/\s*>$/,i+">"),a=t.getCaretPos();return o.length+n.outerRange.start<a&&(a=o.length+n.outerRange.start),o=r.escapeText(o),t.replaceContent(o,n.outerRange.start,n.outerRange.end),t.setCaretPos(a),!0}function n(t,e,n){var i=t.getCaretPos(),o=e.tag_nl===!0?"\n	\n":"",a=n.outerContent().replace(/\s*\/>$/,">");return i=n.outerRange.start+a.length,a+=o+"</"+n.open.name+">",a=r.escapeText(a),t.replaceContent(a,n.outerRange.start,n.outerRange.end),t.setCaretPos(i),!0}var r=t("../utils/common"),i=(t("../assets/resources"),t("../assets/htmlMatcher")),o=t("../utils/editor"),a=t("../assets/profile");return{splitJoinTagAction:function(t,r){var s=o.outputInfo(t,null,r),u=a.get(s.profile),c=i.tag(s.content,t.getCaretPos());return c?c.close?e(t,u,c):n(t,u,c):!1}}})},{"../assets/htmlMatcher":25,"../assets/profile":28,"../assets/resources":30,"../utils/common":70,"../utils/editor":72}],18:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t){var e=s(t.getSelectionRange()),n=l.outputInfo(t);if(!e.length()){var r=f.tag(n.content,t.getCaretPos());r&&(e=r.outerRange)}return o(t,"<!--","-->",e)}function n(t){var e=s(t.getSelectionRange()),n=l.outputInfo(t);if(!e.length()){var i=p.parseFromPosition(n.content,t.getCaretPos());if(i){var a=r(i,t.getCaretPos());e=a?a.range(!0):s(i.nameRange(!0).start,i.source)}}return e.length()||(e=s(t.getCurrentLineRange()),u.narrowToNonSpace(n.content,e)),o(t,"/*","*/",e)}function r(t,e){var n=e-(t.options.offset||0),r=/^[\s\n\r]/;return u.find(t.list(),function(e){return e.range().end===n?r.test(t.source.charAt(n)):e.range().inside(n)})}function i(t,e,n,r){for(var i=-1,o=-1,a=function(e,n){return t.substr(n,e.length)==e};e--;)if(a(n,e)){i=e;break}if(-1!=i){e=i;for(var u=t.length;u>=e++;)if(a(r,e)){o=e+r.length;break}}return-1!=i&&-1!=o?s(i,o-i):null}function o(t,e,n,r){function o(t){return t.replace(new RegExp("^"+u.escapeForRegexp(e)+"\\s*"),function(t){return s-=t.length,""}).replace(new RegExp("\\s*"+u.escapeForRegexp(n)+"$"),"")}var a=l.outputInfo(t).content,s=t.getCaretPos(),c=null,f=i(a,s,e,n);return f&&f.overlap(r)?(r=f,c=o(r.substring(a))):(c=e+" "+r.substring(a).replace(new RegExp(u.escapeForRegexp(e)+"\\s*|\\s*"+u.escapeForRegexp(n),"g"),"")+" "+n,s+=e.length+1),null!==c?(c=u.escapeText(c),t.setCaretPos(r.start),t.replaceContent(l.unindent(t,c),r.start,r.end),t.setCaretPos(s),!0):!1
}var a=t("../assets/preferences"),s=t("../assets/range"),u=t("../utils/common"),c=t("../utils/action"),l=t("../utils/editor"),f=t("../assets/htmlMatcher"),p=t("../editTree/css");return{toggleCommentAction:function(t){var r=l.outputInfo(t);if(c.isSupportedCSS(r.syntax)){var i=t.getCaretPos(),o=f.tag(r.content,i);o&&o.open.range.inside(i)&&(r.syntax="html")}var s=a.getArray("css.syntaxes");return~s.indexOf(r.syntax)?n(t):e(t)}}})},{"../assets/htmlMatcher":25,"../assets/preferences":27,"../assets/range":29,"../editTree/css":35,"../utils/action":67,"../utils/common":70,"../utils/editor":72}],19:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t){var e=t.getCaretPos(),n=o.outputInfo(t),u=s.parseFromPosition(n.content,e,!0);u&&"img"==(u.name()||"").toLowerCase()&&r(t,u.value("src"),function(n){if(n){var r=u.range(!0);u.value("width",n.width),u.value("height",n.height,u.indexOf("width")+1),a.compoundUpdate(t,i.extend(r,{data:u.toString(),caret:e}))}})}function n(t){var e=t.getCaretPos(),n=o.outputInfo(t),s=u.parseFromPosition(n.content,e,!0);if(s){var c,l=s.itemFromPosition(e,!0);l&&(c=/url\((["']?)(.+?)\1\)/i.exec(l.value()||""))&&r(t,c[2],function(n){if(n){var r=s.range(!0);s.value("width",n.width+"px"),s.value("height",n.height+"px",s.indexOf("width")+1),a.compoundUpdate(t,i.extend(r,{data:s.toString(),caret:e}))}})}}function r(t,e,n){var r;if(e){if(/^data:/.test(e))return r=c.decode(e.replace(/^data\:.+?;.+?,/,"")),n(a.getImageSize(r));var i=l.locateFile(t.getFilePath(),e);if(null===i)throw"Can't find "+e+" file";l.read(i,function(t,e){if(t)throw"Unable to read "+i+": "+t;e=String(e),n(a.getImageSize(e))})}}var i=t("../utils/common"),o=t("../utils/editor"),a=t("../utils/action"),s=t("../editTree/xml"),u=t("../editTree/css"),c=t("../utils/base64"),l=t("../plugin/file");return{updateImageSizeAction:function(t){return a.isSupportedCSS(t.getSyntax())?n(t):e(t),!0}}})},{"../editTree/css":35,"../editTree/xml":36,"../plugin/file":60,"../utils/action":67,"../utils/base64":68,"../utils/common":70,"../utils/editor":72}],20:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t,e,n){var r=(e.attribute("class")||"").split(/\s+/g);n&&r.push("+"+e.name());var o=function(t){return i.replaceCounter(t,e.counter)};r.forEach(function(e){if(e){e=o(e);var n=e.charAt(0);"+"==n?t.addClass(e.substr(1)):"-"==n?t.removeClass(e.substr(1)):t.value("class",e)}}),e.attributeList().forEach(function(e){if("class"!=e.name.toLowerCase()){var n=e.name.charAt(0);if("+"==n){var r=e.name.substr(1),i=t.get(r);i?i.value(i.value()+o(e.value)):t.value(r,o(e.value))}else"-"==n?t.remove(e.name.substr(1)):t.value(e.name,o(e.value))}})}var n=t("../editTree/xml"),r=(t("../utils/editor"),t("../utils/action")),i=t("../utils/common"),o=t("../parser/abbreviation");return{updateTagAction:function(t,e){if(e=e||t.prompt("Enter abbreviation"),!e)return!1;var n=t.getContent(),i=r.captureContext(t),o=this.getUpdatedTag(e,i,n);return o?(o.name()!=i.name&&i.match.close&&t.replaceContent("</"+o.name()+">",i.match.close.range.start,i.match.close.range.end,!0),t.replaceContent(o.source,i.match.open.range.start,i.match.open.range.end,!0),!0):!1},getUpdatedTag:function(t,r,i,a){if(!r)return null;var s=o.parse(t,a||{}),u=n.parse(r.match.open.range.substring(i),{offset:r.match.outerRange.start});s.children.forEach(function(t,n){e(u,t,n)});var c=s.children[0];return c.data("nameResolved")||u.name(c.name()),u}}})},{"../editTree/xml":36,"../parser/abbreviation":52,"../utils/action":67,"../utils/common":70,"../utils/editor":72}],21:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){var e=t("../assets/range"),n=t("../assets/htmlMatcher"),r=t("../utils/common"),i=t("../utils/editor"),o=t("../utils/action"),a=t("../parser/abbreviation");return{wrapWithAbbreviationAction:function(t,s,u,c){var l=i.outputInfo(t,u,c);if(s=s||t.prompt("Enter abbreviation"),!s)return null;s=String(s);var f=e(t.getSelectionRange());if(!f.length()){var p=n.tag(l.content,f.start);if(!p)return!1;f=r.narrowToNonSpace(l.content,p.range)}var d=r.escapeText(f.substring(l.content)),h=a.expand(s,{pastedContent:i.unindent(t,d),syntax:l.syntax,profile:l.profile,contextNode:o.captureContext(t)});return h?(t.replaceContent(h,f.start,f.end),!0):!1}}})},{"../assets/htmlMatcher":25,"../assets/range":29,"../parser/abbreviation":52,"../utils/action":67,"../utils/common":70,"../utils/editor":72}],22:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t,e){var n=[],r=t,i=e;r.length>i.length&&(r=e,i=t),i.forEach(function(t){~r.indexOf(t)&&n.push(n)})}function n(t,e){"string"==typeof t&&(t=JSON.parse(t)),e||(t=i(t)),h=t.vendors,d=t.css,m=t.era}function i(t){return"string"==typeof t&&(t=JSON.parse(t)),{vendors:o(t),css:a(t),era:s(t)}}function o(t){var e={};return Object.keys(t.agents).forEach(function(n){var r=t.agents[n];e[n]={prefix:r.prefix,versions:r.versions}}),e}function a(t){{var e={};t.cats.CSS}return Object.keys(t.data).forEach(function(n){var r=t.data[n];n in p&&p[n].forEach(function(t){e[t]=r.stats})}),e}function s(t){return Object.keys(t.eras).sort(function(t,e){return parseInt(t.substr(1))-parseInt(e.substr(1))})}function u(){var t=Object.keys(h),n=l.getArray("caniuse.vendors");return n&&"all"!=n[0]?e(t,n):t}function c(){var t=l.get("caniuse.era"),e=m.indexOf(t);return~e||(e=m.indexOf("e-2")),e}var l=t("./preferences"),f=t("../utils/common");l.define("caniuse.enabled",!0,"Enable support of Can I Use database. When enabled,		CSS abbreviation resolver will look at Can I Use database first before detecting		CSS properties that should be resolved"),l.define("caniuse.vendors","all","A comma-separated list vendor identifiers		(as described in Can I Use database) that should be supported		when resolving vendor-prefixed properties. Set value to <code>all</code>		to support all available properties"),l.define("caniuse.era","e-2","Browser era, as defined in Can I Use database.		Examples: <code>e0</code> (current version), <code>e1</code> (near future)		<code>e-2</code> (2 versions back) and so on.");var p={"border-image":["border-image"],"css-boxshadow":["box-shadow"],"css3-boxsizing":["box-sizing"],multicolumn:["column-width","column-count","columns","column-gap","column-rule-color","column-rule-style","column-rule-width","column-rule","column-span","column-fill"],"border-radius":["border-radius","border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"],transforms2d:["transform"],"css-hyphens":["hyphens"],"css-transitions":["transition","transition-property","transition-duration","transition-timing-function","transition-delay"],"font-feature":["font-feature-settings"],"css-animation":["animation","animation-name","animation-duration","animation-timing-function","animation-iteration-count","animation-direction","animation-play-state","animation-delay","animation-fill-mode","@keyframes"],"css-gradients":["linear-gradient"],"css-masks":["mask-image","mask-source-type","mask-repeat","mask-position","mask-clip","mask-origin","mask-size","mask","mask-type","mask-box-image-source","mask-box-image-slice","mask-box-image-width","mask-box-image-outset","mask-box-image-repeat","mask-box-image","clip-path","clip-rule"],"css-featurequeries":["@supports"],flexbox:["flex","inline-flex","flex-direction","flex-wrap","flex-flow","order","flex"],calc:["calc"],"object-fit":["object-fit","object-position"],"css-grid":["grid","inline-grid","grid-template-rows","grid-template-columns","grid-template-areas","grid-template","grid-auto-rows","grid-auto-columns"," grid-auto-flow","grid-auto-position","grid"," grid-row-start","grid-column-start","grid-row-end","grid-column-end","grid-column","grid-row","grid-area","justify-self","justify-items","align-self","align-items"],"css-repeating-gradients":["repeating-linear-gradient"],"css-filters":["filter"],"user-select-none":["user-select"],"intrinsic-width":["min-content","max-content","fit-content","fill-available"],"css3-tabsize":["tab-size"]},d=null,h=null,m=null,g=null;return function(t){if("undefined"==typeof r||!r.amd)try{var e=t("fs"),n=t("path");g=e.readFileSync(n.join(__dirname,"../caniuse.json"),{encoding:"utf8"})}catch(i){}}(t),g&&n(g),{load:n,optimize:i,resolvePrefixes:function(t){if(!(l.get("caniuse.enabled")&&d&&t in d))return null;var e=[],n=d[t],r=c();return u().forEach(function(t){for(var i,o=h[t].versions.slice(r),a=0;a<o.length;a++)if(i=o[a],i&&~n[t][i].indexOf("x")){e.push(h[t].prefix);break}}),f.unique(e).sort(function(t,e){return e.length-t.length})}}})},{"../utils/common":70,"./preferences":27}],23:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t,e,n){function r(t){return{data:t}}var i={},o=/([@\!]?)([\w\-:]+)\s*=\s*(['"])(.*?)\3/g;return n=n||{},n.exports={add:function(t,e){var n=this;i[t]=function(){var r=e.apply(n,arguments);return r&&(r.type=t),r}},get:function(t){return i[t]},create:function(t){var e=[].slice.call(arguments,1),n=this.get(t);return n?n.apply(this,e):null},is:function(t,e){return this.type(t)===e},type:function(t){return t&&t.type}},n.exports.add("element",function(t,e,n){var r={name:t,is_empty:!!n};if(e)if(r.attributes=[],Array.isArray(e))r.attributes=e;else if("string"==typeof e)for(var i;i=o.exec(e);)r.attributes.push({name:i[2],value:i[4],isDefault:"@"==i[1],isImplied:"!"==i[1]});else r.attributes=Object.keys(e).map(function(t){return{name:t,value:e[t]}});return r}),n.exports.add("snippet",r),n.exports.add("reference",r),n.exports.add("empty",function(){return{}}),n.exports})},{}],24:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(){this._list=[]}var n=t("../utils/common");return e.prototype={add:function(t,e){var r=this._list.length;e&&"order"in e&&(r=1e4*e.order),this._list.push(n.extend({},e,{order:r,fn:t}))},remove:function(t){var e=n.find(this._list,function(e){return e.fn===t});e&&this._list.splice(this._list.indexOf(e),1)},list:function(){return this._list.sort(function(t,e){return e.order-t.order})},listFn:function(){return this.list().map(function(t){return t.fn})},exec:function(t,e){e=e||[];var r=null;return n.find(this.list(),function(n){return r=n.fn.apply(n,e),r!==t?!0:void 0}),r}},{create:function(){return new e}}})},{"../utils/common":70}],25:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t,e){return{name:e[1],selfClose:!!e[3],range:s(t,e[0]),type:"open"}}function n(t,e){return{name:e[1],range:s(t,e[0]),type:"close"}}function r(t,e){return{range:s(t,"number"==typeof e?e-t:e[0]),type:"comment"}}function i(t){var r,i={};return{open:function(t){var e=this.matches(t);return e&&"open"==e.type?e:null},close:function(t){var e=this.matches(t);return e&&"close"==e.type?e:null},matches:function(o){var a="p"+o;if(!(a in i)&&(i[a]=!1,"<"==t.charAt(o))){var s=t.slice(o);(r=s.match(u))?i[a]=e(o,r):(r=s.match(c))&&(i[a]=n(o,r))}return i[a]},text:function(){return t},clean:function(){i=t=r=null}}}function o(t,e,n){return t.substring(e,e+n.length)==n}function a(t,e){for(var n=[],r=null,i=e.text(),a=t.range.end,s=i.length;s>a;a++){if(o(i,a,"<!--"))for(var u=a;s>u;u++)if(o(i,u,"-->")){a=u+3;break}if(r=e.matches(a)){if("open"!=r.type||r.selfClose){if("close"==r.type){if(!n.length)return r.name==t.name?r:null;if(n[n.length-1]==r.name)n.pop();else{for(var c=!1;n.length&&!c;){var l=n.pop();l==r.name&&(c=!0)}if(!n.length&&!c)return r.name==t.name?r:null}}}else n.push(r.name);a=r.range.end-1}}}var s=t("./range"),u=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,c=/^<\/([\w\:\-]+)[^>]*>/;return{find:function(t,e){for(var n,u,c=i(t),l=null,f=null,p=e;p>=0;p--)if(l=c.open(p)){if(l.selfClose){if(l.range.cmp(e,"lt","gt"))break;continue}if(f=a(l,c)){var d=s.create2(l.range.start,f.range.end);if(d.contains(e))break}else if(l.range.contains(e))break;l=null}else if(o(t,p,"-->")){for(n=p-1;n>=0&&!o(t,n,"-->");n--)if(o(t,n,"<!--")){p=n;break}}else if(o(t,p,"<!--")){for(n=p+4,u=t.length;u>n;n++)if(o(t,n,"-->")){n+=3;break}l=r(p,n);break}if(c.clean(),l){var h=null,m=null;if(f?(h=s.create2(l.range.start,f.range.end),m=s.create2(l.range.end,f.range.start)):h=m=s.create2(l.range.start,l.range.end),"comment"==l.type){var g=h.substring(t);m.start+=g.length-g.replace(/^<\!--\s*/,"").length,m.end-=g.length-g.replace(/\s*-->$/,"").length}return{open:l,close:f,type:"comment"==l.type?"comment":"tag",innerRange:m,innerContent:function(){return this.innerRange.substring(t)},outerRange:h,outerContent:function(){return this.outerRange.substring(t)},range:m.length()&&m.cmp(e,"lte","gte")?m:h,content:function(){return this.range.substring(t)},source:t}}},tag:function(t,e){var n=this.find(t,e);return n&&"tag"==n.type?n:void 0}}})},{"./range":29}],26:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(){return{log:function(){"undefined"!=typeof console&&console.log&&console.log.apply(console,arguments)}}})},{}],27:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t){return"string"==typeof t?(t=t.toLowerCase(),"yes"==t||"true"==t||"1"==t):!!t}function n(t){return"object"==typeof t&&!Array.isArray(t)&&"value"in t&&Object.keys(t).length<3}var r=t("../utils/common"),i={},o={},a=null,s=null;return{define:function(t,e,r){var i=t;"string"==typeof t&&(i={},i[t]={value:e,description:r}),Object.keys(i).forEach(function(t){var e=i[t];o[t]=n(e)?e:{value:e}})},set:function(t,n){var r=t;"string"==typeof t&&(r={},r[t]=n),Object.keys(r).forEach(function(t){var n=r[t];if(!(t in o))throw new Error('Property "'+t+'" is not defined. You should define it first with `define` method of current module');if(n!==o[t].value){switch(typeof o[t].value){case"boolean":n=e(n);break;case"number":n=parseInt(n+"",10)||0;break;default:null!==n&&(n+="")}i[t]=n}else t in i&&delete i[t]})},get:function(t){return t in i?i[t]:t in o?o[t].value:void 0},getArray:function(t){var e=this.get(t);return"undefined"==typeof e||null===e||""===e?null:(e=e.split(",").map(r.trim),e.length?e:null)},getDict:function(t){var e={};return this.getArray(t).forEach(function(t){var n=t.split(":");e[n[0]]=n[1]}),e},description:function(t){return t in o?o[t].description:void 0},remove:function(t){Array.isArray(t)||(t=[t]),t.forEach(function(t){t in i&&delete i[t],t in o&&delete o[t]})},list:function(){return Object.keys(o).sort().map(function(t){return{name:t,value:this.get(t),type:typeof o[t].value,description:o[t].description}},this)},load:function(t){Object.keys(t).forEach(function(e){this.set(e,t[e])},this)},exportModified:function(){return r.extend({},i)},reset:function(){i={}},_startTest:function(){a=o,s=i,o={},i={}},_stopTest:function(){o=a,i=s}}})},{"../utils/common":70}],28:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t){o.extend(this,c,t)}function n(t,e){switch(String(e||"").toLowerCase()){case"lower":return t.toLowerCase();case"upper":return t.toUpperCase()}return t}function r(t,n){return u[t.toLowerCase()]=new e(n)}function i(){r("xhtml"),r("html",{self_closing_tag:!1,compact_bool:!0}),r("xml",{self_closing_tag:!0,tag_nl:!0}),r("plain",{tag_nl:!1,indent:!1,place_cursor:!1}),r("line",{tag_nl:!1,indent:!1,extraFilters:"s"}),r("css",{tag_nl:!0}),r("css_line",{tag_nl:!1})}var o=t("../utils/common"),a=t("./resources"),s=t("./preferences");s.define("profile.allowCompactBoolean",!0,'This option can be used to globally disable compact form of boolean attribues (attributes where name and value are equal). With compactform enabled, HTML tags can be outputted as <code>&lt;div contenteditable&gt;</code> instead of <code>&lt;div contenteditable="contenteditable"&gt;</code>'),s.define("profile.booleanAttributes","^contenteditable|seamless$","A regular expression for attributes that should be boolean by default.If attribute name matches this expression, you don’t have to write dot after attribute name in Emmet abbreviation to mark it as boolean.");var u={},c={tag_case:"asis",attr_case:"asis",attr_quotes:"double",tag_nl:"decide",tag_nl_leaf:!1,place_cursor:!0,indent:!0,inline_break:3,compact_bool:!1,self_closing_tag:"xhtml",filters:"",extraFilters:""};return e.prototype={tagName:function(t){return n(t,this.tag_case)},attributeName:function(t){return n(t,this.attr_case)},attributeQuote:function(){return"single"==this.attr_quotes?"'":'"'},selfClosing:function(){return"xhtml"==this.self_closing_tag?" /":this.self_closing_tag===!0?"/":""},cursor:function(){return this.place_cursor?o.getCaretPlaceholder():""},isBoolean:function(t,e){if(t==e)return!0;var n=s.get("profile.booleanAttributes");return!e&&n?(n=new RegExp(n,"i"),n.test(t)):!1},allowCompactBoolean:function(){return this.compact_bool&&s.get("profile.allowCompactBoolean")}},i(),{create:function(t,n){return 2==arguments.length?r(t,n):new e(o.defaults(t||{},c))},get:function(t,n){if(!t&&n){var r=a.findItem(n,"profile");r&&(t=r)}return t?t instanceof e?t:"string"==typeof t&&t.toLowerCase()in u?u[t.toLowerCase()]:this.create(t):u.plain},remove:function(t){t=(t||"").toLowerCase(),t in u&&delete u[t]},reset:function(){u={},i()},stringCase:n}})},{"../utils/common":70,"./preferences":27,"./resources":30}],29:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t,e,n){function r(t,e,n){switch(n){case"eq":case"==":return t===e;case"lt":case"<":return e>t;case"lte":case"<=":return e>=t;case"gt":case">":return t>e;case"gte":case">=":return t>=e}}function i(t,e){"object"==typeof t&&"start"in t?(this.start=Math.min(t.start,t.end),this.end=Math.max(t.start,t.end)):Array.isArray(t)?(this.start=t[0],this.end=t[1]):(e="string"==typeof e?e.length:+e,this.start=t,this.end=t+e)}return i.prototype={length:function(){return Math.abs(this.end-this.start)},equal:function(t){return this.cmp(t,"eq","eq")},shift:function(t){return this.start+=t,this.end+=t,this},overlap:function(t){return t.start<=this.end&&t.end>=this.start},intersection:function(t){if(this.overlap(t)){var e=Math.max(t.start,this.start),n=Math.min(t.end,this.end);return new i(e,n-e)}return null},union:function(t){if(this.overlap(t)){var e=Math.min(t.start,this.start),n=Math.max(t.end,this.end);return new i(e,n-e)}return null},inside:function(t){return this.cmp(t,"lte","gt")},contains:function(t){return this.cmp(t,"lt","gt")},include:function(t){return this.cmp(t,"lte","gte")},cmp:function(t,e,n){var o,a;return t instanceof i?(o=t.start,a=t.end):o=a=t,r(this.start,o,e||"<=")&&r(this.end,a,n||">")},substring:function(t){return this.length()>0?t.substring(this.start,this.end):""},clone:function(){return new i(this.start,this.length())},toArray:function(){return[this.start,this.end]},toString:function(){return this.valueOf()},valueOf:function(){return"{"+this.start+", "+this.length()+"}"}},n.exports=function(t,e){return"undefined"==typeof t||null===t?null:t instanceof i?t:("object"==typeof t&&"start"in t&&"end"in t&&(e=t.end-t.start,t=t.start),new i(t,e))},n.exports.create=n.exports,n.exports.isRange=function(t){return t instanceof i},n.exports.create2=function(t,e){return"number"==typeof t&&"number"==typeof e&&(e-=t),this.create(t,e)},n.exports.sort=function(t,e){return t=t.sort(function(t,e){return t.start===e.start?e.end-t.end:t.start-e.start}),e&&t.reverse(),t},n.exports})},{}],30:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t,e){function n(t,e){t&&Object.keys(t).forEach(function(n){e(t[n],n)})}function i(t){return l.replaceUnescapedSymbol(t,"|",l.getCaretPlaceholder())}function o(t,e,n){return e=i(e),"snippets"==n?f.create("snippet",e):"abbreviations"==n?a(t,e):void 0}function a(t,e){t=l.trim(t);var n;return(n=b.exec(e))?f.create("element",n[1],n[2],"/"==n[4]):f.create("reference",e)}function s(t){return t.replace(/:$/,"").replace(/:/g,"-")}function u(t){var e={};return n(t,function(t,n){for(var r=n.split("|"),i=r.length-1;i>=0;i--)e[r[i]]=t}),e}var c=t("./handlerList"),l=t("../utils/common"),f=t("./elements"),p=(t("../assets/logger"),t("../vendor/stringScore")),d=t("../resolver/css"),h="system",m="user",g={},b=/^<(\w+\:?[\w\-]*)((?:\s+[@\!]?[\w\:\-]+\s*=\s*(['"]).*?\3)*)\s*(\/?)>/,v={},x={},y=c.create();return l.extend(e,{setVocabulary:function(t,e){g={};var r={};n(t,function(t,e){var i={};n(t,function(t,e){("abbreviations"==e||"snippets"==e)&&(t=u(t)),i[e]=t}),r[e]=i}),e==h?v=r:x=r},getVocabulary:function(t){return t==h?v:x},getMatchedResource:function(t,e){return y.exec(null,l.toArray(arguments))||this.findSnippet(e,t.name())},getVariable:function(t){return(this.getSection("variables")||{})[t]},setVariable:function(t,e){var n=this.getVocabulary("user")||{};"variables"in n||(n.variables={}),n.variables[t]=e,this.setVocabulary(n,"user")},hasSyntax:function(t){return t in this.getVocabulary(m)||t in this.getVocabulary(h)},addResolver:function(t,e){y.add(t,e)},removeResolver:function(t){y.remove(t)},getSection:function(t){if(!t)return null;t in g||(g[t]=l.deepMerge({},v[t],x[t]));for(var e,n=g[t],r=l.toArray(arguments,1);n&&(e=r.shift());){if(!(e in n))return null;n=n[e]}return n},findItem:function(t,e){for(var n=this.getSection(t);n;){if(e in n)return n[e];n=this.getSection(n["extends"])}},findSnippet:function(t,e,n){if(!t||!e)return null;n=n||[];var r=[e];~e.indexOf("-")&&r.push(e.replace(/\-/g,":"));var i=this.getSection(t),a=null;return["snippets","abbreviations"].some(function(e){var n=this.getSection(t,e);return n?r.some(function(t){return n[t]?a=o(t,n[t],e):void 0}):void 0},this),n.push(t),a||!i["extends"]||~n.indexOf(i["extends"])?a:this.findSnippet(i["extends"],e,n)},fuzzyFindSnippet:function(t,e,n){var r=this.fuzzyFindMatches(t,e,n)[0];return r?r.value.parsedValue:void 0},fuzzyFindMatches:function(t,e,n){n=n||.3,e=s(e);var r=this.getAllSnippets(t);return Object.keys(r).map(function(t){var n=r[t];return{key:t,score:p.score(n.nk,e,.1),value:n}}).filter(function(t){return t.score>=n}).sort(function(t,e){return t.score-e.score}).reverse()},getAllSnippets:function(t){var e="all-"+t;if(!g[e]){var r=[],i=t,a=[];do{var u=this.getSection(i);if(!u)break;["snippets","abbreviations"].forEach(function(t){var e={};n(u[t]||null,function(n,r){e[r]={nk:s(r),value:n,parsedValue:o(r,n,t),type:t}}),r.push(e)}),a.push(i),i=u["extends"]}while(i&&!~a.indexOf(i));g[e]=l.extend.apply(l,r.reverse())}return g[e]},getNewline:function(){var t=this.getVariable("newline");return"string"==typeof t?t:"\n"},setNewline:function(t){this.setVariable("newline",t),this.setVariable("nl",t)}}),e.addResolver(d.resolve.bind(d)),function(t){if("undefined"==typeof r||!r.amd)try{var n=t("fs"),i=t("path"),o=n.readFileSync(i.join(__dirname,"../snippets.json"),{encoding:"utf8"});e.setVocabulary(JSON.parse(o),h)}catch(a){}}(t),e})},{"../assets/logger":26,"../resolver/css":61,"../utils/common":70,"../vendor/stringScore":76,"./elements":23,"./handlerList":24}],31:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t,e,n){function r(t){this.pos=this.start=0,this.string=t,this._length=t.length}return r.prototype={eol:function(){return this.pos>=this._length},sol:function(){return 0===this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){return this.pos<this._length?this.string.charAt(this.pos++):void 0},eat:function(t){var e,n=this.string.charAt(this.pos);return e="string"==typeof t?n==t:n&&(t.test?t.test(n):t(n)),e?(++this.pos,n):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this._length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return e>-1?(this.pos=e,!0):void 0},skipToPair:function(t,e,n){for(var r,i=0,o=this.pos,a=this._length;a>o;)if(r=this.string.charAt(o++),r==t)i++;else if(r==e){if(i--,1>i)return this.pos=o,!0}else!n||'"'!=r&&"'"!=r||this.skipString(r);return!1},skipQuoted:function(t){var e=this.string.charAt(t?this.pos:this.pos-1);return'"'===e||"'"===e?(t&&this.pos++,this.skipString(e)):void 0},skipString:function(t){for(var e,n=this.pos,r=this._length;r>n;)if(e=this.string.charAt(n++),"\\"!=e&&e==t)return this.pos=n,!0;return!1},backUp:function(t){this.pos-=t},match:function(t,e,n){if("string"!=typeof t){var r=this.string.slice(this.pos).match(t);return r&&e!==!1&&(this.pos+=r[0].length),r}var i=n?function(t){return t.toLowerCase()}:function(t){return t};return i(this.string).indexOf(i(t),this.pos)==this.pos?(e!==!1&&(this.pos+=t.length),!0):void 0},current:function(t){return this.string.slice(this.start,this.pos-(t?1:0))}},n.exports=function(t){return new r(t)},n.exports.create=n.exports,n.exports})},{}],32:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){var e=t("../utils/common"),n=t("./stringStream"),r=t("./resources"),i=100,o=0,a={replaceCarets:!1,escape:function(t){return"\\"+t},tabstop:function(t){return t.token},variable:function(t){return t.token}};return{extract:function(t,n){var r={carets:""},i=[];n=e.extend({},a,n,{tabstop:function(t){var e=t.token,n="";return"cursor"==t.placeholder?i.push({start:t.start,end:t.start+e.length,group:"carets",value:""}):("placeholder"in t&&(r[t.group]=t.placeholder),t.group in r&&(n=r[t.group]),i.push({start:t.start,end:t.start+e.length,group:t.group,value:n})),e}}),n.replaceCarets&&(t=t.replace(new RegExp(e.escapeForRegexp(e.getCaretPlaceholder()),"g"),"${0:cursor}")),t=this.processText(t,n);var o="",s=0,u=i.map(function(e){o+=t.substring(s,e.start);var n=o.length,i=r[e.group]||"";return o+=i,s=e.end,{group:e.group,start:n,end:n+i.length}});return o+=t.substring(s),{text:o,tabstops:u.sort(function(t,e){return t.start-e.start})}},processText:function(t,r){r=e.extend({},a,r);for(var i,o,s,u="",c=n.create(t);i=c.next();)if("\\"!=i||c.eol()){if(s=i,"$"==i)if(c.start=c.pos-1,o=c.match(/^[0-9]+/))s=r.tabstop({start:u.length,group:c.current().substr(1),token:c.current()});else if(o=c.match(/^\{([a-z_\-][\w\-]*)\}/))s=r.variable({start:u.length,name:o[1],token:c.current()});else if(o=c.match(/^\{([0-9]+)(:.+?)?\}/,!1)){c.skipToPair("{","}");var l={start:u.length,group:o[1],token:c.current()},f=l.token.substring(l.group.length+2,l.token.length-1);f&&(l.placeholder=f.substr(1)),s=r.tabstop(l)}u+=s}else u+=r.escape(c.next());return u},upgrade:function(t,e){var n=0,r={tabstop:function(t){var r=parseInt(t.group,10);return r>n&&(n=r),t.placeholder?"${"+(r+e)+":"+t.placeholder+"}":"${"+(r+e)+"}"}};return["start","end","content"].forEach(function(e){t[e]=this.processText(t[e],r)},this),n},variablesResolver:function(t){var n={};return function(o,a){if("child"==a)return o;if("cursor"==a)return e.getCaretPlaceholder();var s=t.attribute(a);if("undefined"!=typeof s&&s!==o)return s;var u=r.getVariable(a);return u?u:(n[a]||(n[a]=i++),"${"+n[a]+":"+a+"}")}},replaceVariables:function(t,e){e=e||{};var n="function"==typeof e?e:function(t,n){return n in e?e[n]:null};return this.processText(t,{variable:function(t){var e=n(t.token,t.name,t);return null===e&&(e=r.getVariable(t.name)),(null===e||"undefined"==typeof e)&&(e=t.token),e}})},resetTabstopIndex:function(){o=0,i=100},abbrOutputProcessor:function(t,e){var n=0,r=this,i={tabstop:function(t){var e=parseInt(t.group,10);if(0===e)return"${0}";if(e>n&&(n=e),t.placeholder){var a=e+o,s=r.processText(t.placeholder,i);return"${"+a+":"+s+"}"}return"${"+(e+o)+"}"}};return t=this.processText(t,i),t=this.replaceVariables(t,this.variablesResolver(e)),o+=n+1,t}}})},{"../utils/common":70,"./resources":30,"./stringStream":31}],33:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(){function t(t){this.tokens=t,this._position=0,this.reset()}return t.prototype={next:function(){if(this.hasNext()){var t=this.tokens[++this._i];return this._position=t.start,t}return this._i=this._il,null},current:function(){return this.tokens[this._i]},peek:function(){return this.tokens[this._i+i]},position:function(){return this._position},hasNext:function(){return this._i<this._il-1},reset:function(){this._i=0,this._il=this.tokens.length},item:function(){return this.tokens[this._i]},itemNext:function(){return this.tokens[this._i+1]},itemPrev:function(){return this.tokens[this._i-1]},nextUntil:function(t,e){for(var n,r="string"==typeof t?function(e){return e.type==t}:t;(n=this.next())&&(e&&e.call(this,n),!r.call(this,n)););}},{create:function(e){return new t(e)}}})},{}],34:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t,e){this.options=i.extend({offset:0},e),this.source=t,this._children=[],this._positions={name:0},this.initialize.apply(this,arguments)}function n(t,e,n){this.parent=t,this._name=e.value,this._value=n?n.value:"",this._positions={name:e.start,value:n?n.start:-1},this.initialize.apply(this,arguments)}var r=t("../assets/range"),i=t("../utils/common"),o=t("../vendor/klass");return e.extend=o.extend,e.prototype={type:"container",initialize:function(){},_pos:function(t,e){return t+(e?this.options.offset:0)},_updateSource:function(t,e,n){var o=r.create(e,"undefined"==typeof n?0:n-e),a=t.length-o.length(),s=function(t){Object.keys(t).forEach(function(e){t[e]>=o.end&&(t[e]+=a)})};s(this._positions);var u=function(t){t.forEach(function(t){s(t._positions),"container"==t.type&&u(t.list())})};u(this.list()),this.source=i.replaceSubstring(this.source,t,o)},add:function(t,e){var r=new n(t,e);return this._children.push(r),r},get:function(t){return"number"==typeof t?this.list()[t]:"string"==typeof t?i.find(this.list(),function(e){return e.name()===t}):t},getAll:function(t){Array.isArray(t)||(t=[t]);var e=[],n=[];return t.forEach(function(t){"string"==typeof t?e.push(t):"number"==typeof t&&n.push(t)}),this.list().filter(function(t,r){return~n.indexOf(r)||~e.indexOf(t.name())})},list:function(){return this._children},remove:function(t){var e=this.get(t);if(e){this._updateSource("",e.fullRange());var n=this._children.indexOf(e);~n&&this._children.splice(n,1)}},indexOf:function(t){return this.list().indexOf(this.get(t))},value:function(t,e,n){var r=this.get(t);return r?r.value(e):"undefined"!=typeof e?this.add(t,e,n):void 0},values:function(t){return this.getAll(t).map(function(t){return t.value()})},name:function(t){return"undefined"!=typeof t&&this._name!==(t=String(t))&&(this._updateSource(t,this._positions.name,this._positions.name+this._name.length),this._name=t),this._name},nameRange:function(t){return r.create(this._positions.name+(t?this.options.offset:0),this.name())},range:function(t){return r.create(t?this.options.offset:0,this.valueOf())},itemFromPosition:function(t,e){return i.find(this.list(),function(n){return n.range(e).inside(t)})},toString:function(){return this.valueOf()},valueOf:function(){return this.source}},n.extend=o.extend,n.prototype={type:"element",initialize:function(){},_pos:function(t,e){return t+(e?this.parent.options.offset:0)},value:function(t){return"undefined"!=typeof t&&this._value!==(t=String(t))&&(this.parent._updateSource(t,this.valueRange()),this._value=t),this._value},name:function(t){return"undefined"!=typeof t&&this._name!==(t=String(t))&&(this.parent._updateSource(t,this.nameRange()),this._name=t),this._name},namePosition:function(t){return this._pos(this._positions.name,t)},valuePosition:function(t){return this._pos(this._positions.value,t)},range:function(t){return r.create(this.namePosition(t),this.valueOf())},fullRange:function(t){return this.range(t)
},nameRange:function(t){return r.create(this.namePosition(t),this.name())},valueRange:function(t){return r.create(this.valuePosition(t),this.value())},toString:function(){return this.valueOf()},valueOf:function(){return this.name()+this.value()}},{EditContainer:e,EditElement:n,createToken:function(t,e,n){var r={start:t||0,value:e||"",type:n};return r.end=r.start+r.value.length,r}}})},{"../assets/range":29,"../utils/common":70,"../vendor/klass":75}],35:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t,e,n){n=n||g|b,e=t.substring(e);var r;return n&g&&(r=e.match(h))&&(t.start+=r[0].length),n&b&&(r=e.match(m))&&(t.end-=r[0].length),t.end<t.start&&(t.end=t.start),t}function n(t,n){var r,i,o,a=t.current();if(!a)return null;for(var s={white:1,line:1,comment:1};(a=t.current())&&a.type in s;)t.next();if(!t.hasNext())return null;a=t.current(),r=l(a.start,a.value);for(var u="@"==a.value.charAt(0);a=t.next();)if(r.end=a.end,":"==a.type||"white"==a.type){if(r.end=a.start,t.next(),":"==a.type||u)break}else if(";"==a.type||"line"==a.type){r.end=a.start,i=l(a.start,0),t.next();break}if(a=t.current(),!i&&a){"line"==a.type&&(c=a),i=l(a.start,a.value);for(var c;a=t.next();)if(i.end=a.end,"line"==a.type)c=a;else{if("}"==a.type||";"==a.type){i.end=a.start,";"==a.type&&(o=l(a.start,a.value)),t.next();break}if(":"==a.type&&c){i.end=c.start,t._i=t.tokens.indexOf(c);break}}}return i||(i=l(r.end,0)),{name:e(r,n),value:e(i,n,g|(o?b:0)),end:o||l(i.end,0)}}function r(t){var e,n=f.create(t),r=[],i=/[\s\u00a0,;]/,o=function(){n.next(),r.push(l(n.start,n.current())),n.start=n.pos};for(n.eatSpace(),n.start=n.pos;e=n.next();)if('"'==e||"'"==e){if(n.next(),!n.skipTo(e))break;o()}else if("("==e){if(n.backUp(1),!n.skipToPair("(",")"))break;n.backUp(1),o()}else i.test(e)&&(r.push(l(n.start,n.current().length-1)),n.eatWhile(i),n.start=n.pos);return o(),a.unique(r.filter(function(t){return!!t.length()}))}function i(t,e,n){var r=o(e,n);r.forEach(function(e){t._children.push(new x(t,s.createToken(e.name.start,e.nameText),s.createToken(e.value.start,e.valueText),s.createToken(e.end.start,e.endText)))})}function o(t,e){e=e||0,t=t.replace(m,"");var r=[];if(!t)return r;for(var i,o=u.parse(t),a=p.create(o);i=n(a,t);)r.push({nameText:i.name.substring(t),name:i.name.shift(e),valueText:i.value.substring(t),value:i.value.shift(e),endText:i.end.substring(t),end:i.end.shift(e)});return r}var a=t("../utils/common"),s=t("./base"),u=t("../parser/css"),c=t("../utils/cssSections"),l=t("../assets/range"),f=t("../assets/stringStream"),p=t("../assets/tokenIterator"),d={styleBefore:"\n	",styleSeparator:": ",offset:0},h=/^\s+/,m=/\s+$/,g=1,b=2,v=s.EditContainer.extend({initialize:function(t,e){a.extend(this.options,d,e),Array.isArray(t)&&(t=u.toSource(t));var n=c.findAllRules(t),r=n.shift(),o=[];n.forEach(function(t){var e=!a.find(o,function(e){return e.contains(t)});e&&o.push(t)});var s=l.create2(r.start,r._selectorEnd);this._name=s.substring(t),this._positions.name=s.start,this._positions.contentStart=r._contentStart+1;var f=r._contentStart+1,p=(r.end-1,this);o.forEach(function(e){i(p,t.substring(f,e.start),f);a.extend({},p.options,{offset:e.start+p.options.offset});f=e.end}),i(this,t.substring(f,r.end-1),f),this._saveStyle()},_saveStyle:function(){var t=this._positions.contentStart,e=this.source;this.list().forEach(function(n){if("container"!==n.type){n.styleBefore=e.substring(t,n.namePosition());var r=a.splitByLines(n.styleBefore);r.length>1&&(n.styleBefore="\n"+r[r.length-1]),n.styleSeparator=e.substring(n.nameRange().end,n.valuePosition());var i=n.styleBefore.split("*/");n.styleBefore=i[i.length-1],n.styleSeparator=n.styleSeparator.replace(/\/\*.*?\*\//g,""),t=n.range().end}})},namePosition:function(t){return this._pos(this._positions.name,t)},valuePosition:function(t){return this._pos(this._positions.contentStart,t)},valueRange:function(t){return l.create2(this.valuePosition(t),this._pos(this.valueOf().length,t)-1)},add:function(t,e,n){var r=this.list(),i=this._positions.contentStart,o=a.pick(this.options,"styleBefore","styleSeparator");"undefined"==typeof n&&(n=r.length);var u=r[n];u?i=u.fullRange().start:(u=r[n-1])&&(u.end(";"),i=u.range().end),u&&(o=a.pick(u,"styleBefore","styleSeparator"));var c=s.createToken(i+o.styleBefore.length,t),l=s.createToken(c.end+o.styleSeparator.length,e),f=new x(this,c,l,s.createToken(l.end,";"));return a.extend(f,o),this._updateSource(f.styleBefore+f.toString(),i),this._children.splice(n,0,f),f}}),x=s.EditElement.extend({initialize:function(t,e,n,r){this.styleBefore=t.options.styleBefore,this.styleSeparator=t.options.styleSeparator,this._end=r.value,this._positions.end=r.start},valueParts:function(t){var e=r(this.value());if(t){var n=this.valuePosition(!0);e.forEach(function(t){t.shift(n)})}return e},value:function(t){var e="undefined"!=typeof t,n=this.parent.list();if(e&&this.isIncomplete()){var r=this,i=a.find(n,function(t){return t!==r&&!t.isIncomplete()});this.styleSeparator=i?i.styleSeparator:this.parent.options.styleSeparator,this.parent._updateSource(this.styleSeparator,l(this.valueRange().start,0))}var o=this.constructor.__super__.value.apply(this,arguments);if(e){var s=n.indexOf(this);s===n.length-1||this.end()||this.end(";")}return o},isIncomplete:function(){return this.nameRange().end===this.valueRange().start},end:function(t){return"undefined"!=typeof t&&this._end!==t&&(this.parent._updateSource(t,this._positions.end,this._positions.end+this._end.length),this._end=t),this._end},fullRange:function(t){var e=this.range(t);return e.start-=this.styleBefore.length,e},valueOf:function(){return this.name()+this.styleSeparator+this.value()+this.end()}});return{parse:function(t,e){return new v(t,e)},parseFromPosition:function(t,e,n){var r=c.locateRule(t,e,n);return r&&r.inside(e)?this.parse(r.substring(t),{offset:r.start}):null},propertyFromPosition:function(t,e){var n=null,r="string"==typeof t?this.parseFromPosition(t,e,!0):t;return r&&(n=r.itemFromPosition(e,!0),n||(n=a.find(r.list(),function(t){return t.range(!0).end==e}))),n},baseName:function(t){return t.replace(/^\s*\-\w+\-/,"")},findParts:r,extractPropertiesFromSource:o}})},{"../assets/range":29,"../assets/stringStream":31,"../assets/tokenIterator":33,"../parser/css":53,"../utils/common":70,"../utils/cssSections":71,"./base":34}],36:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){var e=t("./base"),n=t("../parser/xml"),r=t("../assets/range"),i=t("../utils/common"),o={styleBefore:" ",styleSeparator:"=",styleQuote:'"',offset:0},a=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/m,s=e.EditContainer.extend({initialize:function(t){i.defaults(this.options,o),this._positions.name=1;var e=null,a=n.parse(t);a.forEach(function(n){switch(n.value=r.create(n).substring(t),n.type){case"tag":/^<[^\/]+/.test(n.value)&&(this._name=n.value.substring(1));break;case"attribute":e&&this._children.push(new u(this,e)),e=n;break;case"string":this._children.push(new u(this,e,n)),e=null}},this),e&&this._children.push(new u(this,e)),this._saveStyle()},_saveStyle:function(){var t=this.nameRange().end,e=this.source;this.list().forEach(function(n){n.styleBefore=e.substring(t,n.namePosition()),-1!==n.valuePosition()&&(n.styleSeparator=e.substring(n.namePosition()+n.name().length,n.valuePosition()-n.styleQuote.length)),t=n.range().end})},add:function(t,n,r){var o=this.list(),a=this.nameRange().end,s=i.pick(this.options,"styleBefore","styleSeparator","styleQuote");"undefined"==typeof r&&(r=o.length);var c=o[r];c?a=c.fullRange().start:(c=o[r-1])&&(a=c.range().end),c&&(s=i.pick(c,"styleBefore","styleSeparator","styleQuote")),n=s.styleQuote+n+s.styleQuote;var l=new u(this,e.createToken(a+s.styleBefore.length,t),e.createToken(a+s.styleBefore.length+t.length+s.styleSeparator.length,n));return i.extend(l,s),this._updateSource(l.styleBefore+l.toString(),a),this._children.splice(r,0,l),l},addClass:function(t){var e=this.get("class");if(t=i.trim(t),!e)return this.add("class",t);var n=e.value(),r=" "+n.replace(/\n/g," ")+" ";~r.indexOf(" "+t+" ")||e.value(n+" "+t)},removeClass:function(t){var e=this.get("class");if(t=i.trim(t),e){var n=new RegExp("(^|\\s+)"+i.escapeForRegexp(t)),r=e.value().replace(n,"");i.trim(r)?e.value(r):this.remove("class")}}}),u=e.EditElement.extend({initialize:function(t,e,n){this.styleBefore=t.options.styleBefore,this.styleSeparator=t.options.styleSeparator;var r="",i=t.options.styleQuote;n&&(r=n.value,i=r.charAt(0),'"'==i||"'"==i?r=r.substring(1):i="",i&&r.charAt(r.length-1)==i&&(r=r.substring(0,r.length-1))),this.styleQuote=i,this._value=r,this._positions.value=n?n.start+i.length:-1},fullRange:function(t){var e=this.range(t);return e.start-=this.styleBefore.length,e},valueOf:function(){return this.name()+this.styleSeparator+this.styleQuote+this.value()+this.styleQuote}});return{parse:function(t,e){return new s(t,e)},parseFromPosition:function(t,e,n){var r=this.extractTag(t,e,n);return r&&r.inside(e)?this.parse(r.substring(t),{offset:r.start}):null},extractTag:function(t,e,n){var i,o=t.length,s=Math.min(2e3,o),u=null,c=function(e){var n;return"<"==t.charAt(e)&&(n=t.substr(e,s).match(a))?r.create(e,n[0]):void 0};for(i=e;i>=0&&!(u=c(i));i--);if(u&&(u.inside(e)||n))return u;if(!u&&n)return null;for(i=e;o>i;i++)if(u=c(i))return u}}})},{"../assets/range":29,"../parser/xml":59,"../utils/common":70,"./base":34}],37:[function(require,module,exports){if("object"==typeof module&&"function"!=typeof define)var define=function(t){module.exports=t(require,exports,module)};define(function(require,exports,module){function getFileName(t){var e=/([\w\.\-]+)$/i,n=e.exec(t);return n?n[1]:""}function normalizeProfile(t){return"object"==typeof t&&("indent"in t&&(t.indent=!!t.indent),"self_closing_tag"in t&&"number"==typeof t.self_closing_tag&&(t.self_closing_tag=!!t.self_closing_tag)),t}var global="undefined"!=typeof self?self:this,utils=require("./utils/common"),actions=require("./action/main"),parser=require("./parser/abbreviation"),file=require("./plugin/file"),preferences=require("./assets/preferences"),resources=require("./assets/resources"),profile=require("./assets/profile"),ciu=require("./assets/caniuse"),logger=require("./assets/logger"),sliceFn=Array.prototype.slice;return{expandAbbreviation:function(t,e,n,r){return parser.expand(t,{syntax:e,profile:n,contextNode:r})},run:function(){return actions.run.apply(actions,sliceFn.call(arguments,0))},loadExtensions:function(fileList){var payload={},userSnippets=null,that=this;fileList=fileList.filter(function(t){var e=file.getExt(t);return"json"===e||"js"===e});var reader=(file.readText||file.read).bind(file),next=function(){if(fileList.length){var f=fileList.shift();reader(f,function(err,content){if(err)return logger.log('Unable to read "'+f+'" file: '+err),next();switch(file.getExt(f)){case"js":try{eval(content)}catch(e){logger.log('Unable to eval "'+f+'" file: '+e)}break;case"json":var fileName=getFileName(f).toLowerCase().replace(/\.json$/,"");/^snippets/.test(fileName)?"snippets"===fileName?userSnippets=utils.parseJSON(content):payload.snippets=utils.deepMerge(payload.snippets||{},utils.parseJSON(content)):payload[fileName]=content}next()})}else userSnippets&&(payload.snippets=utils.deepMerge(payload.snippets||{},userSnippets)),that.loadUserData(payload)};next()},loadPreferences:function(t){preferences.load(utils.parseJSON(t))},loadSnippets:function(t){t=utils.parseJSON(t);var e=resources.getVocabulary("user")||{};resources.setVocabulary(utils.deepMerge(e,t),"user")},loadSystemSnippets:function(t){resources.setVocabulary(utils.parseJSON(t),"system")},loadCIU:function(t){ciu.load(utils.parseJSON(t))},resetSnippets:function(){resources.setVocabulary({},"user")},loadUserData:function(t){t=utils.parseJSON(t),t.snippets&&this.loadSnippets(t.snippets),t.preferences&&this.loadPreferences(t.preferences),t.profiles&&this.loadProfiles(t.profiles),t.caniuse&&this.loadCIU(t.caniuse);var e=t.syntaxProfiles||t.syntaxprofiles;e&&this.loadSyntaxProfiles(e)},resetUserData:function(){this.resetSnippets(),preferences.reset(),profile.reset()},loadSyntaxProfiles:function(t){t=utils.parseJSON(t);var e={};Object.keys(t).forEach(function(n){var r=t[n];n in e||(e[n]={}),e[n].profile=normalizeProfile(r)}),this.loadSnippets(e)},loadProfiles:function(t){t=utils.parseJSON(t),Object.keys(t).forEach(function(e){profile.create(e,normalizeProfile(t[e]))})},require:require,preferences:preferences,resources:resources,profile:profile,tabStops:require("./assets/tabStops"),htmlMatcher:require("./assets/htmlMatcher"),utils:{common:utils,action:require("./utils/action"),editor:require("./utils/editor")}}})},{"./action/main":11,"./assets/caniuse":22,"./assets/htmlMatcher":25,"./assets/logger":26,"./assets/preferences":27,"./assets/profile":28,"./assets/resources":30,"./assets/tabStops":32,"./parser/abbreviation":52,"./plugin/file":60,"./utils/action":67,"./utils/common":70,"./utils/editor":72}],38:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(){return{element:u.get("bem.elementSeparator"),modifier:u.get("bem.modifierSeparator")}}function n(t){if(c.isSnippet(t))return t;t.__bem={block:"",element:"",modifier:""};var e=r(t.attribute("class")).split(" "),n=/^[a-z]\-/i;return t.__bem.block=l.find(e,function(t){return n.test(t)}),t.__bem.block||(n=/^[a-z]/i,t.__bem.block=l.find(e,function(t){return n.test(t)})||""),e=e.map(function(e){return i(e,t)}),e=l.unique(l.flatten(e)).join(" "),e&&t.attribute("class",e),t}function r(t){t=(" "+(t||"")+" ").replace(/\s+/g," ");var n=u.get("bem.shortElementPrefix");if(n){var r=new RegExp("\\s("+l.escapeForRegexp(n)+"+)","g");t=t.replace(r,function(t,n){return" "+l.repeatString(e().element,n.length)})}return l.trim(t)}function i(t,n){t=o(t,n,"element"),t=o(t,n,"modifier");var r="",i="",a="",s=e();if(~t.indexOf(s.element)){var u=t.split(s.element);r=u.shift();var c=u.pop().split(s.modifier);u.push(c.shift()),i=u.join(s.element),a=c.join(s.modifier)}else if(~t.indexOf(s.modifier)){var l=t.split(s.modifier);r=l.shift(),a=l.join(s.modifier)}if(r||i||a){r||(r=n.__bem.block);var f=r,p=[];return i?(f+=s.element+i,p.push(f)):p.push(f),a&&p.push(f+s.modifier+a),n.__bem.block=r,n.__bem.element=i,n.__bem.modifier=a,p}return t}function o(t,n,r){var i=e(),o=new RegExp("^("+i[r]+")+","g");if(o.test(t)){for(var a=0,s=t.replace(o,function(t){return a=t.length/i[r].length,""}),u=n;u.parent&&a--;)u=u.parent;if(u&&u.__bem||(u=n),u&&u.__bem){var c=u.__bem.block;return"modifier"==r&&u.__bem.element&&(c+=i.element+u.__bem.element),c+i[r]+s}}return t}function a(t,e){return t.name&&n(t,e),t.children.forEach(function(t){a(t,e),!c.isSnippet(t)&&t.start&&(f=!0)}),t}var s=t("./html"),u=t("../assets/preferences"),c=t("../utils/abbreviation"),l=t("../utils/common");u.define("bem.elementSeparator","__","Class name’s element separator."),u.define("bem.modifierSeparator","_","Class name’s modifier separator."),u.define("bem.shortElementPrefix","-","Symbol for describing short “block-element” notation. Class names prefixed with this symbol will be treated as element name for parent‘s block name. Each symbol instance traverses one level up in parsed tree for block name lookup. Empty value will disable short notation.");var f=!1;return function(t,e){return f=!1,t=a(t,e),f&&(t=s(t,e)),t}})},{"../assets/preferences":27,"../utils/abbreviation":66,"../utils/common":70,"./html":44}],39:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t,e,n){var o=r.get("filter.commentTrigger");if("*"!=o){var a=i.find(o.split(","),function(e){return!!t.attribute(i.trim(e))});if(!a)return}var s={node:t,name:t.name(),padding:t.parent?t.parent.padding:"",attr:function(e,n,r){var i=t.attribute(e);return i?(n||"")+i+(r||""):""}},u=e?e(s):"",c=n?n(s):"";t.start=t.start.replace(/</,u+"<"),t.end=t.end.replace(/>/,">"+c)}function n(t,r,i){return t.children.forEach(function(t){a.isBlock(t)&&e(t,r,i),n(t,r,i)}),t}{var r=t("../assets/preferences"),i=t("../utils/common"),o=t("../utils/template"),a=t("../utils/abbreviation");t("./main")}return r.define("filter.commentAfter",'\n<!-- /<%= attr("id", "#") %><%= attr("class", ".") %> -->',"A definition of comment that should be placed <i>after</i> matched element when <code>comment</code> filter is applied. This definition is an ERB-style template passed to <code>_.template()</code> function (see Underscore.js docs for details). In template context, the following properties and functions are availabe:\n<ul><li><code>attr(name, before, after)</code> – a function that outputsspecified attribute value concatenated with <code>before</code> and <code>after</code> strings. If attribute doesn't exists, the empty string will be returned.</li><li><code>node</code> – current node (instance of <code>AbbreviationNode</code>)</li><li><code>name</code> – name of current tag</li><li><code>padding</code> – current string padding, can be used for formatting</li></ul>"),r.define("filter.commentBefore","","A definition of comment that should be placed <i>before</i> matched element when <code>comment</code> filter is applied. For more info, read description of <code>filter.commentAfter</code> property"),r.define("filter.commentTrigger","id, class","A comma-separated list of attribute names that should exist in abbreviatoin where comment should be added. If you wish to add comment for every element, set this option to <code>*</code>"),function(t){var e=o(r.get("filter.commentBefore")),i=o(r.get("filter.commentAfter"));return n(t,e,i)}})},{"../assets/preferences":27,"../utils/abbreviation":66,"../utils/common":70,"../utils/template":74,"./main":46}],40:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(){function t(t){return t.parent&&!t.parent.parent&&!t.index()}return function e(n,r,i){return i=i||0,n.children.forEach(function(n){t(n)||r.tag_nl===!1||(n.start="\n"+n.start),e(n,r,i+1)}),n}})},{}],41:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(){function t(t){return t.replace(/([<>&])/g,function(t,n){return e[n]})}var e={"<":"&lt;",">":"&gt;","&":"&amp;"};return function n(e){return e.children.forEach(function(e){e.start=t(e.start),e.end=t(e.end),e.content=t(e.content),n(e)}),e}})},{}],42:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t){var e=d.getArray("format.noIndentTags")||[];return~e.indexOf(t.name())?"":"	"}function n(t){return t.parent&&p.hasBlockChildren(t.parent)}function r(t){return t.parent&&!t.parent.parent&&!t.index()}function i(t,e){return e.tag_nl===!0||p.isBlock(t)?!0:t.parent&&e.inline_break?a(t.parent,e):!1}function o(t,e){return t.children.length&&i(t.children[0],e)}function a(t,e){var n=0;return!!f.find(t.children,function(t){return t.isTextNode()||!p.isInline(t)?n=0:p.isInline(t)&&n++,n>=e.inline_break?!0:void 0})}function s(t){return!t.parent}function u(t,e){return t.start=t.end="",!r(t)&&e.tag_nl!==!1&&i(t,e)&&(s(t.parent)||!p.isInline(t.parent))&&(t.start="\n"+t.start),t}function c(t,e){var n=t.children.some(function(t){return p.isSnippet(t)?!1:!p.isInline(t)});return n?!0:a(t,e)}function l(t,a){t.start=t.end=h;var s=p.isUnary(t),u="\n",l=e(t);if(a.tag_nl!==!1){var f=a.tag_nl===!0&&(a.tag_nl_leaf||t.children.length);if(!f){var m=d.getArray("format.forceIndentationForTags")||[];f=~m.indexOf(t.name())}t.isTextNode()||(i(t,a)?(r(t)||p.isSnippet(t.parent)&&!t.index()||(t.start=u+t.start),(p.hasBlockChildren(t)||o(t,a)||f&&!s)&&(t.end=u+t.end),(p.hasTagsInContent(t)||f&&!t.children.length&&!s)&&(t.start+=u+l)):p.isInline(t)&&n(t)&&!r(t)?t.start=u+t.start:p.isInline(t)&&c(t,a)&&(t.end=u+t.end),t.padding=l)}return t}{var f=t("../utils/common"),p=t("../utils/abbreviation"),d=t("../assets/preferences");t("../assets/resources")}d.define("format.noIndentTags","html","A comma-separated list of tag names that should not get inner indentation."),d.define("format.forceIndentationForTags","body","A comma-separated list of tag names that should <em>always</em> get inner indentation.");var h="%s";return function m(t,e,n){return n=n||0,t.children.forEach(function(t){p.isSnippet(t)?u(t,e,n):l(t,e,n),m(t,e,n+1)}),t}})},{"../assets/preferences":27,"../assets/resources":30,"../utils/abbreviation":66,"../utils/common":70}],43:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t){return a.trim(t).replace(/\s+/g,".")}function n(t){var e=[],n=null,r=/^data-/i;return t.forEach(function(t){r.test(t.name)?(n||(n=[],e.push({name:"data",value:n})),n.push(a.extend({},t,{name:t.name.replace(r,"")}))):e.push(t)}),e}function r(t,e){var n=e.attributeQuote();return"{"+t.map(function(t){var i=n+t.value+n;return Array.isArray(t.value)?i=r(t.value,e):t.isBoolean&&(i="true"),":"+t.name+" => "+i}).join(", ")+"}"}function i(t,i){var o="",a=[],s=(i.attributeQuote(),i.cursor());return t.attributeList().forEach(function(t){var n=i.attributeName(t.name);switch(n.toLowerCase()){case"id":o+="#"+(t.value||s);break;case"class":o+="."+e(t.value||s);break;default:a.push({name:n,value:t.value||s,isBoolean:i.isBoolean(t.name,t.value)})}}),a.length&&(o+=r(n(a),i)),o}function o(t,e){if(!t.parent)return t;var n=i(t,e),r=e.cursor(),o=s.isUnary(t),u=e.self_closing_tag&&o?"/":"",c="",l="%"+e.tagName(t.name());"%div"==l.toLowerCase()&&n&&-1==n.indexOf("{")&&(l=""),t.end="",c=l+n+u,t.content&&!/^\s/.test(t.content)&&(t.content=" "+t.content);var f="%s";return t.start=a.replaceSubstring(t.start,c,t.start.indexOf(f),f),t.children.length||o||(t.start+=r),t}var a=t("../utils/common"),s=t("../utils/abbreviation"),u=t("./format");return function c(t,e,n){return n=n||0,n||(t=u(t,"_format",e)),t.children.forEach(function(t){s.isSnippet(t)||o(t,e,n),c(t,e,n+1)}),t}})},{"../utils/abbreviation":66,"../utils/common":70,"./format":42}],44:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t,e){var n=e.attributeQuote(),r=e.cursor();return t.attributeList().map(function(t){var i=e.isBoolean(t.name,t.value),o=e.attributeName(t.name),a=i?o:t.value;return i&&e.allowCompactBoolean()?" "+o:" "+o+"="+n+(a||r)+n}).join("")}function n(t,n){if(!t.parent)return t;var a=e(t,n),s=n.cursor(),u=r.isUnary(t),c="",l="";if(!t.isTextNode()){var f=n.tagName(t.name());u?(c="<"+f+a+n.selfClosing()+">",t.end=""):(c="<"+f+a+">",l="</"+f+">")}var p="%s";return t.start=i.replaceSubstring(t.start,c,t.start.indexOf(p),p),t.end=i.replaceSubstring(t.end,l,t.end.indexOf(p),p),t.children.length||u||~t.content.indexOf(s)||o.extract(t.content).tabstops.length||(t.start+=s),t}var r=t("../utils/abbreviation"),i=t("../utils/common"),o=t("../assets/tabStops"),a=t("./format");return function s(t,e,i){return i=i||0,i||(t=a(t,e,i)),t.children.forEach(function(t){r.isSnippet(t)||n(t,e,i),s(t,e,i+1)}),t}})},{"../assets/tabStops":32,"../utils/abbreviation":66,"../utils/common":70,"./format":42}],45:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t){return a.trim(t).replace(/\s+/g,".")}function n(t,e){var n=e.attributeQuote();return"("+t.map(function(t){return t.isBoolean?t.name:t.name+"="+n+t.value+n}).join(", ")+")"}function r(t,r){var i="",o=[],a=(r.attributeQuote(),r.cursor());return t.attributeList().forEach(function(t){var n=r.attributeName(t.name);switch(n.toLowerCase()){case"id":i+="#"+(t.value||a);break;case"class":i+="."+e(t.value||a);break;default:o.push({name:n,value:t.value||a,isBoolean:r.isBoolean(t.name,t.value)})}}),o.length&&(i+=n(o,r)),i}function i(t){if(t.content){var e=c.replaceVariables(t.content,function(t,e){return"nl"===e||"newline"===e?"\n":t});if(f.test(e)&&!p.test(e)){var n="| ";t.content="\n"+n+a.padString(e,n)}else d.test(e)||(t.content=" "+e)}}function o(t,e){if(!t.parent)return t;var n=r(t,e),o=e.cursor(),u=s.isUnary(t),c=e.tagName(t.name());"div"==c.toLowerCase()&&n&&"("!=n.charAt(0)&&(c=""),t.end="";var l=c+n;i(t);var f="%s";return t.start=a.replaceSubstring(t.start,l,t.start.indexOf(f),f),t.children.length||u||(t.start+=o),t}var a=t("../utils/common"),s=t("../utils/abbreviation"),u=t("./format"),c=t("../assets/tabStops"),l=t("../assets/profile"),f=/[\n\r]/,p=/^\s*\|/,d=/^\s/;return function h(t,e,n){return n=n||0,n||(t=u(t,l.get("xml"))),t.children.forEach(function(t){s.isSnippet(t)||o(t,e,n),h(t,e,n+1)}),t}})},{"../assets/profile":28,"../assets/tabStops":32,"../utils/abbreviation":66,"../utils/common":70,"./format":42}],46:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t){return t?"string"==typeof t?t.split(/[\|,]/g):t:[]}var n=t("../utils/common"),r=t("../assets/profile"),i=t("../assets/resources"),o={html:t("./html"),haml:t("./haml"),jade:t("./jade"),slim:t("./slim"),xsl:t("./xsl"),css:t("./css"),bem:t("./bem"),c:t("./comment"),e:t("./escape"),s:t("./singleLine"),t:t("./trim")},a="html";return{add:function(t,e){o[t]=e},apply:function(t,i,a){return a=r.get(a),e(i).forEach(function(e){var r=n.trim(e.toLowerCase());r&&r in o&&(t=o[r](t,a))}),t},composeList:function(t,n,o){n=r.get(n);var s=e(n.filters||i.findItem(t,"filters")||a);return n.extraFilters&&(s=s.concat(e(n.extraFilters))),o&&(s=s.concat(e(o))),s&&s.length||(s=e(a)),s},extract:function(t){var n="";return t=t.replace(/\|([\w\|\-]+)$/,function(t,e){return n=e,""}),[t,e(n)]}}})},{"../assets/profile":28,"../assets/resources":30,"../utils/common":70,"./bem":38,"./comment":39,"./css":40,"./escape":41,"./haml":43,"./html":44,"./jade":45,"./singleLine":47,"./slim":48,"./trim":49,"./xsl":50}],47:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){var e=t("../utils/abbreviation"),n=/^\s+/,r=/[\n\r]/g;return function i(t){return t.children.forEach(function(t){e.isSnippet(t)||(t.start=t.start.replace(n,""),t.end=t.end.replace(n,"")),t.start=t.start.replace(r,""),t.end=t.end.replace(r,""),t.content=t.content.replace(r,""),i(t)}),t}})},{"../utils/abbreviation":66}],48:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t){return s.trim(t).replace(/\s+/g,".")}function n(){var t=" ",e="";switch(f.get("slim.attributesWrapper")){case"round":t="(",e=")";break;case"square":t="[",e="]";break;case"curly":t="{",e="}"}return{start:t,end:e}}function r(t,e){var r=e.attributeQuote(),i=n();return i.start+t.map(function(t){var e=r+t.value+r;if(t.isBoolean){if(i.end)return t.name;e="true"}return t.name+"="+e}).join(" ")+i.end}function i(t,n){var i="",o=[],a=(n.attributeQuote(),n.cursor());return t.attributeList().forEach(function(t){var r=n.attributeName(t.name);switch(r.toLowerCase()){case"id":i+="#"+(t.value||a);break;case"class":i+="."+e(t.value||a);break;default:o.push({name:r,value:t.value||a,isBoolean:n.isBoolean(t.name,t.value)})}}),o.length&&(i+=r(o,n)),i}function o(t){if(t.content){var e=l.replaceVariables(t.content,function(t,e){return"nl"===e||"newline"===e?"\n":t});if(d.test(e)&&!h.test(e)){var n="  ";t.content="\n| "+s.padString(e,n)}else m.test(e)||(t.content=" "+e)}}function a(t,e){if(!t.parent)return t;var n=i(t,e),r=e.cursor(),a=u.isUnary(t),c=e.self_closing_tag&&a?"/":"",l=e.tagName(t.name());"div"==l.toLowerCase()&&n&&-1=="([{".indexOf(n.charAt(0))&&(l=""),t.end="";var f=l+n+c;o(t);var p="%s";return t.start=s.replaceSubstring(t.start,f,t.start.indexOf(p),p),t.children.length||a||(t.start+=r),t}var s=t("../utils/common"),u=t("../utils/abbreviation"),c=t("./format"),l=t("../assets/tabStops"),f=t("../assets/preferences"),p=t("../assets/profile"),d=/[\n\r]/,h=/^\s*\|/,m=/^\s/;return f.define("slim.attributesWrapper","none","Defines how attributes will be wrapped:<ul><li><code>none</code> – no wrapping;</li><li><code>round</code> — wrap attributes with round braces;</li><li><code>square</code> — wrap attributes with round braces;</li><li><code>curly</code> — wrap attributes with curly braces.</li></ul>"),function g(t,e,n){return n=n||0,n||(t=c(t,p.get("xml"))),t.children.forEach(function(t){u.isSnippet(t)||a(t,e,n),g(t,e,n+1)}),t}})},{"../assets/preferences":27,"../assets/profile":28,"../assets/tabStops":32,"../utils/abbreviation":66,"../utils/common":70,"./format":42}],49:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t,n){return t.children.forEach(function(t){t.content&&(t.content=t.content.replace(n,"")),e(t,n)}),t}var n=t("../assets/preferences");return n.define("filter.trimRegexp","[\\s|\\u00a0]*[\\d|#|\\-|*|\\u2022]+\\.?\\s*","Regular expression used to remove list markers (numbers, dashes, bullets, etc.) in <code>t</code> (trim) filter. The trim filter is useful for wrapping with abbreviation lists, pased from other documents (for example, Word documents)."),function(t){var r=new RegExp(n.get("filter.trimRegexp"));return e(t,r)}})},{"../assets/preferences":27}],50:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t){t.start=t.start.replace(/\s+select\s*=\s*(['"]).*?\1/,"")}var n=t("../utils/abbreviation"),r={"xsl:variable":1,"xsl:with-param":1};return function i(t){return t.children.forEach(function(t){!n.isSnippet(t)&&(t.name()||"").toLowerCase()in r&&t.children.length&&e(t),i(t)}),t}})},{"../utils/abbreviation":66}],51:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t,e){return Math.round(Math.random()*(e-t)+t)}function n(t,n){for(var r=t.length,i=Math.min(r,n),o=[];o.length<i;){var a=e(0,r-1);~o.indexOf(a)||o.push(a)}return o.map(function(e){return t[e]})}function r(t){return"string"==typeof t?t.charAt(e(0,t.length-1)):t[e(0,t.length-1)]}function i(t,e){return t.length&&(t[0]=t[0].charAt(0).toUpperCase()+t[0].substring(1)),t.join(" ")+(e||r("?!..."))}function o(t){var n=t.length;if(!(2>n)){var r=0;r=n>3&&6>=n?e(0,1):n>6&&12>=n?e(0,2):e(1,4);for(var i,o,a=0;r>a;a++)i=e(0,t.length-2),o=t[i],","!==o.charAt(o.length-1)&&(t[i]+=",")}}function a(t,r,a){var s=u[t];if(!s)return"";var c,l=[],f=0;for(r=parseInt(r,10),a&&s.common&&(c=s.common.slice(0,r),c.length>5&&(c[4]+=","),f+=c.length,l.push(i(c,".")));r>f;)c=n(s.words,Math.min(e(2,30),r-f)),f+=c.length,o(c),l.push(i(c));return l.join(" ")}var s=t("../assets/preferences"),u={en:{common:["lorem","ipsum","dolor","sit","amet","consectetur","adipisicing","elit"],words:["exercitationem","perferendis","perspiciatis","laborum","eveniet","sunt","iure","nam","nobis","eum","cum","officiis","excepturi","odio","consectetur","quasi","aut","quisquam","vel","eligendi","itaque","non","odit","tempore","quaerat","dignissimos","facilis","neque","nihil","expedita","vitae","vero","ipsum","nisi","animi","cumque","pariatur","velit","modi","natus","iusto","eaque","sequi","illo","sed","ex","et","voluptatibus","tempora","veritatis","ratione","assumenda","incidunt","nostrum","placeat","aliquid","fuga","provident","praesentium","rem","necessitatibus","suscipit","adipisci","quidem","possimus","voluptas","debitis","sint","accusantium","unde","sapiente","voluptate","qui","aspernatur","laudantium","soluta","amet","quo","aliquam","saepe","culpa","libero","ipsa","dicta","reiciendis","nesciunt","doloribus","autem","impedit","minima","maiores","repudiandae","ipsam","obcaecati","ullam","enim","totam","delectus","ducimus","quis","voluptates","dolores","molestiae","harum","dolorem","quia","voluptatem","molestias","magni","distinctio","omnis","illum","dolorum","voluptatum","ea","quas","quam","corporis","quae","blanditiis","atque","deserunt","laboriosam","earum","consequuntur","hic","cupiditate","quibusdam","accusamus","ut","rerum","error","minus","eius","ab","ad","nemo","fugit","officia","at","in","id","quos","reprehenderit","numquam","iste","fugiat","sit","inventore","beatae","repellendus","magnam","recusandae","quod","explicabo","doloremque","aperiam","consequatur","asperiores","commodi","optio","dolor","labore","temporibus","repellat","veniam","architecto","est","esse","mollitia","nulla","a","similique","eos","alias","dolore","tenetur","deleniti","porro","facere","maxime","corrupti"]},ru:{common:["далеко-далеко","за","словесными","горами","в стране","гласных","и согласных","живут","рыбные","тексты"],words:["вдали","от всех","они","буквенных","домах","на берегу","семантика","большого","языкового","океана","маленький","ручеек","даль","журчит","по всей","обеспечивает","ее","всеми","необходимыми","правилами","эта","парадигматическая","страна","которой","жаренные","предложения","залетают","прямо","рот","даже","всемогущая","пунктуация","не","имеет","власти","над","рыбными","текстами","ведущими","безорфографичный","образ","жизни","однажды","одна","маленькая","строчка","рыбного","текста","имени","lorem","ipsum","решила","выйти","большой","мир","грамматики","великий","оксмокс","предупреждал","о","злых","запятых","диких","знаках","вопроса","коварных","точках","запятой","но","текст","дал","сбить","себя","толку","он","собрал","семь","своих","заглавных","букв","подпоясал","инициал","за","пояс","пустился","дорогу","взобравшись","первую","вершину","курсивных","гор","бросил","последний","взгляд","назад","силуэт","своего","родного","города","буквоград","заголовок","деревни","алфавит","подзаголовок","своего","переулка","грустный","реторический","вопрос","скатился","его","щеке","продолжил","свой","путь","дороге","встретил","рукопись","она","предупредила","моей","все","переписывается","несколько","раз","единственное","что","меня","осталось","это","приставка","возвращайся","ты","лучше","свою","безопасную","страну","послушавшись","рукописи","наш","продолжил","свой","путь","вскоре","ему","повстречался","коварный","составитель","рекламных","текстов","напоивший","языком","речью","заманивший","свое","агенство","которое","использовало","снова","снова","своих","проектах","если","переписали","то","живет","там","до","сих","пор"]}};
return s.define("lorem.defaultLang","en",'Default language of generated dummy text. Currently, <code>en</code>		and <code>ru</code> are supported, but users can add their own syntaxes		see <a href="http://docs.emmet.io/abbreviations/lorem-ipsum/">docs</a>.'),s.define("lorem.omitCommonPart",!1,"Omit commonly used part (e.g. “Lorem ipsum dolor sit amet“) from generated text."),{addLang:function(t,e){"string"==typeof e?e={words:e.split(" ").filter(function(t){return!!t})}:Array.isArray(e)&&(e={words:e}),u[t]=e},preprocessor:function(t){var e,n=/^(?:lorem|lipsum)([a-z]{2})?(\d*)$/i,r=!s.get("lorem.omitCommonPart");t.findAll(function(t){if(t._name&&(e=t._name.match(n))){var i=e[2]||30,o=e[1]||s.get("lorem.defaultLang")||"en";t._name="",t.data("forceNameResolving",t.isRepeating()||t.attributeList().length),t.data("pasteOverwrites",!0),t.data("paste",function(t){return a(o,i,!t&&r)})}})}}})},{"../assets/preferences":27}],52:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(){this.parent=null,this.children=[],this._attributes=[],this.abbreviation="",this.counter=1,this._name=null,this._text="",this.repeatCount=1,this.hasImplicitRepeat=!1,this._data={},this.start="",this.end="",this.content="",this.padding=""}function n(t){return t.substring(1,t.length-1)}function r(t){t=g.trim(t);for(var i,o,a=new e,s=a.addChild(),u=v.create(t),c=1e3,l=function(t){s.addChild(t)},f=function(){u.start=u.pos,u.eatWhile(function(t){if("["==t||"{"==t){if(u.skipToPair(t,P[t]))return u.backUp(1),!0;throw'Invalid abbreviation: mo matching "'+P[t]+'" found for character at '+u.pos}if("+"==t){u.next();var e=u.eol()||~"+>^*".indexOf(u.peek());return u.backUp(1),e}return"("!=t&&p(t)})};!u.eol()&&--c>0;)switch(i=u.peek()){case"(":if(u.start=u.pos,!u.skipToPair("(",")"))throw'Invalid abbreviation: mo matching ")" found for character at '+u.pos;var d=r(n(u.current()));(o=u.match(/^\*(\d+)?/,!0))&&s._setRepeat(o[1]),d.children.forEach(l);break;case">":s=s.addChild(),u.next();break;case"+":s=s.parent.addChild(),u.next();break;case"^":var h=s.parent||s;s=(h.parent||h).addChild(),u.next();break;default:f(),s.setAbbreviation(u.current()),u.start=u.pos}if(1>c)throw"Endless loop detected";return a}function i(t){t=g.trim(t);for(var e,n=[],r=v(t);e=r.next();)if(" "==e){for(n.push(g.trim(r.current()));" "==r.peek();)r.next();r.start=r.pos}else if(('"'==e||"'"==e)&&!r.skipString(e))throw new Error("Invalid attribute set");return n.push(g.trim(r.current())),n}function o(t){var e=t.charAt(0);if('"'==e||"'"==e){t=t.substr(1);var n=t.charAt(t.length-1);n===e&&(t=t.substr(0,t.length-1))}return t}function a(t){var e=/^[\w\-:\$@]+\.?$/;return i(t).map(function(t){if(e.test(t)){var n="";return"."==t.charAt(t.length-1)&&(t=t.substr(0,t.length-1),n=t),{name:t,value:n}}if(~t.indexOf("=")){var r=t.split("=");return{name:r.shift(),value:o(r.join("="))}}return{name:$,value:o(t)}})}function s(t){for(var e=[],r={"#":"id",".":"class"},i=null,o=v.create(t);!o.eol();)switch(o.peek()){case"#":case".":null===i&&(i=o.pos);var s=r[o.peek()];o.next(),o.start=o.pos,o.eatWhile(A),e.push({name:s,value:o.current()});break;case"[":if(null===i&&(i=o.pos),o.start=o.pos,!o.skipToPair("[","]"))throw"Invalid attribute set definition";e=e.concat(a(n(o.current())));break;default:o.next()}return e.length?{element:t.substring(0,i),attributes:u(e)}:null}function u(t){t=t.map(function(t){return g.clone(t)});var e={};return t.filter(function(t){if(!(t.name in e))return e[t.name]=t;var n=e[t.name];return"class"==t.name.toLowerCase()?n.value+=(n.value.length?" ":"")+t.value:n.value=t.value,!1})}function c(t){if(!~t.indexOf("{"))return null;for(var e=v.create(t);!e.eol();)switch(e.peek()){case"[":case"(":e.skipToPair(e.peek(),P[e.peek()]);break;case"{":return e.start=e.pos,e.skipToPair("{","}"),{element:t.substring(0,e.start),text:n(e.current())};default:e.next()}}function l(t){for(var e,n,r,i=t.children.length-1;i>=0;i--)if(n=t.children[i],n.isRepeating())for(r=e=n.repeatCount,n.repeatCount=1,n.updateProperty("counter",1),n.updateProperty("maxCount",r);--e>0;)n.parent.addChild(n.clone(),i+1).updateProperty("counter",e+1).updateProperty("maxCount",r);return t.children.forEach(l),t}function f(t){for(var e=t.children.length-1;e>=0;e--){var n=t.children[e];n.isGroup()?n.replace(f(n).children):n.isEmpty()&&n.remove()}return t.children.forEach(f),t}function p(t){var e=t.charCodeAt(0),n="#.*:$-_!@|%";return e>64&&91>e||e>96&&123>e||e>47&&58>e||-1!=n.indexOf(t)}var d=t("../assets/tabStops"),h=t("../assets/profile"),m=t("../filter/main"),g=t("../utils/common"),b=t("../utils/abbreviation"),v=t("../assets/stringStream"),x=t("../generator/lorem"),y=t("./processor/pastedContent"),w=t("./processor/tagName"),k=t("./processor/resourceMatcher"),S=t("./processor/attributes"),_=t("./processor/href"),C=/^[\w\-\$\:@\!%]+\+?$/i,A=/[\w\-:\$@]/,$="%default",P={"[":"]","(":")","{":"}"},E=Array.prototype.splice,T=[],O=[],j=[];return e.prototype={addChild:function(t,n){return t=t||new e,t.parent=this,"undefined"==typeof n?this.children.push(t):this.children.splice(n,0,t),t},clone:function(){var t=new e,n=["abbreviation","counter","_name","_text","repeatCount","hasImplicitRepeat","start","end","content","padding"];return n.forEach(function(e){t[e]=this[e]},this),t._attributes=this._attributes.map(function(t){return g.extend({},t)}),t._data=g.extend({},this._data),t.children=this.children.map(function(e){return e=e.clone(),e.parent=t,e}),t},remove:function(){if(this.parent){var t=this.parent.children.indexOf(this);~t&&this.parent.children.splice(t,1)}return this},replace:function(){var t=this.parent,e=t.children.indexOf(this),n=g.flatten(arguments);E.apply(t.children,[e,1].concat(n)),n.forEach(function(e){e.parent=t})},updateProperty:function(t,e){return this[t]=e,this.children.forEach(function(n){n.updateProperty(t,e)}),this},find:function(t){return this.findAll(t,{amount:1})[0]},findAll:function(t,e){if(e=g.extend({amount:0,found:0},e||{}),"function"!=typeof t){var n=t.toLowerCase();t=function(t){return t.name().toLowerCase()==n}}var r=[];return this.children.forEach(function(n){t(n)&&(r.push(n),e.found++,e.amount&&e.found>=e.amount)||(r=r.concat(n.findAll(t)))}),r.filter(function(t){return!!t})},data:function(t,e){return 2==arguments.length&&(this._data[t]=e),this._data[t]},name:function(){return this._name},attributeList:function(){return u(this._attributes.slice(0))},attribute:function(t,e){if(2==arguments.length){if(null===e){var n=this._attributes.filter(function(e){return e.name===t}),r=this;return void n.forEach(function(t){var e=r._attributes.indexOf(t);~e&&r._attributes.splice(e,1)})}var i=this._attributes.map(function(t){return t.name}),o=i.indexOf(t.toLowerCase());~o?this._attributes[o].value=e:this._attributes.push({name:t,value:e})}return(g.find(this.attributeList(),function(e){return e.name==t})||{}).value},index:function(){return this.parent?this.parent.children.indexOf(this):-1},_setRepeat:function(t){t?this.repeatCount=parseInt(t,10)||1:this.hasImplicitRepeat=!0},setAbbreviation:function(t){t=t||"";var e=this;t=t.replace(/\*(\d+)?$/,function(t,n){return e._setRepeat(n),""}),this.abbreviation=t;var n=c(t);n&&(t=n.element,this.content=this._text=n.text);var r=s(t);if(r&&(t=r.element,this._attributes=r.attributes),this._name=t,this._name&&!C.test(this._name))throw new Error("Invalid abbreviation")},valueOf:function(){var t=this.start,e=this.end,n=this.content,r=this;j.forEach(function(i){t=i(t,r,"start"),n=i(n,r,"content"),e=i(e,r,"end")});var i=this.children.map(function(t){return t.valueOf()}).join("");return n=b.insertChildContent(n,i,{keepVariable:!1}),t+g.padString(n,this.padding)+e},toString:function(){return this.valueOf()},hasEmptyChildren:function(){return!!g.find(this.children,function(t){return t.isEmpty()})},hasImplicitName:function(){return!this._name&&!this.isTextNode()},isGroup:function(){return!this.abbreviation},isEmpty:function(){return!this.abbreviation&&!this.children.length},isRepeating:function(){return this.repeatCount>1||this.hasImplicitRepeat},isTextNode:function(){return!this.name()&&!this.attributeList().length},isElement:function(){return!this.isEmpty()&&!this.isTextNode()},deepestChild:function(){if(!this.children.length)return null;for(var t=this;t.children.length;)t=t.children[t.children.length-1];return t}},j.push(function(t,e){return g.replaceCounter(t,e.counter,e.maxCount)}),j.push(d.abbrOutputProcessor.bind(d)),[x,k,S,y,w,_].forEach(function(t){t.preprocessor&&T.push(t.preprocessor.bind(t)),t.postprocessor&&O.push(t.postprocessor.bind(t))}),{DEFAULT_ATTR_NAME:$,parse:function(t,e){e=e||{};var n=r(t),i=this;if(e.contextNode){n._name=e.contextNode.name;var o={};n._attributes.forEach(function(t){o[t.name]=t}),e.contextNode.attributes.forEach(function(t){t.name in o?o[t.name].value=t.value:(t=g.clone(t),n._attributes.push(t),o[t.name]=t)})}return T.forEach(function(t){t(n,e,i)}),"counter"in e&&n.updateProperty("counter",e.counter),n=f(l(n)),O.forEach(function(t){t(n,e,i)}),n},expand:function(t,e){if(!t)return"";if("string"==typeof e)throw new Error("Deprecated use of `expand` method: `options` must be object");e=e||{},e.syntax||(e.syntax=g.defaultSyntax());var n=h.get(e.profile,e.syntax);d.resetTabstopIndex();var r=m.extract(t),i=this.parse(r[0],e),o=m.composeList(e.syntax,n,r[1]);return m.apply(i,o,n),i.valueOf()},AbbreviationNode:e,addPreprocessor:function(t){~T.indexOf(t)||T.push(t)},removeFilter:function(t){var e=T.indexOf(t);~e&&T.splice(e,1)},addPostprocessor:function(t){~O.indexOf(t)||O.push(t)},removePostprocessor:function(t){var e=O.indexOf(t);~e&&O.splice(e,1)},addOutputProcessor:function(t){~j.indexOf(t)||j.push(t)},removeOutputProcessor:function(t){var e=j.indexOf(t);~e&&j.splice(e,1)},isAllowedChar:function(t){return t=String(t),p(t)||~">+^[](){}".indexOf(t)}}})},{"../assets/profile":28,"../assets/stringStream":31,"../assets/tabStops":32,"../filter/main":46,"../generator/lorem":51,"../utils/abbreviation":66,"../utils/common":70,"./processor/attributes":54,"./processor/href":55,"./processor/pastedContent":56,"./processor/resourceMatcher":57,"./processor/tagName":58}],53:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(){function t(t,e){return e=e||t.charCodeAt(0),e>=97&&122>=e||e>=65&&90>=e||e>=1024&&1279>=e||"&"===t||"_"===t||"<"===t||">"===t||"="===t||"-"===t}function e(t,e){return e=e||t.charCodeAt(0),e>=48&&57>=e}function n(t,e){m.tokens.push({value:t,type:e||t,start:null,end:null})}function r(t){for(var e=t.chnum,n=t.source.replace(/\r\n?/g,"\n"),r=t.source.substring(0,e+1).replace(/\r\n?/g,"\n"),i=r.split("\n"),o=(i[i.length-1]||"").length,a=n.split("\n")[i.length-1]||"",s=100,u=Math.max(0,o-s),c=a.substr(u,2*s)+"\n",l=0;o-u-1>l;l++)c+="-";return c+="^",{line:i.length,ch:o,text:a,hint:c}}function i(t){var e=o(t),n=new Error(e.message,"",e.line);throw n.line=e.line,n.ch=e.ch,n.name=e.name,n.hint=e.hint,n}function o(t){{var e=r(g);m.tokens}m.tokens=null;var n="CSS parsing error at line "+e.line+", char "+e.ch+": "+t;return n+="\n"+e.hint,{name:"ParseError",message:n,hint:e.hint,line:e.line,ch:e.ch}}function a(){for(var t=g.ch,e="";" "===t||"	"===t;)e+=t,t=g.nextChar();n(e,"white")}function s(){var t,e=g,r=e.ch,i=r;if(t=e.nextChar(),"/"===t)for(;r&&"\n"!==t&&"\r"!==t;)i+=t,r=t,t=e.nextChar();else{if("*"!==t)return n(i,i);for(;r&&("*"!==r||"/"!==t);)i+=t,r=t,t=e.nextChar()}i+=t,e.nextChar(),n(i,"comment")}function u(){var t,e=g,n=e.ch,r=n,o=n;for(n=e.nextChar();n!==r;)"\n"===n?(t=e.nextChar(),"\\"===t?o+=n+t:i("Unterminated string")):o+="\\"===n?n+e.nextChar():n,n=e.nextChar();return o+=n}function c(){var t=u();g.nextChar(),n(t,"string")}function l(){var t=g,e=t.ch,r=1,o=e,a=!1;for(e=t.nextChar();e&&!a;)"("===e?r++:")"===e?(r--,r||(a=!0)):'"'===e||"'"===e?e=u():""===e&&i("Unterminated brace"),o+=e,e=t.nextChar();n(o,"brace")}function f(r){var i=g.ch,o=r?r+i:i;i=g.nextChar();for(var a=i.charCodeAt(0);t(i,a)||e(i,a);)o+=i,i=g.nextChar(),a=i.charCodeAt(0);n(o,"identifier")}function p(){var t,r=g,i=r.ch,o=i,a="."===o;if(i=r.nextChar(),t=!e(i),a&&t)return n(o,".");if("-"===o&&t)return f("-");for(;""!==i&&(e(i)||!a&&"."===i);)"."===i&&(a=!0),o+=i,i=r.nextChar();n(o,"number")}function d(){var t=g,e=t.ch,r=e,i=t.nextChar();return"="===i&&b(r,!0)?(r+=i,n(r,"match"),void t.nextChar()):void n(r,r)}function h(){var r=g.ch;return" "===r||"	"===r?a():"/"===r?s():'"'===r||"'"===r?c():"("===r?l():"-"===r||"."===r||e(r)?p():t(r)?f():b(r)?d():"\r"===r?("\n"===g.peek()&&(r+=g.nextChar()),n(r,"line"),void g.nextChar()):"\n"===r?(n(r,"line"),void g.nextChar()):void i("Unrecognized character '"+r+"'")}var m={tokens:null},g={init:function(t){this.source=t,this.ch="",this.chnum=-1,this.nextChar()},nextChar:function(){return this.ch=this.source.charAt(++this.chnum)},peek:function(){return this.source.charAt(this.chnum+1)}},b=function(){for(var t="{}[]()+*=.,;:>~|\\%$#@^!".split(""),e="*^|$~".split(""),n={},r={},i=0;i<t.length;i+=1)n[t[i]]=!0;for(i=0;i<e.length;i+=1)r[e[i]]=!0;return function(t,e){return e?t in r:t in n}}();return{lex:function(t){if(g.init(t),m.tokens=[],t)for(;""!==g.ch;)h();else m.tokens.push(this.white());var e=m.tokens;return m.tokens=null,e},parse:function(t){for(var e,n=this.lex(t),r=0,i=0,o=n.length;o>i;i++)e=n[i],e.start=r,e.end=r+=e.value.length;return n},white:function(){return{value:"",type:"white",start:0,end:0}},toSource:function(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}}})},{}],54:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t,a){t.children.forEach(function(t){var s=t.attributeList(),u=t.attribute(a.DEFAULT_ATTR_NAME);if("undefined"!=typeof u){if(t.attribute(a.DEFAULT_ATTR_NAME,null),s.length){var c=n.find(s,r)||n.find(s,i)||n.find(s,o);if(c){var l=t.attribute(c.name),f=n.replaceUnescapedSymbol(l,"|",u);l==f&&(f=u),t.attribute(c.name,f)}}}else s.forEach(function(e){e.isImplied&&t.attribute(e.name,null)});e(t,a)})}var n=t("../../utils/common"),r=function(t){return t.isDefault},i=function(t){return t.isImplied},o=function(t){return!t.value};return{preprocessor:function(t,n,r){e(t,r)}}})},{"../../utils/common":70}],55:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){var e=t("../../assets/preferences"),n=t("../../utils/common"),r=t("./pastedContent");return e.define("href.autodetect",!0,"Enables or disables automatic URL recognition when wrapping		text with <code>&lt;a&gt;</code> tag. With this option enabled,		if wrapped text matches URL or e-mail pattern it will be automatically		inserted into <code>href</code> attribute."),e.define("href.urlPattern","^(?:(?:https?|ftp|file)://|www\\.|ftp\\.)(?:\\([-A-Z0-9+&@#/%=~_|$?!:,.]*\\)|[-A-Z0-9+&@#/%=~_|$?!:,.])*(?:\\([-A-Z0-9+&@#/%=~_|$?!:,.]*\\)|[A-Z0-9+&@#/%=~_|$])","RegExp pattern to match wrapped URLs. Matched content will be inserts		as-is into <code>href</code> attribute, only whitespace will be trimmed."),e.define("href.emailPattern","^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,5}$","RegExp pattern to match wrapped e-mails. Unlike <code>href.urlPattern</code>,		wrapped content will be prefixed with <code>mailto:</code> in <code>href</code>		attribute"),{postprocessor:function(t,i){if(e.get("href.autodetect")){var o=new RegExp(e.get("href.urlPattern"),"i"),a=new RegExp(e.get("href.emailPattern"),"i"),s=/^([a-z]+:)?\/\//i;t.findAll(function(t){if("a"==t.name().toLowerCase()&&!t.attribute("href")){var e=n.trim(r.pastedContent(t)||i.pastedContent);e&&(o.test(e)?(s.test(e)||(e="http://"+e),t.attribute("href",e)):a.test(e)&&t.attribute("href","mailto:"+e))}})}}}})},{"../../assets/preferences":27,"../../utils/common":70,"./pastedContent":56}],56:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t){for(var e=[],n=s.create(t);!n.eol();){if("\\"==n.peek())n.next();else if(n.start=n.pos,n.match(c,!0)){e.push(u.create(n.start,c));continue}n.next()}return e}function n(t,n){var r=e(t);return r.reverse().forEach(function(e){t=o.replaceSubstring(t,n,e)}),t}function r(t){return e(t.content).length?!0:!!o.find(t.attributeList(),function(t){return!!e(t.value).length})}function i(t,e,i){var o=t.findAll(function(t){return r(t)});if(r(t)&&o.unshift(t),o.length)o.forEach(function(t){t.content=n(t.content,e),t._attributes.forEach(function(t){t.value=n(t.value,e)})});else{var s=t.deepestChild()||t;s.content=i?e:a.insertChildContent(s.content,e)}}var o=t("../../utils/common"),a=t("../../utils/abbreviation"),s=t("../../assets/stringStream"),u=t("../../assets/range"),c="$#";return{pastedContent:function(t){var e=t.data("paste");return Array.isArray(e)?e[t.counter-1]:"function"==typeof e?e(t.counter-1,t.content):e?e:void 0},preprocessor:function(t,e){if(e.pastedContent){var n=o.splitByLines(e.pastedContent,!0).map(o.trim);t.findAll(function(t){return t.hasImplicitRepeat?(t.data("paste",n),t.repeatCount=n.length):void 0})}},postprocessor:function(t,e){var n=this,r=t.findAll(function(t){var e=n.pastedContent(t);return e&&i(t,e,!!t.data("pasteOverwrites")),!!e});!r.length&&e.pastedContent&&i(t,e.pastedContent)}}})},{"../../assets/range":29,"../../assets/stringStream":31,"../../utils/abbreviation":66,"../../utils/common":70}],57:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t,i,a){t.children.slice(0).forEach(function(t){var s=n.getMatchedResource(t,i);"string"==typeof s&&(s=r.create("snippet",s)),t.data("resource",s);var u=r.type(s);if("snippet"==u){var c=s.data,l=t._text||t.content;l&&(c=o.insertChildContent(c,l)),t.content=c}else if("element"==u)t._name=s.name,Array.isArray(s.attributes)&&(t._attributes=[].concat(s.attributes,t._attributes));else if("reference"==u){var f=a.parse(s.data,{syntax:i});if(t.repeatCount>1){var p=f.findAll(function(t){return t.hasImplicitRepeat});p.length||(p=f.children),p.forEach(function(e){e.repeatCount=t.repeatCount,e.hasImplicitRepeat=!1})}var d=f.deepestChild();d&&(t.children.forEach(function(t){d.addChild(t)}),d.content=t.content),f.children.forEach(function(e){t.attributeList().forEach(function(t){e.attribute(t.name,t.value)})}),t.replace(f.children)}e(t,i,a)})}var n=t("../../assets/resources"),r=t("../../assets/elements"),i=t("../../utils/common"),o=t("../../utils/abbreviation");return{preprocessor:function(t,n,r){var o=n.syntax||i.defaultSyntax();e(t,o,r)}}})},{"../../assets/elements":23,"../../assets/resources":30,"../../utils/abbreviation":66,"../../utils/common":70}],58:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t){return t.children.forEach(function(t){(t.hasImplicitName()||t.data("forceNameResolving"))&&(t._name=n.resolve(t.parent.name()),t.data("nameResolved",!0)),e(t)}),t}var n=t("../../resolver/tagName");return{postprocessor:e}})},{"../../resolver/tagName":64}],59:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t,e){function r(n){return e.tokenize=n,n(t,e)}var a=t.next();if("<"==a){if(t.eat("!"))return t.eat("[")?t.match("CDATA[")?r(i("atom","]]>")):null:t.match("--")?r(i("comment","-->")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),r(o(1))):null;if(t.eat("?"))return t.eatWhile(/[\w\._\-]/),e.tokenize=i("meta","?>"),"meta";_=t.eat("/")?"closeTag":"openTag",t.eatSpace(),S="";for(var s;s=t.eat(/[^\s\u00a0=<>\"\'\/?]/);)S+=s;return e.tokenize=n,"tag"}if("&"==a){var u;return u=t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"),u?"atom":"error"}return t.eatWhile(/[^&<]/),"text"}function n(t,n){var i=t.next();return">"==i||"/"==i&&t.eat(">")?(n.tokenize=e,_=">"==i?"endTag":"selfcloseTag","tag"):"="==i?(_="equals",null):/[\'\"]/.test(i)?(n.tokenize=r(i),n.tokenize(t,n)):(t.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function r(t){return function(e,r){for(;!e.eol();)if(e.next()==t){r.tokenize=n;break}return"string"}}function i(t,n){return function(r,i){for(;!r.eol();){if(r.match(n)){i.tokenize=e;break}r.next()}return t}}function o(t){return function(n,r){for(var i;null!==(i=n.next());){if("<"==i)return r.tokenize=o(t+1),r.tokenize(n,r);if(">"==i){if(1==t){r.tokenize=e;break}return r.tokenize=o(t-1),r.tokenize(n,r)}}return"meta"}}function a(){for(var t=arguments.length-1;t>=0;t--)C.cc.push(arguments[t])}function s(){return a.apply(null,arguments),!0}function u(t,e){var n=k.doNotIndent.hasOwnProperty(t)||C.context&&C.context.noIndent;C.context={prev:C.context,tagName:t,indent:C.indented,startOfLine:e,noIndent:n}}function c(){C.context&&(C.context=C.context.prev)}function l(t){if("openTag"==t)return C.tagName=S,s(h,f(C.startOfLine));if("closeTag"==t){var e=!1;return C.context?C.context.tagName!=S&&(k.implicitlyClosed.hasOwnProperty(C.context.tagName.toLowerCase())&&c(),e=!C.context||C.context.tagName!=S):e=!0,e&&(y="error"),s(p(e))}return s()}function f(t){return function(e){return"selfcloseTag"==e||"endTag"==e&&k.autoSelfClosers.hasOwnProperty(C.tagName.toLowerCase())?(d(C.tagName.toLowerCase()),s()):"endTag"==e?(d(C.tagName.toLowerCase()),u(C.tagName,t),s()):s()}}function p(t){return function(e){return t&&(y="error"),"endTag"==e?(c(),s()):(y="error",s(arguments.callee))}}function d(t){for(var e;;){if(!C.context)return;if(e=C.context.tagName.toLowerCase(),!k.contextGrabbers.hasOwnProperty(e)||!k.contextGrabbers[e].hasOwnProperty(t))return;c()}}function h(t){return"word"==t?(y="attribute",s(m,h)):"endTag"==t||"selfcloseTag"==t?a():(y="error",s(h))}function m(t){return"equals"==t?s(g,h):(k.allowMissing||(y="error"),"endTag"==t||"selfcloseTag"==t?a():s())}function g(t){return"string"==t?s(b):"word"==t&&k.allowUnquoted?(y="string",s()):(y="error","endTag"==t||"selfCloseTag"==t?a():s())}function b(t){return"string"==t?s(b):a()}function v(){return{tokenize:e,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}}function x(t,e){if(t.sol()&&(e.startOfLine=!0,e.indented=0),t.eatSpace())return null;y=_=S=null;var n=e.tokenize(t,e);if(e.type=_,(n||_)&&"comment"!=n)for(C=e;;){var r=e.cc.pop()||l;if(r(_||n))break}return e.startOfLine=!1,y||n}var y,w=t("../assets/stringStream"),k={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!0,allowMissing:!0},S=null,_=null,C=null;return{parse:function(t,e){e=e||0;for(var n=v(),r=w.create(t),i=[];!r.eol();)i.push({type:x(r,n),start:r.start+e,end:r.pos+e}),r.start=r.pos;return i}}})},{"../assets/stringStream":31}],60:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t,e,n){function i(t){for(var e=[],n=0,r=t.length;r>n;n++)e.push(String.fromCharCode(t[n]));return e.join("")}function o(t){var e=/^https?:\/\//;return e.test(t)}var a=t("../utils/common");return function(t){if("undefined"==typeof r||!r.amd)try{fs=t("fs"),path=t("path")}catch(e){}}(t),n.exports=function(t){t&&a.extend(n.exports,t)},a.extend(n.exports,{_parseParams:function(t){var e={path:t[0],size:0};return t=a.toArray(t,1),e.callback=t[t.length-1],t=t.slice(0,t.length-1),t.length&&(e.size=t[0]),e},_read:function(e,n){if(o(e.path))var r=t(/^https:/.test(e.path)?"https":"http").get(e.path,function(t){var i=[],o=0,a=!1;t.on("data",function(t){o+=t.length,i.push(t),e.size&&o>=e.size&&(a=!0,n(null,Buffer.concat(i)),r.abort())}).on("end",function(){a||(a=!0,n(null,Buffer.concat(i)))})}).on("error",n);else if(e.size){var i=fs.openSync(e.path,"r"),a=new Buffer(e.size);fs.read(i,a,0,e.size,null,function(t){n(t,a)})}else n(null,fs.readFileSync(e.path))},read:function(){var t=this._parseParams(arguments);this._read(t,function(e,n){t.callback(e,e?"":i(n))})},readText:function(){var t=this._parseParams(arguments);this._read(t,function(e,n){t.callback(e,e?"":n.toString())})},locateFile:function(t,e){if(o(e))return e;var n,r=t;for(e=e.replace(/^\/+/,"");r&&r!==path.dirname(r);)if(r=path.dirname(r),n=path.join(r,e),fs.existsSync(n))return n;return""},createPath:function(t,e,n){var r=fs.statSync(t);return r&&!r.isDirectory()&&(t=path.dirname(t)),n(path.resolve(t,e))},save:function(t,e){fs.writeFileSync(t,e,"ascii")},getExt:function(t){var e=(t||"").match(/\.([\w\-]+)$/);return e?e[1].toLowerCase():""}})})},{"../utils/common":70}],61:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t,e,n){function r(t){var e=t&&t.charCodeAt(0);return t&&"."==t||e>47&&58>e}function i(t){return t=_.trim(t),/\/\*|\n|\r/.test(t)?!1:/^[a-z0-9\-]+\s*\:/i.test(t)?2==t.replace(/\$\{.+?\}/g,"").split(":").length:!1}function o(t){"-"!=t.charAt(0)||/^\-[\.\d]/.test(t)||(t=t.replace(/^\-+/,""));var e=t.charAt(0);return"#"==e?a(t):"$"==e?_.escapeText(t):u(t)}function a(t){var e=t.replace(/^#+/,"")||"0";if("t"==e.toLowerCase())return"transparent";var n="";e=e.replace(/\.(\d+)$/,function(t){return n="0"+t,""});var r=_.repeatString,i=null;switch(e.length){case 1:i=r(e,6);break;case 2:i=r(e,3);break;case 3:i=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2);break;case 4:i=e+e.substr(0,2);break;case 5:i=e+e.charAt(0);break;default:i=e.substr(0,6)}if(n)return s(i,n);if(y.get("css.color.short")){var o=i.split("");o[0]==o[1]&&o[2]==o[3]&&o[4]==o[5]&&(i=o[0]+o[2]+o[4])}switch(y.get("css.color.case")){case"upper":i=i.toUpperCase();break;case"lower":i=i.toLowerCase()}return"#"+i}function s(t,e){var n=parseInt(t.substr(0,2),16),r=parseInt(t.substr(2,2),16),i=parseInt(t.substr(4,2),16);return"rgba("+[n,r,i,e].join(", ")+")"}function u(t){var e=y.getDict("css.keywordAliases");return t in e?e[t]:t}function c(t){var e=y.getDict("css.unitAliases");return t in e?e[t]:t}function l(t){return~y.getArray("css.keywords").indexOf(u(t))}function f(t,e){var n=P[e];return n||(n=_.find(P,function(t){return t.prefix==e})),n&&n.supports(t)}function p(t){var e=S.resolvePrefixes(t);return e||(e=[],Object.keys(P).forEach(function(n){f(t,n)&&e.push(P[n].prefix)}),e.length||(e=null)),e}function d(t,e){var n=[],r=p(t);if(r){var i={};Object.keys(P).forEach(function(t){i[P[t].prefix]=t}),n=r.map(function(t){return i[t]})}return n.length||e||Object.keys(P).forEach(function(t){P[t].obsolete||n.push(t)}),n}function h(t,e){"string"==typeof e&&(e={prefix:e}),P[t]=_.extend({},$,e)}function m(t,e){if(e){"styl"==e&&(e="stylus");var n=y.get(e+"."+t);if("undefined"!=typeof n)return n}return y.get("css."+t)}function g(t,e){var n=t.indexOf(":");return t=t.substring(0,n).replace(/\s+$/,"")+m("valueSeparator",e)+_.trim(t.substring(n+1)),t.replace(/\s*;\s*$/,m("propertyEnd",e))}function b(t,e,n){return"string"!=typeof t&&(t=t.data),i(t)?(e&&(~t.indexOf(";")?t=t.split(";").join(" !important;"):t+=" !important"),g(t,n)):t}function v(t){var e=y.getArray(t),n=y.getArray(t+"Addon");return n&&n.forEach(function(t){"-"==t.charAt(0)?e=_.without(e,t.substr(1)):("+"==t.charAt(0)&&(t=t.substr(1)),e.push(t))}),e}function x(t,e,n){var r=[],i={},o=A.findParts(t.value);return o.reverse(),o.forEach(function(e){var n=e.substring(t.value);(p(n)||[]).forEach(function(o){i[o]||(i[o]=t.value,r.push(o)),i[o]=_.replaceSubstring(i[o],"-"+o+"-"+n,e)})}),r.map(function(r){return b(t.name+":"+i[r],e,n)})}var y=t("../assets/preferences"),w=t("../assets/resources"),k=t("../assets/stringStream"),S=t("../assets/caniuse"),_=t("../utils/common"),C=t("../utils/template"),A=t("../editTree/css"),$={prefix:"emmet",obsolete:!1,transformName:function(t){return"-"+this.prefix+"-"+t},properties:function(){return v("css."+this.prefix+"Properties")||[]},supports:function(t){return~this.properties().indexOf(t)}},P={},E="${1};";y.define("css.valueSeparator",": ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations."),y.define("css.propertyEnd",";","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations."),y.define("stylus.valueSeparator"," ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations in Stylus dialect."),y.define("stylus.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in Stylus dialect."),y.define("sass.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in SASS dialect."),y.define("css.syntaxes","css, less, sass, scss, stylus, styl","List of syntaxes that should be treated as CSS dialects."),y.define("css.autoInsertVendorPrefixes",!0,"Automatically generate vendor-prefixed copies of expanded CSS property. By default, Emmet will generate vendor-prefixed properties only when you put dash before abbreviation (e.g. <code>-bxsh</code>). With this option enabled, you don’t need dashes before abbreviations: Emmet will produce vendor-prefixed properties for you."),y.define("less.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for LESS syntax"),y.define("scss.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for SCSS syntax"),y.define("sass.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for SASS syntax"),y.define("stylus.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for Stylus syntax");var T=C("A comma-separated list of CSS properties that may have <code><%= vendor %></code> vendor prefix. This list is used to generate a list of prefixed properties when expanding <code>-property</code> abbreviations. Empty list means that all possible CSS values may have <code><%= vendor %></code> prefix."),O=C("A comma-separated list of <em>additional</em> CSS properties for <code>css.<%= vendor %>Preperties</code> preference. You should use this list if you want to add or remove a few CSS properties to original set. To add a new property, simply write its name, to remove it, precede property with hyphen.<br>For example, to add <em>foo</em> property and remove <em>border-radius</em> one, the preference value will look like this: <code>foo, -border-radius</code>."),j={webkit:"animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-clip, background-composite, background-origin, background-size, border-fit, border-horizontal-spacing, border-image, border-vertical-spacing, box-align, box-direction, box-flex, box-flex-group, box-lines, box-ordinal-group, box-orient, box-pack, box-reflect, box-shadow, color-correction, column-break-after, column-break-before, column-break-inside, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-span, column-width, dashboard-region, font-smoothing, highlight, hyphenate-character, hyphenate-limit-after, hyphenate-limit-before, hyphens, line-box-contain, line-break, line-clamp, locale, margin-before-collapse, margin-after-collapse, marquee-direction, marquee-increment, marquee-repetition, marquee-style, mask-attachment, mask-box-image, mask-box-image-outset, mask-box-image-repeat, mask-box-image-slice, mask-box-image-source, mask-box-image-width, mask-clip, mask-composite, mask-image, mask-origin, mask-position, mask-repeat, mask-size, nbsp-mode, perspective, perspective-origin, rtl-ordering, text-combine, text-decorations-in-effect, text-emphasis-color, text-emphasis-position, text-emphasis-style, text-fill-color, text-orientation, text-security, text-stroke-color, text-stroke-width, transform, transition, transform-origin, transform-style, transition-delay, transition-duration, transition-property, transition-timing-function, user-drag, user-modify, user-select, writing-mode, svg-shadow, box-sizing, border-radius",moz:"animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-inline-policy, binding, border-bottom-colors, border-image, border-left-colors, border-right-colors, border-top-colors, box-align, box-direction, box-flex, box-ordinal-group, box-orient, box-pack, box-shadow, box-sizing, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-width, float-edge, font-feature-settings, font-language-override, force-broken-image-icon, hyphens, image-region, orient, outline-radius-bottomleft, outline-radius-bottomright, outline-radius-topleft, outline-radius-topright, perspective, perspective-origin, stack-sizing, tab-size, text-blink, text-decoration-color, text-decoration-line, text-decoration-style, text-size-adjust, transform, transform-origin, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-focus, user-input, user-modify, user-select, window-shadow, background-clip, border-radius",ms:"accelerator, backface-visibility, background-position-x, background-position-y, behavior, block-progression, box-align, box-direction, box-flex, box-line-progression, box-lines, box-ordinal-group, box-orient, box-pack, content-zoom-boundary, content-zoom-boundary-max, content-zoom-boundary-min, content-zoom-chaining, content-zoom-snap, content-zoom-snap-points, content-zoom-snap-type, content-zooming, filter, flow-from, flow-into, font-feature-settings, grid-column, grid-column-align, grid-column-span, grid-columns, grid-layer, grid-row, grid-row-align, grid-row-span, grid-rows, high-contrast-adjust, hyphenate-limit-chars, hyphenate-limit-lines, hyphenate-limit-zone, hyphens, ime-mode, interpolation-mode, layout-flow, layout-grid, layout-grid-char, layout-grid-line, layout-grid-mode, layout-grid-type, line-break, overflow-style, perspective, perspective-origin, perspective-origin-x, perspective-origin-y, scroll-boundary, scroll-boundary-bottom, scroll-boundary-left, scroll-boundary-right, scroll-boundary-top, scroll-chaining, scroll-rails, scroll-snap-points-x, scroll-snap-points-y, scroll-snap-type, scroll-snap-x, scroll-snap-y, scrollbar-arrow-color, scrollbar-base-color, scrollbar-darkshadow-color, scrollbar-face-color, scrollbar-highlight-color, scrollbar-shadow-color, scrollbar-track-color, text-align-last, text-autospace, text-justify, text-kashida-space, text-overflow, text-size-adjust, text-underline-position, touch-action, transform, transform-origin, transform-origin-x, transform-origin-y, transform-origin-z, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-select, word-break, wrap-flow, wrap-margin, wrap-through, writing-mode",o:"dashboard-region, animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, border-image, link, link-source, object-fit, object-position, tab-size, table-baseline, transform, transform-origin, transition, transition-delay, transition-duration, transition-property, transition-timing-function, accesskey, input-format, input-required, marquee-dir, marquee-loop, marquee-speed, marquee-style"};
return Object.keys(j).forEach(function(t){y.define("css."+t+"Properties",j[t],T({vendor:t})),y.define("css."+t+"PropertiesAddon","",O({vendor:t}))}),y.define("css.unitlessProperties","z-index, line-height, opacity, font-weight, zoom","The list of properties whose values ​​must not contain units."),y.define("css.intUnit","px","Default unit for integer values"),y.define("css.floatUnit","em","Default unit for float values"),y.define("css.keywords","auto, inherit, all","A comma-separated list of valid keywords that can be used in CSS abbreviations."),y.define("css.keywordAliases","a:auto, i:inherit, s:solid, da:dashed, do:dotted, t:transparent","A comma-separated list of keyword aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:keyword_name</code>."),y.define("css.unitAliases","e:em, p:%, x:ex, r:rem","A comma-separated list of unit aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:unit_value</code>."),y.define("css.color.short",!0,"Should color values like <code>#ffffff</code> be shortened to <code>#fff</code> after abbreviation with color was expanded."),y.define("css.color.case","keep","Letter case of color values generated by abbreviations with color (like <code>c#0</code>). Possible values are <code>upper</code>, <code>lower</code> and <code>keep</code>."),y.define("css.fuzzySearch",!0,"Enable fuzzy search among CSS snippet names. When enabled, every <em>unknown</em> snippet will be scored against available snippet names (not values or CSS properties!). The match with best score will be used to resolve snippet value. For example, with this preference enabled, the following abbreviations are equal: <code>ov:h</code> == <code>ov-h</code> == <code>o-h</code> == <code>oh</code>"),y.define("css.fuzzySearchMinScore",.3,"The minium score (from 0 to 1) that fuzzy-matched abbreviation should achive. Lower values may produce many false-positive matches, higher values may reduce possible matches."),y.define("css.alignVendor",!1,"If set to <code>true</code>, all generated vendor-prefixed properties will be aligned by real property name."),h("w",{prefix:"webkit"}),h("m",{prefix:"moz"}),h("s",{prefix:"ms"}),h("o",{prefix:"o"}),n=n||{},n.exports={addPrefix:h,supportsPrefix:f,resolve:function(t,e){var n=y.getArray("css.syntaxes");return n&&~n.indexOf(e)&&t.isElement()?this.expandToSnippet(t.abbreviation,e):null},prefixed:function(t,e){return f(t,e)?"-"+e+"-"+t:t},listPrefixes:function(){return P.map(function(t){return t.prefix})},getPrefix:function(t){return P[t]},removePrefix:function(t){t in P&&delete P[t]},extractPrefixes:function(t){if("-"!=t.charAt(0))return{property:t,prefixes:null};for(var e,n=1,r=t.length,i=[];r>n;){if(e=t.charAt(n),"-"==e){n++;break}if(!(e in P)){i.length=0,n=1;break}i.push(e),n++}return n==r-1&&(n=1,i.length=1),{property:t.substring(n),prefixes:i.length?i:"all"}},findValuesInAbbreviation:function(t,e){e=e||"css";for(var n,i=0,o=t.length,a="";o>i;){if(n=t.charAt(i),r(n)||"#"==n||"$"==n||"-"==n&&r(t.charAt(i+1))){a=t.substring(i);break}i++}for(var s=t.substring(0,t.length-a.length),u=[];~s.indexOf("-")&&!w.findSnippet(e,s);){var c=s.split("-"),f=c.pop();if(!l(f))break;u.unshift(f),s=c.join("-")}return u.join("-")+a},parseValues:function(t){for(var e=k.create(t),n=[],i=null;i=e.next();)"$"==i?(e.match(/^[^\$]+/,!0),n.push(e.current())):"#"==i?(e.match(/^t|[0-9a-f]+(\.\d+)?/i,!0),n.push(e.current())):"-"==i?((l(_.last(n))||e.start&&r(t.charAt(e.start-1)))&&(e.start=e.pos),e.match(/^\-?[0-9]*(\.[0-9]+)?[a-z%\.]*/,!0),n.push(e.current())):(e.match(/^[0-9]*(\.[0-9]*)?[a-z%]*/,!0),n.push(e.current())),e.start=e.pos;return n.filter(function(t){return!!t}).map(o)},extractValues:function(t){var e=this.findValuesInAbbreviation(t);return e?{property:t.substring(0,t.length-e.length).replace(/-$/,""),values:this.parseValues(e)}:{property:t,values:null}},normalizeValue:function(t,e){e=(e||"").toLowerCase();var n=y.getArray("css.unitlessProperties");return t.replace(/^(\-?[0-9\.]+)([a-z]*)$/,function(t,r,i){return i||"0"!=r&&!~n.indexOf(e)?i?r+c(i):r.replace(/\.$/,"")+y.get(~r.indexOf(".")?"css.floatUnit":"css.intUnit"):r})},expand:function(t,e,n){n=n||"css";var r=y.get(n+".autoInsertVendorPrefixes"),o=/^(.+)\!$/.test(t);o&&(t=RegExp.$1);var a=w.findSnippet(n,t);if(a&&!r)return b(a,o,n);var s=this.extractPrefixes(t),u=this.extractValues(s.property),c=_.extend(s,u);if(a?c.values=null:a=w.findSnippet(n,c.property),!a&&y.get("css.fuzzySearch")&&(a=w.fuzzyFindSnippet(n,c.property,parseFloat(y.get("css.fuzzySearchMinScore")))),a)"string"!=typeof a&&(a=a.data);else{if(!c.property)return null;a=c.property+":"+E}if(!i(a))return a;var l=this.splitSnippet(a),f=[];!e&&c.values&&(e=c.values.map(function(t){return this.normalizeValue(t,l.name)},this).join(" ")+";"),l.value=e||l.value;var p,h="all"==c.prefixes||!c.prefixes&&r?d(l.name,r&&"all"!=c.prefixes):c.prefixes,m=[];if((h||[]).forEach(function(t){t in P&&(p=P[t].transformName(l.name),m.push(p),f.push(b(p+":"+l.value,o,n)))}),f.push(b(l.name+":"+l.value,o,n)),m.push(l.name),f=x(l,o,n).concat(f),y.get("css.alignVendor")){var g=_.getStringsPads(m);f=f.map(function(t,e){return g[e]+t})}return f},expandToSnippet:function(t,e){var n=this.expand(t,null,e);return null===n?null:Array.isArray(n)?n.join("\n"):"string"!=typeof n?n.data:n+""},splitSnippet:function(t){if(t=_.trim(t),-1==t.indexOf(":"))return{name:t,value:E};var e=t.split(":");return{name:_.trim(e.shift()),value:_.trim(e.join(":")).replace(/^(\$\{0\}|\$0)(\s*;?)$/,"${1}$2")}},getSyntaxPreference:m,transformSnippet:b,vendorPrefixes:p},n.exports})},{"../assets/caniuse":22,"../assets/preferences":27,"../assets/resources":30,"../assets/stringStream":31,"../editTree/css":35,"../utils/common":70,"../utils/template":74}],62:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t,e,n){function r(t,e){var n=f.findSnippet(e,t);if(!n&&l.get("css.fuzzySearch")){var r=parseFloat(l.get("css.fuzzySearchMinScore"));n=f.fuzzyFindSnippet(e,t,r)}return n?("string"!=typeof n&&(n=n.data),d.splitSnippet(n).name):void 0}function i(t){var e=d.vendorPrefixes(t);return e||(e=l.getArray("css.gradient.prefixes")),e||[]}function o(t,e){var n=[],r=e.name(),o=l.get("css.gradient.omitDefaultDirection");l.get("css.gradient.fallback")&&~r.toLowerCase().indexOf("background")&&n.push({name:"background-color",value:"${1:"+t[0].gradient.colorStops[0].color+"}"});var s=e.value();return i("linear-gradient").forEach(function(e){var i=d.prefixed(r,e);if("webkit"==e&&l.get("css.gradient.oldWebkit"))try{n.push({name:i,value:a(t,s,{prefix:e,oldWebkit:!0,omitDefaultDirection:o})})}catch(u){}n.push({name:i,value:a(t,s,{prefix:e,omitDefaultDirection:o})})}),n.sort(function(t,e){return e.name.length-t.name.length})}function a(t,e,n){return n=n||{},t=p.clone(t),t.reverse().forEach(function(t,r){var i=!r&&n.placeholder?n.placeholder:"",o=n.oldWebkit?t.gradient.stringifyOldWebkit(n):t.gradient.stringify(n);e=p.replaceSubstring(e,o+i,t.matchedPart)}),e}function s(t){"string"!=typeof t&&(t=t.name());var e=(d.vendorPrefixes(t)||[]).map(function(e){return"-"+e+"-"+t});return e.push(t),e}function u(t,e){var n=t.parent,r=l.get("css.alignVendor"),i=l.get("css.gradient.omitDefaultDirection"),u=t.styleSeparator,c=t.styleBefore;if(n.getAll(s(t)).forEach(function(e){e!=t&&/gradient/i.test(e.value())&&(e.styleSeparator.length<u.length&&(u=e.styleSeparator),e.styleBefore.length<c.length&&(c=e.styleBefore),n.remove(e))}),r){if(c!=t.styleBefore){var f=t.fullRange();n._updateSource(c,f.start,f.start+t.styleBefore.length),t.styleBefore=c}u!=t.styleSeparator&&(n._updateSource(u,t.nameRange().end,t.valueRange().start),t.styleSeparator=u)}var d=t.value(),h=o(e,t);if(r){var m=[],g=[];h.forEach(function(t){m.push(t.name),g.push(t.value)}),g.push(t.value()),m.push(t.name());var b=p.getStringsPads(g.map(function(t){return t.substring(0,t.indexOf("("))})),v=p.getStringsPads(m);t.name(v[v.length-1]+t.name()),h.forEach(function(t,e){t.name=v[e]+t.name,t.value=b[e]+t.value}),t.value(b[b.length-1]+t.value())}h.forEach(function(e){n.add(e.name,e.value,n.indexOf(t))}),t.value(a(e,d,{placeholder:"${2}",omitDefaultDirection:i}))}function c(t,e,n){if(n=n||"css","css"==n||"less"==n||"scss"==n)return!0;for(var r=t.property.valueRange(!0).start,i=t.gradients,o=i.length-1;o>=0;o--)if(i[o].matchedPart.start+r>=e)return!1;return!0}var l=t("../assets/preferences"),f=t("../assets/resources"),p=t("../utils/common"),d=(t("../assets/stringStream"),t("./css")),h=t("../assets/range"),m=t("../editTree/css"),g=t("../utils/editor"),b=t("./gradient/linear"),v=["css","less","sass","scss","stylus","styl"];return l.define("css.gradient.prefixes","webkit, moz, o","A comma-separated list of vendor-prefixes for which values should be generated."),l.define("css.gradient.oldWebkit",!1,"Generate gradient definition for old Webkit implementations"),l.define("css.gradient.omitDefaultDirection",!0,"Do not output default direction definition in generated gradients."),l.define("css.gradient.defaultProperty","background-image","When gradient expanded outside CSS value context, it will produce properties with this name."),l.define("css.gradient.fallback",!1,"With this option enabled, CSS gradient generator will produce <code>background-color</code> property with gradient first color as fallback for old browsers."),n=n||{},n.exports={findGradients:function(t){var e=t.value(),n=[];return t.valueParts().forEach(function(t){var r=t.substring(e);if(b.isLinearGradient(r)){var i=b.parse(r);i&&n.push({gradient:i,matchedPart:t})}}),n.length?n:null},gradientsFromCSSProperty:function(t,e){var n=m.propertyFromPosition(t,e);if(n){var r=this.findGradients(n);if(r)return{property:n,gradients:r}}return null},expandAbbreviationHandler:function(t,e,n){var i=g.outputInfo(t,e,n);if(!~v.indexOf(i.syntax))return!1;var o=t.getCaretPos(),a=i.content,s=this.gradientsFromCSSProperty(a,o);if(s){if(!c(s,o,i.syntax))return!1;var l=s.property,f=l.parent,d=f.options.offset||0,h=d+f.toString().length;if(/[\n\r]/.test(l.value())){var m=l.valueRange(!0).start+p.last(s.gradients).matchedPart.end;a=p.replaceSubstring(a,";",m);var b=this.gradientsFromCSSProperty(a,o);b&&(s=b,l=s.property,f=l.parent)}l.end(";");var x=r(l.name(),e);return x&&l.name(x),u(l,s.gradients),t.replaceContent(f.toString(),d,h,!0),!0}return this.expandGradientOutsideValue(t,e)},expandGradientOutsideValue:function(t,e){var n=l.get("css.gradient.defaultProperty"),r=l.get("css.gradient.omitDefaultDirection");if(!n)return!1;var i=String(t.getContent()),s=h.create(t.getCurrentLineRange()),u=s.substring(i).replace(/^\s+/,function(t){return s.start+=t.length,""}).replace(/\s+$/,function(t){return s.end-=t.length,""}),c="a{"+n+": "+u+";}",f=this.gradientsFromCSSProperty(c,c.length-2);if(f){var m=o(f.gradients,f.property);m.push({name:f.property.name(),value:a(f.gradients,f.property.value(),{placeholder:"${2}",omitDefaultDirection:r})});var g=d.getSyntaxPreference("valueSeparator",e),b=d.getSyntaxPreference("propertyEnd",e);if(l.get("css.alignVendor")){var v=p.getStringsPads(m.map(function(t){return t.value.substring(0,t.value.indexOf("("))}));m.forEach(function(t,e){t.value=v[e]+t.value})}return m=m.map(function(t){return t.name+g+t.value+b}),t.replaceContent(m.join("\n"),s.start,s.end),!0}return!1},reflectValueHandler:function(t){var e=l.get("css.gradient.omitDefaultDirection"),n=this.findGradients(t);if(!n)return!1;var r=this,i=t.value();return t.parent.getAll(s(t)).forEach(function(o){if(o!==t){var s=r.findGradients(o);if(s){var u=o.value(),c=s[0].matchedPart.substring(u),l="";/^\s*\-([a-z]+)\-/.test(c)&&(l=RegExp.$1),o.value(a(n,i,{prefix:l,omitDefaultDirection:e}))}}}),!0}}})},{"../assets/preferences":27,"../assets/range":29,"../assets/resources":30,"../assets/stringStream":31,"../editTree/css":35,"../utils/common":70,"../utils/editor":72,"./css":61,"./gradient/linear":63}],63:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t){this.colorStops=[],this.direction=180;for(var e,n,i=a.create(s.trim(t));e=i.next();)","==i.peek()?(n=i.current(),this.colorStops.length||!f.test(n)&&!p.test(n)?this.addColorStop(n):this.direction=r(n),i.next(),i.eatSpace(),i.start=i.pos):"("==e&&i.skipTo(")");this.addColorStop(i.current())}function n(t){return s.trim(t).replace(/\s+/g," ")}function r(t){if("number"==typeof t)return t;if(t=n(t).toLowerCase(),f.test(t))return+RegExp.$1;var e=/^to\s/.test(t)?"to ":"",r=~t.indexOf("left")&&"left",i=~t.indexOf("right")&&"right",o=~t.indexOf("top")&&"top",a=~t.indexOf("bottom")&&"bottom",s=n(e+(o||a||"")+" "+(r||i||""));return u[s]||0}function i(t,e){for(var n=/^to\s/,r=Object.keys(u).filter(function(t){var r=n.test(t);return e?!r:r}),i=0;i<r.length;i++)if(u[r[i]]==t)return r[i];return e&&(t=(t+270)%360),t+"deg"}function o(t){if(t=i(t,!0),f.test(t))throw"The direction is an angle that can’t be converted.";var e=function(e){return~t.indexOf(e)?"100%":"0"};return e("left")+" "+e("top")+", "+e("right")+" "+e("bottom")}var a=t("../../assets/stringStream"),s=t("../../utils/common"),u={bottom:0,"bottom left":45,left:90,"top left":135,top:180,"top right":225,right:270,"bottom right":315,"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},c=["top","to bottom","0deg"],l=/^\s*(\-[a-z]+\-)?(lg|linear\-gradient)\s*\(/i,f=/(\d+)deg/i,p=/top|bottom|left|right/i;return e.prototype={type:"linear-gradient",addColorStop:function(t,e){t=n(t||""),t&&(t=this.parseColorStop(t),"undefined"==typeof e?this.colorStops.push(t):this.colorStops.splice(e,0,t))},parseColorStop:function(t){t=n(t);var e=null;if(t=t.replace(/^(\w+\(.+?\))\s*/,function(t,n){return e=n,""}),!e){var r=t.split(" ");e=r[0],t=r[1]||""}var i={color:e};return t&&t.replace(/^(\-?[\d\.]+)([a-z%]+)?$/,function(t,e,n){i.position=e,~e.indexOf(".")?n="":n||(n="%"),n&&(i.unit=n)}),i},stringify:function(t){t=t||{};var e="linear-gradient";t.prefix&&(e="-"+t.prefix+"-"+e);var n=this.colorStops.map(function(t){var e=t.position?" "+t.position+(t.unit||""):"";return t.color+e}),r=i(this.direction,!!t.prefix);return t.omitDefaultDirection&&~c.indexOf(r)||n.unshift(r),e+"("+n.join(", ")+")"},stringifyOldWebkit:function(){var t=this.colorStops.map(function(t){return s.clone(t)});return t.forEach(function(t){if("position"in t){if(!~t.position.indexOf(".")&&"%"!=t.unit)throw"Can't convert color stop '"+(t.position+(t.unit||""))+"'";t.position=parseFloat(t.position)/("%"==t.unit?100:1)}}),this._fillImpliedPositions(t),t=t.map(function(e,n){return e.position||n?1==e.position&&n==t.length-1?"to("+e.color+")":"color-stop("+e.position.toFixed(2).replace(/\.?0+$/,"")+", "+e.color+")":"from("+e.color+")"}),"-webkit-gradient(linear, "+o((this.direction+180)%360)+", "+t.join(", ")+")"},_fillImpliedPositions:function(t){var e=0;t.forEach(function(n,r){if(!r)return n.position=n.position||0;if(r!=t.length-1||"position"in n||(n.position=1),"position"in n){var i=t[e].position||0,o=(n.position-i)/(r-e);t.slice(e,r).forEach(function(t,e){t.position=i+o*e}),e=r}})},valueOf:function(){return this.stringify()}},{parse:function(t){if(!this.isLinearGradient(t))throw"Invalid linear gradient definition:\n"+t;return t=t.replace(/^\s*[\-a-z]+\s*\(|\)\s*$/gi,""),new e(t)},isLinearGradient:function(t){return l.test(t)},resolveDirection:r,stringifyDirection:i}})},{"../../assets/stringStream":31,"../../utils/common":70}],64:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){var e=t("../utils/common"),n={empty:[],blockLevel:"address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,link,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul,h1,h2,h3,h4,h5,h6".split(","),inlineLevel:"a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var".split(",")},r={p:"span",ul:"li",ol:"li",table:"tr",tr:"td",tbody:"tr",thead:"tr",tfoot:"tr",colgroup:"col",select:"option",optgroup:"option",audio:"source",video:"source",object:"param",map:"area"};return{resolve:function(t){return t=(t||"").toLowerCase(),t in r?this.getMapping(t):this.isInlineLevel(t)?"span":"div"},getMapping:function(t){return r[t.toLowerCase()]},isInlineLevel:function(t){return this.isTypeOf(t,"inlineLevel")},isBlockLevel:function(t){return this.isTypeOf(t,"blockLevel")},isEmptyElement:function(t){return this.isTypeOf(t,"empty")},isTypeOf:function(t,e){return~n[e].indexOf(t)},addMapping:function(t,e){r[t]=e},removeMapping:function(t){t in r&&delete r[t]},addElementToCollection:function(t,e){n[e]||(n[e]=[]);var r=this.getCollection(e);~r.indexOf(t)||r.push(t)},removeElementFromCollection:function(t,r){r in n&&(n[r]=e.without(this.getCollection(r),t))},getCollection:function(t){return n[t]}}})},{"../utils/common":70}],65:[function(t,e){e.exports={variables:{lang:"en",locale:"en-US",charset:"UTF-8",indentation:"	",newline:"\n"},css:{filters:"css",profile:"css",snippets:{"@i":"@import url(|);","@import":"@import url(|);","@m":"@media ${1:screen} {\n	|\n}","@media":"@media ${1:screen} {\n	|\n}","@f":"@font-face {\n	font-family:|;\n	src:url(|);\n}","@f+":"@font-face {\n	font-family: '${1:FontName}';\n	src: url('${2:FileName}.eot');\n	src: url('${2:FileName}.eot?#iefix') format('embedded-opentype'),\n		 url('${2:FileName}.woff') format('woff'),\n		 url('${2:FileName}.ttf') format('truetype'),\n		 url('${2:FileName}.svg#${1:FontName}') format('svg');\n	font-style: ${3:normal};\n	font-weight: ${4:normal};\n}","@kf":"@-webkit-keyframes ${1:identifier} {\n	${2:from} { ${3} }${6}\n	${4:to} { ${5} }\n}\n@-o-keyframes ${1:identifier} {\n	${2:from} { ${3} }${6}\n	${4:to} { ${5} }\n}\n@-moz-keyframes ${1:identifier} {\n	${2:from} { ${3} }${6}\n	${4:to} { ${5} }\n}\n@keyframes ${1:identifier} {\n	${2:from} { ${3} }${6}\n	${4:to} { ${5} }\n}",anim:"animation:|;","anim-":"animation:${1:name} ${2:duration} ${3:timing-function} ${4:delay} ${5:iteration-count} ${6:direction} ${7:fill-mode};",animdel:"animation-delay:${1:time};",animdir:"animation-direction:${1:normal};","animdir:n":"animation-direction:normal;","animdir:r":"animation-direction:reverse;","animdir:a":"animation-direction:alternate;","animdir:ar":"animation-direction:alternate-reverse;",animdur:"animation-duration:${1:0}s;",animfm:"animation-fill-mode:${1:both};","animfm:f":"animation-fill-mode:forwards;","animfm:b":"animation-fill-mode:backwards;","animfm:bt":"animation-fill-mode:both;","animfm:bh":"animation-fill-mode:both;",animic:"animation-iteration-count:${1:1};","animic:i":"animation-iteration-count:infinite;",animn:"animation-name:${1:none};",animps:"animation-play-state:${1:running};","animps:p":"animation-play-state:paused;","animps:r":"animation-play-state:running;",animtf:"animation-timing-function:${1:linear};","animtf:e":"animation-timing-function:ease;","animtf:ei":"animation-timing-function:ease-in;","animtf:eo":"animation-timing-function:ease-out;","animtf:eio":"animation-timing-function:ease-in-out;","animtf:l":"animation-timing-function:linear;","animtf:cb":"animation-timing-function:cubic-bezier(${1:0.1}, ${2:0.7}, ${3:1.0}, ${3:0.1});",ap:"appearance:${none};","!":"!important",pos:"position:${1:relative};","pos:s":"position:static;","pos:a":"position:absolute;","pos:r":"position:relative;","pos:f":"position:fixed;",t:"top:|;","t:a":"top:auto;",r:"right:|;","r:a":"right:auto;",b:"bottom:|;","b:a":"bottom:auto;",l:"left:|;","l:a":"left:auto;",z:"z-index:|;","z:a":"z-index:auto;",fl:"float:${1:left};","fl:n":"float:none;","fl:l":"float:left;","fl:r":"float:right;",cl:"clear:${1:both};","cl:n":"clear:none;","cl:l":"clear:left;","cl:r":"clear:right;","cl:b":"clear:both;",colm:"columns:|;",colmc:"column-count:|;",colmf:"column-fill:|;",colmg:"column-gap:|;",colmr:"column-rule:|;",colmrc:"column-rule-color:|;",colmrs:"column-rule-style:|;",colmrw:"column-rule-width:|;",colms:"column-span:|;",colmw:"column-width:|;",d:"display:${1:block};","d:n":"display:none;","d:b":"display:block;","d:f":"display:flex;","d:i":"display:inline;","d:ib":"display:inline-block;","d:ib+":"display: inline-block;\n*display: inline;\n*zoom: 1;","d:li":"display:list-item;","d:ri":"display:run-in;","d:cp":"display:compact;","d:tb":"display:table;","d:itb":"display:inline-table;","d:tbcp":"display:table-caption;","d:tbcl":"display:table-column;","d:tbclg":"display:table-column-group;","d:tbhg":"display:table-header-group;","d:tbfg":"display:table-footer-group;","d:tbr":"display:table-row;","d:tbrg":"display:table-row-group;","d:tbc":"display:table-cell;","d:rb":"display:ruby;","d:rbb":"display:ruby-base;","d:rbbg":"display:ruby-base-group;","d:rbt":"display:ruby-text;","d:rbtg":"display:ruby-text-group;",v:"visibility:${1:hidden};","v:v":"visibility:visible;","v:h":"visibility:hidden;","v:c":"visibility:collapse;",ov:"overflow:${1:hidden};","ov:v":"overflow:visible;","ov:h":"overflow:hidden;","ov:s":"overflow:scroll;","ov:a":"overflow:auto;",ovx:"overflow-x:${1:hidden};","ovx:v":"overflow-x:visible;","ovx:h":"overflow-x:hidden;","ovx:s":"overflow-x:scroll;","ovx:a":"overflow-x:auto;",ovy:"overflow-y:${1:hidden};","ovy:v":"overflow-y:visible;","ovy:h":"overflow-y:hidden;","ovy:s":"overflow-y:scroll;","ovy:a":"overflow-y:auto;",ovs:"overflow-style:${1:scrollbar};","ovs:a":"overflow-style:auto;","ovs:s":"overflow-style:scrollbar;","ovs:p":"overflow-style:panner;","ovs:m":"overflow-style:move;","ovs:mq":"overflow-style:marquee;",zoo:"zoom:1;",zm:"zoom:1;",cp:"clip:|;","cp:a":"clip:auto;","cp:r":"clip:rect(${1:top} ${2:right} ${3:bottom} ${4:left});",bxz:"box-sizing:${1:border-box};","bxz:cb":"box-sizing:content-box;","bxz:bb":"box-sizing:border-box;",bxsh:"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:color};","bxsh:r":"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:spread }rgb(${6:0}, ${7:0}, ${8:0});","bxsh:ra":"box-shadow:${1:inset }${2:h} ${3:v} ${4:blur} ${5:spread }rgba(${6:0}, ${7:0}, ${8:0}, .${9:5});","bxsh:n":"box-shadow:none;",m:"margin:|;","m:a":"margin:auto;",mt:"margin-top:|;","mt:a":"margin-top:auto;",mr:"margin-right:|;","mr:a":"margin-right:auto;",mb:"margin-bottom:|;","mb:a":"margin-bottom:auto;",ml:"margin-left:|;","ml:a":"margin-left:auto;",p:"padding:|;",pt:"padding-top:|;",pr:"padding-right:|;",pb:"padding-bottom:|;",pl:"padding-left:|;",w:"width:|;","w:a":"width:auto;",h:"height:|;","h:a":"height:auto;",maw:"max-width:|;","maw:n":"max-width:none;",mah:"max-height:|;","mah:n":"max-height:none;",miw:"min-width:|;",mih:"min-height:|;",mar:"max-resolution:${1:res};",mir:"min-resolution:${1:res};",ori:"orientation:|;","ori:l":"orientation:landscape;","ori:p":"orientation:portrait;",ol:"outline:|;","ol:n":"outline:none;",olo:"outline-offset:|;",olw:"outline-width:|;","olw:tn":"outline-width:thin;","olw:m":"outline-width:medium;","olw:tc":"outline-width:thick;",ols:"outline-style:|;","ols:n":"outline-style:none;","ols:dt":"outline-style:dotted;","ols:ds":"outline-style:dashed;","ols:s":"outline-style:solid;","ols:db":"outline-style:double;","ols:g":"outline-style:groove;","ols:r":"outline-style:ridge;","ols:i":"outline-style:inset;","ols:o":"outline-style:outset;",olc:"outline-color:#${1:000};","olc:i":"outline-color:invert;",bfv:"backface-visibility:|;","bfv:h":"backface-visibility:hidden;","bfv:v":"backface-visibility:visible;",bd:"border:|;","bd+":"border:${1:1px} ${2:solid} ${3:#000};","bd:n":"border:none;",bdbk:"border-break:${1:close};","bdbk:c":"border-break:close;",bdcl:"border-collapse:|;","bdcl:c":"border-collapse:collapse;","bdcl:s":"border-collapse:separate;",bdc:"border-color:#${1:000};","bdc:t":"border-color:transparent;",bdi:"border-image:url(|);","bdi:n":"border-image:none;",bdti:"border-top-image:url(|);","bdti:n":"border-top-image:none;",bdri:"border-right-image:url(|);","bdri:n":"border-right-image:none;",bdbi:"border-bottom-image:url(|);","bdbi:n":"border-bottom-image:none;",bdli:"border-left-image:url(|);","bdli:n":"border-left-image:none;",bdci:"border-corner-image:url(|);","bdci:n":"border-corner-image:none;","bdci:c":"border-corner-image:continue;",bdtli:"border-top-left-image:url(|);","bdtli:n":"border-top-left-image:none;","bdtli:c":"border-top-left-image:continue;",bdtri:"border-top-right-image:url(|);","bdtri:n":"border-top-right-image:none;","bdtri:c":"border-top-right-image:continue;",bdbri:"border-bottom-right-image:url(|);","bdbri:n":"border-bottom-right-image:none;","bdbri:c":"border-bottom-right-image:continue;",bdbli:"border-bottom-left-image:url(|);","bdbli:n":"border-bottom-left-image:none;","bdbli:c":"border-bottom-left-image:continue;",bdf:"border-fit:${1:repeat};","bdf:c":"border-fit:clip;","bdf:r":"border-fit:repeat;","bdf:sc":"border-fit:scale;","bdf:st":"border-fit:stretch;","bdf:ow":"border-fit:overwrite;","bdf:of":"border-fit:overflow;","bdf:sp":"border-fit:space;",bdlen:"border-length:|;","bdlen:a":"border-length:auto;",bdsp:"border-spacing:|;",bds:"border-style:|;","bds:n":"border-style:none;","bds:h":"border-style:hidden;","bds:dt":"border-style:dotted;","bds:ds":"border-style:dashed;","bds:s":"border-style:solid;","bds:db":"border-style:double;","bds:dtds":"border-style:dot-dash;","bds:dtdtds":"border-style:dot-dot-dash;","bds:w":"border-style:wave;","bds:g":"border-style:groove;","bds:r":"border-style:ridge;","bds:i":"border-style:inset;","bds:o":"border-style:outset;",bdw:"border-width:|;",bdtw:"border-top-width:|;",bdrw:"border-right-width:|;",bdbw:"border-bottom-width:|;",bdlw:"border-left-width:|;",bdt:"border-top:|;",bt:"border-top:|;","bdt+":"border-top:${1:1px} ${2:solid} ${3:#000};","bdt:n":"border-top:none;",bdts:"border-top-style:|;","bdts:n":"border-top-style:none;",bdtc:"border-top-color:#${1:000};","bdtc:t":"border-top-color:transparent;",bdr:"border-right:|;",br:"border-right:|;","bdr+":"border-right:${1:1px} ${2:solid} ${3:#000};","bdr:n":"border-right:none;",bdrst:"border-right-style:|;","bdrst:n":"border-right-style:none;",bdrc:"border-right-color:#${1:000};","bdrc:t":"border-right-color:transparent;",bdb:"border-bottom:|;",bb:"border-bottom:|;","bdb+":"border-bottom:${1:1px} ${2:solid} ${3:#000};","bdb:n":"border-bottom:none;",bdbs:"border-bottom-style:|;","bdbs:n":"border-bottom-style:none;",bdbc:"border-bottom-color:#${1:000};","bdbc:t":"border-bottom-color:transparent;",bdl:"border-left:|;",bl:"border-left:|;","bdl+":"border-left:${1:1px} ${2:solid} ${3:#000};","bdl:n":"border-left:none;",bdls:"border-left-style:|;","bdls:n":"border-left-style:none;",bdlc:"border-left-color:#${1:000};","bdlc:t":"border-left-color:transparent;",bdrs:"border-radius:|;",bdtrrs:"border-top-right-radius:|;",bdtlrs:"border-top-left-radius:|;",bdbrrs:"border-bottom-right-radius:|;",bdblrs:"border-bottom-left-radius:|;",bg:"background:#${1:000};","bg+":"background:${1:#fff} url(${2}) ${3:0} ${4:0} ${5:no-repeat};","bg:n":"background:none;","bg:ie":"filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='${1:x}.png',sizingMethod='${2:crop}');",bgc:"background-color:#${1:fff};","bgc:t":"background-color:transparent;",bgi:"background-image:url(|);","bgi:n":"background-image:none;",bgr:"background-repeat:|;","bgr:n":"background-repeat:no-repeat;","bgr:x":"background-repeat:repeat-x;","bgr:y":"background-repeat:repeat-y;","bgr:sp":"background-repeat:space;","bgr:rd":"background-repeat:round;",bga:"background-attachment:|;","bga:f":"background-attachment:fixed;","bga:s":"background-attachment:scroll;",bgp:"background-position:${1:0} ${2:0};",bgpx:"background-position-x:|;",bgpy:"background-position-y:|;",bgbk:"background-break:|;","bgbk:bb":"background-break:bounding-box;","bgbk:eb":"background-break:each-box;","bgbk:c":"background-break:continuous;",bgcp:"background-clip:${1:padding-box};","bgcp:bb":"background-clip:border-box;","bgcp:pb":"background-clip:padding-box;","bgcp:cb":"background-clip:content-box;","bgcp:nc":"background-clip:no-clip;",bgo:"background-origin:|;","bgo:pb":"background-origin:padding-box;","bgo:bb":"background-origin:border-box;","bgo:cb":"background-origin:content-box;",bgsz:"background-size:|;","bgsz:a":"background-size:auto;","bgsz:ct":"background-size:contain;","bgsz:cv":"background-size:cover;",c:"color:#${1:000};","c:r":"color:rgb(${1:0}, ${2:0}, ${3:0});","c:ra":"color:rgba(${1:0}, ${2:0}, ${3:0}, .${4:5});",cm:"/* |${child} */",cnt:"content:'|';","cnt:n":"content:normal;","cnt:oq":"content:open-quote;","cnt:noq":"content:no-open-quote;","cnt:cq":"content:close-quote;","cnt:ncq":"content:no-close-quote;","cnt:a":"content:attr(|);","cnt:c":"content:counter(|);","cnt:cs":"content:counters(|);",tbl:"table-layout:|;","tbl:a":"table-layout:auto;","tbl:f":"table-layout:fixed;",cps:"caption-side:|;","cps:t":"caption-side:top;","cps:b":"caption-side:bottom;",ec:"empty-cells:|;","ec:s":"empty-cells:show;","ec:h":"empty-cells:hide;",lis:"list-style:|;","lis:n":"list-style:none;",lisp:"list-style-position:|;","lisp:i":"list-style-position:inside;","lisp:o":"list-style-position:outside;",list:"list-style-type:|;","list:n":"list-style-type:none;","list:d":"list-style-type:disc;","list:c":"list-style-type:circle;","list:s":"list-style-type:square;","list:dc":"list-style-type:decimal;","list:dclz":"list-style-type:decimal-leading-zero;","list:lr":"list-style-type:lower-roman;","list:ur":"list-style-type:upper-roman;",lisi:"list-style-image:|;","lisi:n":"list-style-image:none;",q:"quotes:|;","q:n":"quotes:none;","q:ru":"quotes:'\\00AB' '\\00BB' '\\201E' '\\201C';","q:en":"quotes:'\\201C' '\\201D' '\\2018' '\\2019';",ct:"content:|;","ct:n":"content:normal;","ct:oq":"content:open-quote;","ct:noq":"content:no-open-quote;","ct:cq":"content:close-quote;","ct:ncq":"content:no-close-quote;","ct:a":"content:attr(|);","ct:c":"content:counter(|);","ct:cs":"content:counters(|);",coi:"counter-increment:|;",cor:"counter-reset:|;",va:"vertical-align:${1:top};","va:sup":"vertical-align:super;","va:t":"vertical-align:top;","va:tt":"vertical-align:text-top;","va:m":"vertical-align:middle;","va:bl":"vertical-align:baseline;","va:b":"vertical-align:bottom;","va:tb":"vertical-align:text-bottom;","va:sub":"vertical-align:sub;",ta:"text-align:${1:left};","ta:l":"text-align:left;","ta:c":"text-align:center;","ta:r":"text-align:right;","ta:j":"text-align:justify;","ta-lst":"text-align-last:|;","tal:a":"text-align-last:auto;","tal:l":"text-align-last:left;","tal:c":"text-align-last:center;","tal:r":"text-align-last:right;",td:"text-decoration:${1:none};","td:n":"text-decoration:none;","td:u":"text-decoration:underline;","td:o":"text-decoration:overline;","td:l":"text-decoration:line-through;",te:"text-emphasis:|;","te:n":"text-emphasis:none;","te:ac":"text-emphasis:accent;","te:dt":"text-emphasis:dot;","te:c":"text-emphasis:circle;","te:ds":"text-emphasis:disc;","te:b":"text-emphasis:before;","te:a":"text-emphasis:after;",th:"text-height:|;","th:a":"text-height:auto;","th:f":"text-height:font-size;","th:t":"text-height:text-size;","th:m":"text-height:max-size;",ti:"text-indent:|;","ti:-":"text-indent:-9999px;",tj:"text-justify:|;","tj:a":"text-justify:auto;","tj:iw":"text-justify:inter-word;","tj:ii":"text-justify:inter-ideograph;","tj:ic":"text-justify:inter-cluster;","tj:d":"text-justify:distribute;","tj:k":"text-justify:kashida;","tj:t":"text-justify:tibetan;",tov:"text-overflow:${ellipsis};","tov:e":"text-overflow:ellipsis;","tov:c":"text-overflow:clip;",to:"text-outline:|;","to+":"text-outline:${1:0} ${2:0} ${3:#000};","to:n":"text-outline:none;",tr:"text-replace:|;","tr:n":"text-replace:none;",tt:"text-transform:${1:uppercase};","tt:n":"text-transform:none;","tt:c":"text-transform:capitalize;","tt:u":"text-transform:uppercase;","tt:l":"text-transform:lowercase;",tw:"text-wrap:|;","tw:n":"text-wrap:normal;","tw:no":"text-wrap:none;","tw:u":"text-wrap:unrestricted;","tw:s":"text-wrap:suppress;",tsh:"text-shadow:${1:hoff} ${2:voff} ${3:blur} ${4:#000};","tsh:r":"text-shadow:${1:h} ${2:v} ${3:blur} rgb(${4:0}, ${5:0}, ${6:0});","tsh:ra":"text-shadow:${1:h} ${2:v} ${3:blur} rgba(${4:0}, ${5:0}, ${6:0}, .${7:5});","tsh+":"text-shadow:${1:0} ${2:0} ${3:0} ${4:#000};","tsh:n":"text-shadow:none;",trf:"transform:|;","trf:skx":"transform: skewX(${1:angle});","trf:sky":"transform: skewY(${1:angle});","trf:sc":"transform: scale(${1:x}, ${2:y});","trf:scx":"transform: scaleX(${1:x});","trf:scy":"transform: scaleY(${1:y});","trf:scz":"transform: scaleZ(${1:z});","trf:sc3":"transform: scale3d(${1:x}, ${2:y}, ${3:z});","trf:r":"transform: rotate(${1:angle});","trf:rx":"transform: rotateX(${1:angle});","trf:ry":"transform: rotateY(${1:angle});","trf:rz":"transform: rotateZ(${1:angle});","trf:t":"transform: translate(${1:x}, ${2:y});","trf:tx":"transform: translateX(${1:x});","trf:ty":"transform: translateY(${1:y});","trf:tz":"transform: translateZ(${1:z});","trf:t3":"transform: translate3d(${1:tx}, ${2:ty}, ${3:tz});",trfo:"transform-origin:|;",trfs:"transform-style:${1:preserve-3d};",trs:"transition:${1:prop} ${2:time};",trsde:"transition-delay:${1:time};",trsdu:"transition-duration:${1:time};",trsp:"transition-property:${1:prop};",trstf:"transition-timing-function:${1:tfunc};",lh:"line-height:|;",whs:"white-space:|;","whs:n":"white-space:normal;","whs:p":"white-space:pre;","whs:nw":"white-space:nowrap;","whs:pw":"white-space:pre-wrap;","whs:pl":"white-space:pre-line;",whsc:"white-space-collapse:|;","whsc:n":"white-space-collapse:normal;","whsc:k":"white-space-collapse:keep-all;","whsc:l":"white-space-collapse:loose;","whsc:bs":"white-space-collapse:break-strict;","whsc:ba":"white-space-collapse:break-all;",wob:"word-break:|;","wob:n":"word-break:normal;","wob:k":"word-break:keep-all;","wob:ba":"word-break:break-all;",wos:"word-spacing:|;",wow:"word-wrap:|;","wow:nm":"word-wrap:normal;","wow:n":"word-wrap:none;","wow:u":"word-wrap:unrestricted;","wow:s":"word-wrap:suppress;","wow:b":"word-wrap:break-word;",wm:"writing-mode:${1:lr-tb};","wm:lrt":"writing-mode:lr-tb;","wm:lrb":"writing-mode:lr-bt;","wm:rlt":"writing-mode:rl-tb;","wm:rlb":"writing-mode:rl-bt;","wm:tbr":"writing-mode:tb-rl;","wm:tbl":"writing-mode:tb-lr;","wm:btl":"writing-mode:bt-lr;","wm:btr":"writing-mode:bt-rl;",lts:"letter-spacing:|;","lts-n":"letter-spacing:normal;",f:"font:|;","f+":"font:${1:1em} ${2:Arial,sans-serif};",fw:"font-weight:|;","fw:n":"font-weight:normal;","fw:b":"font-weight:bold;","fw:br":"font-weight:bolder;","fw:lr":"font-weight:lighter;",fs:"font-style:${italic};","fs:n":"font-style:normal;","fs:i":"font-style:italic;","fs:o":"font-style:oblique;",fv:"font-variant:|;","fv:n":"font-variant:normal;","fv:sc":"font-variant:small-caps;",fz:"font-size:|;",fza:"font-size-adjust:|;","fza:n":"font-size-adjust:none;",ff:"font-family:|;","ff:s":"font-family:serif;","ff:ss":"font-family:sans-serif;","ff:c":"font-family:cursive;","ff:f":"font-family:fantasy;","ff:m":"font-family:monospace;","ff:a":'font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;',"ff:t":'font-family: "Times New Roman", Times, Baskerville, Georgia, serif;',"ff:v":"font-family: Verdana, Geneva, sans-serif;",fef:"font-effect:|;","fef:n":"font-effect:none;","fef:eg":"font-effect:engrave;","fef:eb":"font-effect:emboss;","fef:o":"font-effect:outline;",fem:"font-emphasize:|;",femp:"font-emphasize-position:|;","femp:b":"font-emphasize-position:before;","femp:a":"font-emphasize-position:after;",fems:"font-emphasize-style:|;","fems:n":"font-emphasize-style:none;","fems:ac":"font-emphasize-style:accent;","fems:dt":"font-emphasize-style:dot;","fems:c":"font-emphasize-style:circle;","fems:ds":"font-emphasize-style:disc;",fsm:"font-smooth:|;","fsm:a":"font-smooth:auto;","fsm:n":"font-smooth:never;","fsm:aw":"font-smooth:always;",fst:"font-stretch:|;","fst:n":"font-stretch:normal;","fst:uc":"font-stretch:ultra-condensed;","fst:ec":"font-stretch:extra-condensed;","fst:c":"font-stretch:condensed;","fst:sc":"font-stretch:semi-condensed;","fst:se":"font-stretch:semi-expanded;","fst:e":"font-stretch:expanded;","fst:ee":"font-stretch:extra-expanded;","fst:ue":"font-stretch:ultra-expanded;",op:"opacity:|;","op+":"opacity: $1;\nfilter: alpha(opacity=$2);","op:ie":"filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=100);","op:ms":"-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=100)';",rsz:"resize:|;","rsz:n":"resize:none;","rsz:b":"resize:both;","rsz:h":"resize:horizontal;","rsz:v":"resize:vertical;",cur:"cursor:${pointer};","cur:a":"cursor:auto;","cur:d":"cursor:default;","cur:c":"cursor:crosshair;","cur:ha":"cursor:hand;","cur:he":"cursor:help;","cur:m":"cursor:move;","cur:p":"cursor:pointer;","cur:t":"cursor:text;",pgbb:"page-break-before:|;","pgbb:au":"page-break-before:auto;","pgbb:al":"page-break-before:always;","pgbb:l":"page-break-before:left;","pgbb:r":"page-break-before:right;",pgbi:"page-break-inside:|;","pgbi:au":"page-break-inside:auto;","pgbi:av":"page-break-inside:avoid;",pgba:"page-break-after:|;","pgba:au":"page-break-after:auto;","pgba:al":"page-break-after:always;","pgba:l":"page-break-after:left;","pgba:r":"page-break-after:right;",orp:"orphans:|;",us:"user-select:${none};",wid:"widows:|;",wfsm:"-webkit-font-smoothing:${antialiased};","wfsm:a":"-webkit-font-smoothing:antialiased;","wfsm:s":"-webkit-font-smoothing:subpixel-antialiased;","wfsm:sa":"-webkit-font-smoothing:subpixel-antialiased;","wfsm:n":"-webkit-font-smoothing:none;"}},html:{filters:"html",profile:"html",snippets:{"!!!":"<!DOCTYPE html>","!!!4t":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">',"!!!4s":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">',"!!!xt":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',"!!!xs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',"!!!xxs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',c:"<!-- |${child} -->","cc:ie6":"<!--[if lte IE 6]>\n	${child}|\n<![endif]-->","cc:ie":"<!--[if IE]>\n	${child}|\n<![endif]-->","cc:noie":"<!--[if !IE]><!-->\n	${child}|\n<!--<![endif]-->"},abbreviations:{"!":"html:5",a:'<a href="">',"a:link":'<a href="http://|">',"a:mail":'<a href="mailto:|">',abbr:'<abbr title="">',"acr|acronym":'<acronym title="">',base:'<base href="" />',basefont:"<basefont/>",br:"<br/>",frame:"<frame/>",hr:"<hr/>",bdo:'<bdo dir="">',"bdo:r":'<bdo dir="rtl">',"bdo:l":'<bdo dir="ltr">',col:"<col/>",link:'<link rel="stylesheet" href="" />',"link:css":'<link rel="stylesheet" href="${1:style}.css" />',"link:print":'<link rel="stylesheet" href="${1:print}.css" media="print" />',"link:favicon":'<link rel="shortcut icon" type="image/x-icon" href="${1:favicon.ico}" />',"link:touch":'<link rel="apple-touch-icon" href="${1:favicon.png}" />',"link:rss":'<link rel="alternate" type="application/rss+xml" title="RSS" href="${1:rss.xml}" />',"link:atom":'<link rel="alternate" type="application/atom+xml" title="Atom" href="${1:atom.xml}" />',meta:"<meta/>","meta:utf":'<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />',"meta:win":'<meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />',"meta:vp":'<meta name="viewport" content="width=${1:device-width}, user-scalable=${2:no}, initial-scale=${3:1.0}, maximum-scale=${4:1.0}, minimum-scale=${5:1.0}" />',"meta:compat":'<meta http-equiv="X-UA-Compatible" content="${1:IE=7}" />',style:"<style>",script:'<script !src="">',"script:src":'<script src="">',img:'<img src="" alt="" />',iframe:'<iframe src="" frameborder="0">',embed:'<embed src="" type="" />',object:'<object data="" type="">',param:'<param name="" value="" />',map:'<map name="">',area:'<area shape="" coords="" href="" alt="" />',"area:d":'<area shape="default" href="" alt="" />',"area:c":'<area shape="circle" coords="" href="" alt="" />',"area:r":'<area shape="rect" coords="" href="" alt="" />',"area:p":'<area shape="poly" coords="" href="" alt="" />',form:'<form action="">',"form:get":'<form action="" method="get">',"form:post":'<form action="" method="post">',label:'<label for="">',input:'<input type="${1:text}" />',inp:'<input type="${1:text}" name="" id="" />',"input:h|input:hidden":"input[type=hidden name]","input:t|input:text":"inp","input:search":"inp[type=search]","input:email":"inp[type=email]","input:url":"inp[type=url]","input:p|input:password":"inp[type=password]","input:datetime":"inp[type=datetime]","input:date":"inp[type=date]","input:datetime-local":"inp[type=datetime-local]","input:month":"inp[type=month]","input:week":"inp[type=week]","input:time":"inp[type=time]","input:tel":"inp[type=tel]","input:number":"inp[type=number]","input:color":"inp[type=color]","input:c|input:checkbox":"inp[type=checkbox]","input:r|input:radio":"inp[type=radio]","input:range":"inp[type=range]","input:f|input:file":"inp[type=file]","input:s|input:submit":'<input type="submit" value="" />',"input:i|input:image":'<input type="image" src="" alt="" />',"input:b|input:button":'<input type="button" value="" />',isindex:"<isindex/>","input:reset":"input:button[type=reset]",select:'<select name="" id="">',"select:d|select:disabled":"select[disabled.]","opt|option":'<option value="">',textarea:'<textarea name="" id="" cols="${1:30}" rows="${2:10}">',marquee:'<marquee behavior="" direction="">',"menu:c|menu:context":"menu[type=context]>","menu:t|menu:toolbar":"menu[type=toolbar]>",video:'<video src="">',audio:'<audio src="">',"html:xml":'<html xmlns="http://www.w3.org/1999/xhtml">',keygen:"<keygen/>",command:"<command/>","btn:s|button:s|button:submit":"button[type=submit]","btn:r|button:r|button:reset":"button[type=reset]","btn:d|button:d|button:disabled":"button[disabled.]","fst:d|fset:d|fieldset:d|fieldset:disabled":"fieldset[disabled.]",bq:"blockquote",fig:"figure",figc:"figcaption",ifr:"iframe",emb:"embed",obj:"object",src:"source",cap:"caption",colg:"colgroup",fst:"fieldset",btn:"button",optg:"optgroup",tarea:"textarea",leg:"legend",sect:"section",art:"article",hdr:"header",ftr:"footer",adr:"address",dlg:"dialog",str:"strong",prog:"progress",mn:"main",tem:"template",fset:"fieldset",datag:"datagrid",datal:"datalist",kg:"keygen",out:"output",det:"details",cmd:"command",doc:"html>(head>meta[charset=${charset}]+title{${1:Document}})+body",doc4:'html>(head>meta[http-equiv="Content-Type" content="text/html;charset=${charset}"]+title{${1:Document}})+body',"html:4t":"!!!4t+doc4[lang=${lang}]","html:4s":"!!!4s+doc4[lang=${lang}]","html:xt":"!!!xt+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:xs":"!!!xs+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:xxs":"!!!xxs+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:5":"!!!+doc[lang=${lang}]","ol+":"ol>li","ul+":"ul>li","dl+":"dl>dt+dd","map+":"map>area","table+":"table>tr>td","colgroup+":"colgroup>col","colg+":"colgroup>col","tr+":"tr>td","select+":"select>option","optgroup+":"optgroup>option","optg+":"optgroup>option"}},xml:{"extends":"html",profile:"xml",filters:"html"},xsl:{"extends":"html",profile:"xml",filters:"html, xsl",abbreviations:{"tm|tmatch":'<xsl:template match="" mode="">',"tn|tname":'<xsl:template name="">',call:'<xsl:call-template name=""/>',ap:'<xsl:apply-templates select="" mode=""/>',api:"<xsl:apply-imports/>",imp:'<xsl:import href=""/>',inc:'<xsl:include href=""/>',ch:"<xsl:choose>","wh|xsl:when":'<xsl:when test="">',ot:"<xsl:otherwise>","if":'<xsl:if test="">',par:'<xsl:param name="">',pare:'<xsl:param name="" select=""/>',"var":'<xsl:variable name="">',vare:'<xsl:variable name="" select=""/>',wp:'<xsl:with-param name="" select=""/>',key:'<xsl:key name="" match="" use=""/>',elem:'<xsl:element name="">',attr:'<xsl:attribute name="">',attrs:'<xsl:attribute-set name="">',cp:'<xsl:copy select=""/>',co:'<xsl:copy-of select=""/>',val:'<xsl:value-of select=""/>',"for|each":'<xsl:for-each select="">',tex:"<xsl:text></xsl:text>",com:"<xsl:comment>",msg:'<xsl:message terminate="no">',fall:"<xsl:fallback>",num:'<xsl:number value=""/>',nam:'<namespace-alias stylesheet-prefix="" result-prefix=""/>',pres:'<xsl:preserve-space elements=""/>',strip:'<xsl:strip-space elements=""/>',proc:'<xsl:processing-instruction name="">',sort:'<xsl:sort select="" order=""/>',"choose+":"xsl:choose>xsl:when+xsl:otherwise",xsl:"!!!+xsl:stylesheet[version=1.0 xmlns:xsl=http://www.w3.org/1999/XSL/Transform]>{\n|}"},snippets:{"!!!":'<?xml version="1.0" encoding="UTF-8"?>'}},haml:{filters:"haml","extends":"html",profile:"xml"},jade:{filters:"jade","extends":"html",profile:"xml"},slim:{filters:"slim","extends":"html",profile:"xml"},scss:{"extends":"css"},sass:{"extends":"css"},less:{"extends":"css"},stylus:{"extends":"css"},styl:{"extends":"stylus"}}
},{}],66:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){var e=t("../assets/elements"),n=t("../assets/tabStops"),r=t("../utils/common"),i=t("../resolver/tagName");return{isUnary:function(t){if(t.children.length||t._text||this.isSnippet(t))return!1;var e=t.data("resource");return e&&e.is_empty},isInline:function(t){return t.isTextNode()||!t.name()||i.isInlineLevel(t.name())},isBlock:function(t){return this.isSnippet(t)||!this.isInline(t)},isSnippet:function(t){return e.is(t.data("resource"),"snippet")},hasTagsInContent:function(t){return r.matchesTag(t.content)},hasBlockChildren:function(t){return this.hasTagsInContent(t)&&this.isBlock(t)||t.children.some(function(t){return this.isBlock(t)},this)},insertChildContent:function(t,e,i){i=r.extend({keepVariable:!0,appendIfNoChild:!0},i||{});var o=!1;return t=n.replaceVariables(t,function(n,a,s){var u=n;return"child"==a&&(u=r.padString(e,r.getLinePaddingFromPosition(t,s.start)),o=!0,i.keepVariable&&(u+=n)),u}),!o&&i.appendIfNoChild&&(t+=e),t}}})},{"../assets/elements":23,"../assets/tabStops":32,"../resolver/tagName":64,"../utils/common":70}],67:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){var e=t("./common"),n=t("./cssSections"),r=t("../parser/abbreviation"),i=t("../assets/htmlMatcher"),o=t("../editTree/xml"),a=t("../assets/range"),s=t("../assets/resources");return{mimeTypes:{gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",svg:"image/svg+xml",html:"text/html",htm:"text/html"},extractAbbreviation:function(t){for(var n=t.length,i=-1,o=0,a=0,s=0;;){if(n--,0>n){i=0;break}var u=t.charAt(n);if("]"==u)a++;else if("["==u){if(!a){i=n+1;break}a--}else if("}"==u)s++;else if("{"==u){if(!s){i=n+1;break}s--}else if(")"==u)o++;else if("("==u){if(!o){i=n+1;break}o--}else{if(a||s)continue;if(!r.isAllowedChar(u)||">"==u&&e.endsWithTag(t.substring(0,n+1))){i=n+1;break}}}return-1==i||s||a||o?"":t.substring(i).replace(/^[\*\+\>\^]+/,"")},getImageSize:function(t){var e="PNG\r\n\n",n="ÿØ",r="GIF8",i=0,o=function(){return t.charCodeAt(i++)};if(t.substr(0,8)===e)return i=t.indexOf("IHDR")+4,{width:o()<<24|o()<<16|o()<<8|o(),height:o()<<24|o()<<16|o()<<8|o()};if(t.substr(0,4)===r)return i=6,{width:o()|o()<<8,height:o()|o()<<8};if(t.substr(0,2)===n){i=2;for(var a=t.length;a>i;){if(255!=o())return;var s=o();if(218==s)break;var u=o()<<8|o();if(!(!(s>=192&&207>=s)||4&s||8&s))return i+=1,{height:o()<<8|o(),width:o()<<8|o()};i+=u-2}}},captureContext:function(t,e){var n={html:1,xml:1,xsl:1},r=t.getSyntax();if(r in n){var a=t.getContent();"undefined"==typeof e&&(e=t.getCaretPos());var s=i.find(a,e);if(s&&"tag"==s.type){var u=s.open,c={name:u.name,attributes:[],match:s},l=o.parse(u.range.substring(a));return l&&(c.attributes=l.getAll().map(function(t){return{name:t.name(),value:t.value()}})),c}}return null},findExpressionBounds:function(t,e){for(var n=String(t.getContent()),r=n.length,i=t.getCaretPos()-1,o=i+1;i>=0&&e(n.charAt(i),i,n);)i--;for(;r>o&&e(n.charAt(o),o,n);)o++;return o>i?a([++i,o]):void 0},compoundUpdate:function(t,e){if(e){var n=t.getSelectionRange();return t.replaceContent(e.data,e.start,e.end,!0),t.createSelection(e.caret,e.caret+n.end-n.start),!0}return!1},detectSyntax:function(t,e){var n=e||"html";return s.hasSyntax(n)||(n="html"),"html"==n&&(this.isStyle(t)||this.isInlineCSS(t))&&(n="css"),"styl"==n&&(n="stylus"),n},detectProfile:function(t){var e=t.getSyntax(),n=s.findItem(e,"profile");if(n)return n;switch(e){case"xml":case"xsl":return"xml";case"css":if(this.isInlineCSS(t))return"line";break;case"html":return n=s.getVariable("profile"),n||(n=this.isXHTML(t)?"xhtml":"html"),n}return"xhtml"},isXHTML:function(t){return-1!=t.getContent().search(/<!DOCTYPE[^>]+XHTML/i)},isStyle:function(t){return!!n.styleTagRange(t.getContent(),t.getCaretPos())},isSupportedCSS:function(t){return"css"==t||"less"==t||"scss"==t},isInlineCSS:function(t){return!!n.styleAttrRange(t.getContent(),t.getCaretPos())}}})},{"../assets/htmlMatcher":25,"../assets/range":29,"../assets/resources":30,"../editTree/xml":36,"../parser/abbreviation":52,"./common":70,"./cssSections":71}],68:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(e){for(var n,r,i,o,a,s,u,c,l,f,p=[],d=0,h=e.length,m=t;h>d;)c=e.charCodeAt(d++),l=e.charCodeAt(d++),f=e.charCodeAt(d++),n=255&c,r=255&l,i=255&f,o=n>>2,a=(3&n)<<4|r>>4,s=(15&r)<<2|i>>6,u=63&i,isNaN(l)?s=u=64:isNaN(f)&&(u=64),p.push(m.charAt(o)+m.charAt(a)+m.charAt(s)+m.charAt(u));return p.join("")},decode:function(e){var n,r,i,o,a,s,u,c,l=0,f=0,p=[],d=t,h=e.length;if(!e)return e;e+="";do o=d.indexOf(e.charAt(l++)),a=d.indexOf(e.charAt(l++)),s=d.indexOf(e.charAt(l++)),u=d.indexOf(e.charAt(l++)),c=o<<18|a<<12|s<<6|u,n=c>>16&255,r=c>>8&255,i=255&c,p[f++]=64==s?String.fromCharCode(n):64==u?String.fromCharCode(n,r):String.fromCharCode(n,r,i);while(h>l);return p.join("")}}})},{}],69:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){var e=t("./common"),n=(t("../assets/range"),t("../assets/stringStream")),r=/\/\*|\/\//;return{strip:function(t){if(!r.test(t))return t;for(var i,o,a=n(t),s=[];i=a.next();)if("/"===i){if(o=a.peek(),"*"===o)a.start=a.pos-1,a.skipTo("*/")?a.pos+=2:a.skipToEnd(),s.push([a.start,a.pos]);else if("/"===o){for(a.start=a.pos-1;(o=a.next())&&"\n"!==o&&"\r"!=o;);s.push([a.start,a.pos])}}else a.skipQuoted();return e.replaceWith(t,s," ")}}})},{"../assets/range":29,"../assets/stringStream":31,"./common":70}],70:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){var e=t("../assets/range"),n="${0}";return{reTag:/<\/?[\w:\-]+(?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*\s*(\/?)>$/,defaultSyntax:function(){return"html"},defaultProfile:function(){return"plain"},endsWithTag:function(t){return this.reTag.test(t)},isNumeric:function(t){return"string"==typeof t&&(t=t.charCodeAt(0)),t&&t>47&&58>t},trim:function(){return String.prototype.trim?function(t){return t?t.trim():""}:function(t){return(t||"").replace(/^\s+|\s+$/g,"")}}(),splitByLines:function(t,e){var n="\n",r=(t||"").replace(/\r\n/g,"\n").replace(/\n\r/g,"\n").replace(/\r/g,"\n").replace(/\n/g,n).split(n);return e&&(r=r.filter(function(t){return t.length&&!!this.trim(t)},this)),r},repeatString:function(t,e){for(var n="";e--;)n+=t;return n},getStringsPads:function(t){var e=t.map(function(t){return"string"==typeof t?t.length:+t}),n=e.reduce(function(t,e){return"undefined"==typeof t?e:Math.max(t,e)});return e.map(function(t){var e=n-t;return e?this.repeatString(" ",e):""},this)},padString:function(t,e){var n=[],r=this.splitByLines(t),i="\n";n.push(r[0]);for(var o=1;o<r.length;o++)n.push(i+e+r[o]);return n.join("")},zeroPadString:function(t,e){for(var n="",r=t.length;e>r++;)n+="0";return n+t},unindentString:function(t,e){for(var n,r=this.splitByLines(t),i=e.length,o=0,a=r.length;a>o;o++)n=r[o],n.substr(0,i)===e&&(r[o]=n.substr(i));return r.join("\n")},replaceUnescapedSymbol:function(t,e,n){for(var r=0,i=t.length,o=e.length,a=0;i>r;)if("\\"==t.charAt(r))r+=o+1;else if(t.substr(r,o)==e){var s=o;a++;var u=n;if("function"==typeof n){var c=n(t,e,r,a);c?(s=c[0].length,u=c[1]):u=!1}if(u===!1){r++;continue}t=t.substring(0,r)+u+t.substring(r+s),i=t.length,r+=u.length}else r++;return t},replaceCounter:function(t,e,n){var r="$";t=String(t),e=String(e),/^\-?\d+$/.test(e)&&(e=+e);var i=this;return this.replaceUnescapedSymbol(t,r,function(t,r,o){if("{"==t.charAt(o+1)||i.isNumeric(t.charAt(o+1)))return!1;for(var a=o+1;"$"==t.charAt(a)&&"{"!=t.charAt(a+1);)a++;var s,u=a-o,c=0,l=!1;return(s=t.substr(a).match(/^@(\-?)(\d*)/))&&(a+=s[0].length,s[1]&&(l=!0),c=parseInt(s[2]||1,10)-1),l&&n&&"number"==typeof e&&(e=n-e+1),e+=c,[t.substring(o,a),i.zeroPadString(e+"",u)]})},matchesTag:function(t){return this.reTag.test(t||"")},escapeText:function(t){return t.replace(/([\$\\])/g,"\\$1")},unescapeText:function(t){return t.replace(/\\(.)/g,"$1")},getCaretPlaceholder:function(){return"function"==typeof n?n.apply(this,arguments):n},setCaretPlaceholder:function(t){n=t},getLinePadding:function(t){return(t.match(/^(\s+)/)||[""])[0]},getLinePaddingFromPosition:function(t,e){var n=this.findNewlineBounds(t,e);return this.getLinePadding(n.substring(t))},escapeForRegexp:function(t){var e=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");return t.replace(e,"\\$&")},prettifyNumber:function(t,e){return t.toFixed("undefined"==typeof e?2:e).replace(/\.?0+$/,"")},replaceSubstring:function(t,e,n,r){return"object"==typeof n&&"end"in n&&(r=n.end,n=n.start),"string"==typeof r&&(r=n+r.length),"undefined"==typeof r&&(r=n),0>n||n>t.length?t:t.substring(0,n)+e+t.substring(r)},replaceWith:function(t,e,n,r){if(e.length){var i=0,o=[];e.forEach(function(e){var a=r?n:this.repeatString(n,e[1]-e[0]);o.push(t.substring(i,e[0]),a),i=e[1]},this),t=o.join("")+t.substring(i)}return t},narrowToNonSpace:function(t,n,r){for(var i=e.create(n,r),o=/[\s\n\r\u00a0]/;i.start<i.end&&o.test(t.charAt(i.start));)i.start++;for(;i.end>i.start;)if(i.end--,!o.test(t.charAt(i.end))){i.end++;break}return i},findNewlineBounds:function(t,n){for(var r,i=t.length,o=0,a=i-1,s=n-1;s>0;s--)if(r=t.charAt(s),"\n"==r||"\r"==r){o=s+1;break}for(var u=n;i>u;u++)if(r=t.charAt(u),"\n"==r||"\r"==r){a=u;break}return e.create(o,a-o)},deepMerge:function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length;for("object"!=typeof a&&"function"!=typeof a&&(a={});u>s;s++)if(null!==(t=arguments[s]))for(e in t)n=a[e],r=t[e],a!==r&&(r&&("object"==typeof r||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&"object"==typeof n?n:{},a[e]=this.deepMerge(o,r)):void 0!==r&&(a[e]=r));return a},parseJSON:function(t){if("object"==typeof t)return t;try{return JSON.parse(t)}catch(e){return{}}},unique:function(t,e){var n=[];return t.filter(function(t){var r=e?e(t):t;return n.indexOf(r)<0?(n.push(r),!0):void 0})},pick:function(t){var e={},n=this.toArray(arguments,1);return Object.keys(t).forEach(function(r){~n.indexOf(r)&&(e[r]=t[r])}),e},find:function(t,e,n){var r;return n&&(e=e.bind(n)),Array.isArray(t)?t.some(function(t,n){return e(t,n)?r=t:void 0}):Object.keys(t).some(function(n,i){return e(t[n],i)?r=t[n]:void 0}),r},toArray:function(t,e){return Array.isArray(t)&&!e?t:Array.prototype.slice.call(t,e||0)},extend:function(t){for(var e,n=1,r=arguments.length;r>n;n++)e=arguments[n],e&&Object.keys(e).forEach(function(n){t[n]=e[n]});return t},defaults:function(t){for(var e,n=1,r=arguments.length;r>n;n++)e=arguments[n],e&&Object.keys(e).forEach(function(n){n in t||(t[n]=e[n])});return t},flatten:function(t,e){e=e||[];var n=this;return n.toArray(t).forEach(function(t){Array.isArray(t)?n.flatten(t,e):e.push(t)}),e},clone:function(t){return Array.isArray(t)?t.slice(0):this.extend({},t)},without:function(t){return this.toArray(arguments,1).forEach(function(e){for(var n;~(n=t.indexOf(e));)t.splice(n,1)}),t},last:function(t){return t[t.length-1]}}})},{"../assets/range":29}],71:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t){return'"'==t||"'"==t}function n(){return l=(l+1)%f,"s"+l}function r(t,e){this.id=n(),this.parent=null,this.nextSibling=null,this.previousSibling=null,this._source=e,this._name=null,this._content=null,this._data={},!t&&e&&(t=a(0,e)),this.range=t,this.children=[]}var i=t("./common"),o=t("./comments"),a=t("../assets/range"),s=t("../assets/stringStream"),u=(t("../parser/css"),t("../assets/htmlMatcher")),c=t("../editTree/xml"),l=1,f=1e6,p=/^(\s*).+?(\s*)$/,d=/\s/g;return r.prototype={addChild:function(t){t instanceof r||(t=new r(t));var e=i.last(this.children);return e&&(e.nextSibling=t,t.previousSibling=e),t.parent=this,this.children.push(t),t},root:function(){var t=this;do if(!t.parent)return t;while(t=t.parent);return t},source:function(){return this._source||this.root()._source},name:function(){if(null===this._name){var t=this.nameRange();t&&(this._name=t.substring(this.source()))}return this._name},nameRange:function(){return this.range&&"_selectorEnd"in this.range?a.create2(this.range.start,this.range._selectorEnd):void 0},matchDeep:function(t){if(!this.range.inside(t))return null;for(var e,n=0,r=this.children.length;r>n;n++)if(e=this.children[n].matchDeep(t))return e;return this.parent?this:null},allRanges:function(){var t=[];return this.parent&&t.push(this.range),this.children.forEach(function(e){t=t.concat(e.allRanges())}),t},data:function(t,e){return"undefined"!=typeof e&&(this._data[t]=e),this._data[t]},stringify:function(t){t=t||"";var e="";return this.children.forEach(function(n){e+=t+n.name().replace(/\n/g,"\\n")+"\n",e+=n.stringify(t+"--")}),e},content:function(){if(null!==this._content)return this._content;if(!(this.range&&"_contentStart"in this.range))return"";var t=a.create2(this.range._contentStart+1,this.range.end-1),e=this.source(),n=t.start,r="";return this.children.forEach(function(t){r+=e.substring(n,t.range.start),n=t.range.end}),r+=e.substring(n,t.end),this._content=i.trim(r)}},{findAllRules:function(t){t=this.sanitize(t);for(var n,r,o=s(t),u=[],c=this,l=function(e){var n=c.extractSelector(t,e.start),r=a.create2(n.start,e.end);r._selectorEnd=n.end,r._contentStart=e.start,u.push(r)};r=o.next();)if(e(r)){if(!o.skipString(r))break}else"{"==r&&(n=this.matchBracesRanges(t,o.pos-1),n.forEach(l),n.length)&&(o.pos=i.last(n).end);return u.sort(function(t,e){return t.start-e.start})},matchBracesRanges:function(t,e,n){n&&(t=this.sanitize(t));var r=s(t);r.start=r.pos=e;for(var i,o=[],u=[];i=r.next();)if("{"==i)o.push(r.pos-1);else if("}"==i){if(!o.length)throw"Invalid source structure (check for curly braces)";if(u.push(a.create2(o.pop(),r.pos)),!o.length)return u}else r.skipQuoted();return u},extractSelector:function(t,e,n){n&&(t=this.sanitize(t));for(var r,i=function(){var n=t.charAt(e);if('"'==n||"'"==n){for(;--e>=0&&(t.charAt(e)!=n||"\\"==t.charAt(e-1)););return!0}return!1},o=e;--e>=0;)if(!i())if(r=t.charAt(e),")"!=r){if("{"==r||"}"==r||";"==r){e++;break}}else for(;--e>=0&&(i()||"("!=t.charAt(e)););0>e&&(e=0);var s=t.substring(e,o),u=s.replace(d," ").match(p);return u&&(e+=u[1].length,o-=u[2].length),a.create2(e,o)},matchEnclosingRule:function(t,e){"string"==typeof t&&(t=this.findAllRules(t));var n=t.filter(function(t){return t.inside(e)});return i.last(n)},locateRule:function(t,e,n){var r=0,i=this.styleTagRange(t,e);i&&(r=i.start,e-=i.start,t=i.substring(t));var o=this.findAllRules(t),a=this.matchEnclosingRule(o,e);if(a)return a.shift(r);for(var s=0,u=o.length;u>s;s++)if(o[s].start>e)return o[n?s-1:s].shift(r)},sanitize:function(t){t=o.strip(t);for(var n,r,a=s(t),u=[];n=a.next();)if(e(n))a.skipString(n);else if(("#"===n||"@"===n)&&(r=a.peek(),"{"===r)){if(a.start=a.pos-1,!a.skipTo("}"))throw"Invalid string interpolation at "+a.start;a.pos+=1,u.push([a.start,a.pos])}return i.replaceWith(t,u,"a")},sectionTree:function(t){var e=new r(null,t),n=this.findAllRules(t),i=function(t,n){for(;n&&n.range;){if(n.range.contains(t))return n.addChild(t);n=n.parent}return e.addChild(t)},o=e;return n.forEach(function(t){o=i(t,o)}),e},nestedSectionsInRule:function(t){var e=t.valueRange(!0).start,n=this.findAllRules(t.valueRange().substring(t.source));return n.forEach(function(t){t.start+=e,t.end+=e,t._selectorEnd+=e,t._contentStart+=e}),n},styleTagRange:function(t,e){var n=u.tag(t,e);return n&&"style"==n.open.name.toLowerCase()&&n.innerRange.cmp(e,"lte","gte")&&n.innerRange},styleAttrRange:function(t,e){var n=c.parseFromPosition(t,e,!0);if(n){var r=n.itemFromPosition(e,!0);return r&&"style"==r.name().toLowerCase()&&r.valueRange(!0).cmp(e,"lte","gte")&&r.valueRange(!0)}},CSSSection:r}})},{"../assets/htmlMatcher":25,"../assets/range":29,"../assets/stringStream":31,"../editTree/xml":36,"../parser/css":53,"./comments":69,"./common":70}],72:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){var e=t("./common"),n=t("../assets/resources");return{isInsideTag:function(t,e){for(var n=/^<\/?\w[\w\:\-]*.*?>/,r=e;r>-1&&"<"!=t.charAt(r);)r--;if(-1!=r){var i=n.exec(t.substring(r));if(i&&e>r&&e<r+i[0].length)return!0}return!1},outputInfo:function(t,e,n){return n=n||t.getProfileName(),{syntax:String(e||t.getSyntax()),profile:n||null,content:String(t.getContent())}},unindent:function(t,n){return e.unindentString(n,this.getCurrentLinePadding(t))},getCurrentLinePadding:function(t){return e.getLinePadding(t.getCurrentLine())},normalize:function(t,r){r=e.extend({newline:n.getNewline(),indentation:n.getVariable("indentation")},r);var i=/^\t+/,o=function(t){return e.repeatString(r.indentation,t.length)},a=e.splitByLines(t);return"	"!==r.indentation&&(a=a.map(function(t){return t.replace(i,o)})),a.join(r.newline)}}})},{"../assets/resources":30,"./common":70}],73:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(){function t(t){function e(){}return e.prototype=t,new e}function e(t,e,n,r){this.type_=t,this.index_=e||0,this.prio_=n||0,this.number_=void 0!==r&&null!==r?r:0,this.toString=function(){switch(this.type_){case g:return this.number_;case b:case v:case x:return this.index_;case y:return"CALL";default:return"Invalid Token"}}}function n(t,e,n,r){this.tokens=t,this.ops1=e,this.ops2=n,this.functions=r}function r(t){return"string"==typeof t?(w.lastIndex=0,w.test(t)?"'"+t.replace(w,function(t){var e=k[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+"'":"'"+t+"'"):t}function i(t,e){return Number(t)+Number(e)}function o(t,e){return t-e}function a(t,e){return t*e}function s(t,e){return t/e}function u(t,e){return t%e}function c(t,e){return""+t+e}function l(t){return-t}function f(t){return Math.random()*(t||1)}function p(t){t=Math.floor(t);for(var e=t;t>1;)e*=--t;return e}function d(t,e){return Math.sqrt(t*t+e*e)}function h(t,e){return"[object Array]"!=Object.prototype.toString.call(t)?[t,e]:(t=t.slice(),t.push(e),t)}function m(){this.success=!1,this.errormsg="",this.expression="",this.pos=0,this.tokennumber=0,this.tokenprio=0,this.tokenindex=0,this.tmpprio=0,this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sqrt:Math.sqrt,log:Math.log,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,"-":l,exp:Math.exp},this.ops2={"+":i,"-":o,"*":a,"/":s,"%":u,"^":Math.pow,",":h,"||":c},this.functions={random:f,fac:p,min:Math.min,max:Math.max,pyt:d,pow:Math.pow,atan2:Math.atan2},this.consts={E:Math.E,PI:Math.PI}}var g=0,b=1,v=2,x=3,y=4,w=/[\\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"};n.prototype={simplify:function(r){r=r||{};var i,o,a,s,u=[],c=[],l=this.tokens.length,f=0;for(f=0;l>f;f++){s=this.tokens[f];var p=s.type_;if(p===g)u.push(s);else if(p===x&&s.index_ in r)s=new e(g,0,0,r[s.index_]),u.push(s);else if(p===v&&u.length>1)o=u.pop(),i=u.pop(),a=this.ops2[s.index_],s=new e(g,0,0,a(i.number_,o.number_)),u.push(s);else if(p===b&&u.length>0)i=u.pop(),a=this.ops1[s.index_],s=new e(g,0,0,a(i.number_)),u.push(s);else{for(;u.length>0;)c.push(u.shift());c.push(s)}}for(;u.length>0;)c.push(u.shift());return new n(c,t(this.ops1),t(this.ops2),t(this.functions))},substitute:function(r,i){i instanceof n||(i=(new m).parse(String(i)));var o,a=[],s=this.tokens.length,u=0;for(u=0;s>u;u++){o=this.tokens[u];var c=o.type_;if(c===x&&o.index_===r)for(var l=0;l<i.tokens.length;l++){var f=i.tokens[l],p=new e(f.type_,f.index_,f.prio_,f.number_);a.push(p)}else a.push(o)}var d=new n(a,t(this.ops1),t(this.ops2),t(this.functions));return d},evaluate:function(t){t=t||{};var e,n,r,i,o=[],a=this.tokens.length,s=0;for(s=0;a>s;s++){i=this.tokens[s];var u=i.type_;if(u===g)o.push(i.number_);else if(u===v)n=o.pop(),e=o.pop(),r=this.ops2[i.index_],o.push(r(e,n));else if(u===x)if(i.index_ in t)o.push(t[i.index_]);else{if(!(i.index_ in this.functions))throw new Error("undefined variable: "+i.index_);o.push(this.functions[i.index_])}else if(u===b)e=o.pop(),r=this.ops1[i.index_],o.push(r(e));else{if(u!==y)throw new Error("invalid Expression");if(e=o.pop(),r=o.pop(),!r.apply||!r.call)throw new Error(r+" is not a function");o.push("[object Array]"==Object.prototype.toString.call(e)?r.apply(void 0,e):r.call(void 0,e))}}if(o.length>1)throw new Error("invalid Expression (parity)");return o[0]},toString:function(t){var e,n,i,o,a=[],s=this.tokens.length,u=0;for(u=0;s>u;u++){o=this.tokens[u];var c=o.type_;if(c===g)a.push(r(o.number_));else if(c===v)n=a.pop(),e=a.pop(),i=o.index_,a.push(t&&"^"==i?"Math.pow("+e+","+n+")":"("+e+i+n+")");else if(c===x)a.push(o.index_);else if(c===b)e=a.pop(),i=o.index_,a.push("-"===i?"("+i+e+")":i+"("+e+")");else{if(c!==y)throw new Error("invalid Expression");e=a.pop(),i=a.pop(),a.push(i+"("+e+")")}}if(a.length>1)throw new Error("invalid Expression (parity)");return a[0]},variables:function(){for(var t=this.tokens.length,e=[],n=0;t>n;n++){var r=this.tokens[n];r.type_===x&&-1==e.indexOf(r.index_)&&e.push(r.index_)}return e},toJSFunction:function(t,e){var n=new Function(t,"with(Parser.values) { return "+this.simplify(e).toString(!0)+"; }");return n}},m.parse=function(t){return(new m).parse(t)},m.evaluate=function(t,e){return m.parse(t).evaluate(e)},m.Expression=n,m.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sqrt:Math.sqrt,log:Math.log,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,random:f,fac:p,exp:Math.exp,min:Math.min,max:Math.max,pyt:d,pow:Math.pow,atan2:Math.atan2,E:Math.E,PI:Math.PI};var S=1,_=2,C=4,A=8,$=16,P=32,E=64,T=128,O=256;return m.prototype={parse:function(r){this.errormsg="",this.success=!0;var i=[],o=[];this.tmpprio=0;var a=S|A|C|E,s=0;for(this.expression=r,this.pos=0;this.pos<this.expression.length;)if(this.isOperator())this.isSign()&&a&E?(this.isNegativeSign()&&(this.tokenprio=2,this.tokenindex="-",s++,this.addfunc(o,i,b)),a=S|A|C|E):this.isComment()||(0===(a&_)&&this.error_parsing(this.pos,"unexpected operator"),s+=2,this.addfunc(o,i,v),a=S|A|C|E);else if(this.isNumber()){0===(a&S)&&this.error_parsing(this.pos,"unexpected number");var u=new e(g,0,0,this.tokennumber);o.push(u),a=_|$|P}else if(this.isString()){0===(a&S)&&this.error_parsing(this.pos,"unexpected string");var u=new e(g,0,0,this.tokennumber);o.push(u),a=_|$|P}else if(this.isLeftParenth())0===(a&A)&&this.error_parsing(this.pos,'unexpected "("'),a&T&&(s+=2,this.tokenprio=-2,this.tokenindex=-1,this.addfunc(o,i,y)),a=S|A|C|E|O;else if(this.isRightParenth()){if(a&O){var u=new e(g,0,0,[]);o.push(u)}else 0===(a&$)&&this.error_parsing(this.pos,'unexpected ")"');a=_|$|P|A|T}else if(this.isComma())0===(a&P)&&this.error_parsing(this.pos,'unexpected ","'),this.addfunc(o,i,v),s+=2,a=S|A|C|E;else if(this.isConst()){0===(a&S)&&this.error_parsing(this.pos,"unexpected constant");var c=new e(g,0,0,this.tokennumber);o.push(c),a=_|$|P}else if(this.isOp2())0===(a&C)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(o,i,v),s+=2,a=A;else if(this.isOp1())0===(a&C)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(o,i,b),s++,a=A;else if(this.isVar()){0===(a&S)&&this.error_parsing(this.pos,"unexpected variable");var l=new e(x,this.tokenindex,0,0);o.push(l),a=_|$|P|A|T}else this.isWhite()||(""===this.errormsg?this.error_parsing(this.pos,"unknown character"):this.error_parsing(this.pos,this.errormsg));for((this.tmpprio<0||this.tmpprio>=10)&&this.error_parsing(this.pos,'unmatched "()"');i.length>0;){var f=i.pop();o.push(f)}return s+1!==o.length&&this.error_parsing(this.pos,"parity"),new n(o,t(this.ops1),t(this.ops2),t(this.functions))},evaluate:function(t,e){return this.parse(t).evaluate(e)},error_parsing:function(t,e){throw this.success=!1,this.errormsg="parse error [column "+t+"]: "+e,new Error(this.errormsg)},addfunc:function(t,n,r){for(var i=new e(r,this.tokenindex,this.tokenprio+this.tmpprio,0);n.length>0&&i.prio_<=n[n.length-1].prio_;)t.push(n.pop());n.push(i)},isNumber:function(){for(var t=!1,e="";this.pos<this.expression.length;){var n=this.expression.charCodeAt(this.pos);if(!(n>=48&&57>=n||46===n))break;e+=this.expression.charAt(this.pos),this.pos++,this.tokennumber=parseFloat(e),t=!0}return t},unescape:function(t,e){for(var n=[],r=!1,i=0;i<t.length;i++){var o=t.charAt(i);if(r){switch(o){case"'":n.push("'");break;case"\\":n.push("\\");break;case"/":n.push("/");break;case"b":n.push("\b");break;case"f":n.push("\f");break;case"n":n.push("\n");break;case"r":n.push("\r");break;case"t":n.push("	");break;case"u":var a=parseInt(t.substring(i+1,i+5),16);n.push(String.fromCharCode(a)),i+=4;break;default:throw this.error_parsing(e+i,"Illegal escape sequence: '\\"+o+"'")}r=!1}else"\\"==o?r=!0:n.push(o)}return n.join("")},isString:function(){var t=!1,e="",n=this.pos;if(this.pos<this.expression.length&&"'"==this.expression.charAt(this.pos))for(this.pos++;this.pos<this.expression.length;){var r=this.expression.charAt(this.pos);if("'"==r&&"\\"!=e.slice(-1)){this.pos++,this.tokennumber=this.unescape(e,n),t=!0;break}e+=this.expression.charAt(this.pos),this.pos++}return t},isConst:function(){var t;for(var e in this.consts){var n=e.length;if(t=this.expression.substr(this.pos,n),e===t)return this.tokennumber=this.consts[e],this.pos+=n,!0}return!1},isOperator:function(){var t=this.expression.charCodeAt(this.pos);if(43===t)this.tokenprio=0,this.tokenindex="+";else if(45===t)this.tokenprio=0,this.tokenindex="-";else if(124===t){if(124!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=0,this.tokenindex="||"}else if(42===t)this.tokenprio=1,this.tokenindex="*";else if(47===t)this.tokenprio=2,this.tokenindex="/";else if(37===t)this.tokenprio=2,this.tokenindex="%";else{if(94!==t)return!1;this.tokenprio=3,this.tokenindex="^"}return this.pos++,!0},isSign:function(){var t=this.expression.charCodeAt(this.pos-1);return 45===t||43===t?!0:!1},isPositiveSign:function(){var t=this.expression.charCodeAt(this.pos-1);return 43===t?!0:!1},isNegativeSign:function(){var t=this.expression.charCodeAt(this.pos-1);return 45===t?!0:!1},isLeftParenth:function(){var t=this.expression.charCodeAt(this.pos);return 40===t?(this.pos++,this.tmpprio+=10,!0):!1},isRightParenth:function(){var t=this.expression.charCodeAt(this.pos);return 41===t?(this.pos++,this.tmpprio-=10,!0):!1},isComma:function(){var t=this.expression.charCodeAt(this.pos);return 44===t?(this.pos++,this.tokenprio=-1,this.tokenindex=",",!0):!1},isWhite:function(){var t=this.expression.charCodeAt(this.pos);return 32===t||9===t||10===t||13===t?(this.pos++,!0):!1},isOp1:function(){for(var t="",e=this.pos;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!=n&&("0">n||n>"9")))break;t+=n}return t.length>0&&t in this.ops1?(this.tokenindex=t,this.tokenprio=5,this.pos+=t.length,!0):!1},isOp2:function(){for(var t="",e=this.pos;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!=n&&("0">n||n>"9")))break;t+=n}return t.length>0&&t in this.ops2?(this.tokenindex=t,this.tokenprio=5,this.pos+=t.length,!0):!1},isVar:function(){for(var t="",e=this.pos;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!=n&&("0">n||n>"9")))break;t+=n}return t.length>0?(this.tokenindex=t,this.tokenprio=4,this.pos+=t.length,!0):!1},isComment:function(){var t=this.expression.charCodeAt(this.pos-1);return 47===t&&42===this.expression.charCodeAt(this.pos)?(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0):!1}},m})},{}],74:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t){for(var e=[],n=o(t);!n.eol();)","==n.peek()&&(e.push(a.trim(n.current())),n.next(),n.start=n.pos),n.next();return e.push(a.trim(n.current())),e.filter(function(t){return!!t})}function n(t){for(var n,r=null,i=o(t);!i.eol();){if("("==i.peek()){r=i.current(),i.start=i.pos,i.skipToPair("(",")",!0),n=i.current(),n=e(n.substring(1,n.length-1));break}i.next()}return r&&{name:r,args:n}}function r(t,e){if(/^['"]/.test(t))return t.replace(/^(['"])(.+?)\1$/,"$2");if(!isNaN(+t))return+t;if(t){for(var n=t.split("."),r=e;n.length;)r=r[n.shift()];return r}}function i(t,e){return t.replace(/<%[=\-](.+?)%>/g,function(t,i){i=a.trim(i);var o=n(i);if(o){var s=o.args.map(function(t){return r(t,e)});return e[o.name].apply(e,s)}return r(i,e)})}var o=t("../assets/stringStream"),a=t("./common");return function(t,e){return e?i(t,e):function(e){return i(t,e)}}})},{"../assets/stringStream":31,"./common":70}],75:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(t){function e(t,e,i){var o;return o=e&&e.hasOwnProperty("constructor")?e.constructor:function(){t.apply(this,arguments)},n.extend(o,t),r.prototype=t.prototype,o.prototype=new r,e&&n.extend(o.prototype,e),i&&n.extend(o,i),o.prototype.constructor=o,o.__super__=t.prototype,o}var n=t("../utils/common"),r=function(){};return{extend:function(t,n){var r=e(this,t,n);return r.extend=this.extend,t.hasOwnProperty("toString")&&(r.prototype.toString=t.toString),r}}})},{"../utils/common":70}],76:[function(t,e,n){if("object"==typeof e&&"function"!=typeof r)var r=function(r){e.exports=r(t,n,e)};r(function(){return{score:function(t,e,n){if(t==e)return 1;if(""==e)return 0;for(var r,i,o,a,s,u,c,l,f,p=0,d=e.length,h=t.length,m=1,g=0;d>g;++g){if(u=e.charAt(g),c=t.indexOf(u.toLowerCase()),l=t.indexOf(u.toUpperCase()),f=Math.min(c,l),s=f>-1?f:Math.max(c,l),-1===s){if(n){m+=1-n;continue}return 0}a=.1,t[s]===u&&(a+=.1),0===s?(a+=.6,0===g&&(r=1)):" "===t.charAt(s-1)&&(a+=.8),t=t.substring(s+1,h),p+=a}return i=p/d,o=(i*(d/h)+i)/2,o/=m,r&&1>o+.15&&(o+=.15),o}}})},{}]},{},[2,1])(2)});